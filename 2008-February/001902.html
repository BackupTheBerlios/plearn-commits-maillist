<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plearn-commits] r8454 - in trunk: plearn/math plearn_learners/regressors plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/Lear! nerExpdir/Strat0/Trials2/Split0
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plearn-commits/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:plearn-commits%40lists.berlios.de?Subject=Re%3A%20%5BPlearn-commits%5D%20r8454%20-%20in%20trunk%3A%20plearn/math%0A%20plearn_learners/regressors%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/Lear%21%0A%20nerExpdir/Strat0/Trials2/Split0&In-Reply-To=%3C200802042122.m14LMeYp016443%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001901.html">
   <LINK REL="Next"  HREF="001903.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plearn-commits] r8454 - in trunk: plearn/math plearn_learners/regressors plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/Lear! nerExpdir/Strat0/Trials2/Split0</H1>
    <B>nouiz at BerliOS</B> 
    <A HREF="mailto:plearn-commits%40lists.berlios.de?Subject=Re%3A%20%5BPlearn-commits%5D%20r8454%20-%20in%20trunk%3A%20plearn/math%0A%20plearn_learners/regressors%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2%0A%20plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/Lear%21%0A%20nerExpdir/Strat0/Trials2/Split0&In-Reply-To=%3C200802042122.m14LMeYp016443%40sheep.berlios.de%3E"
       TITLE="[Plearn-commits] r8454 - in trunk: plearn/math plearn_learners/regressors plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2 plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/Lear! nerExpdir/Strat0/Trials2/Split0">nouiz at mail.berlios.de
       </A><BR>
    <I>Mon Feb  4 22:22:40 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001901.html">[Plearn-commits] r8453 - trunk/plearn_learners/regressors
</A></li>
        <LI>Next message: <A HREF="001903.html">[Plearn-commits] r8455 - trunk/plearn_learners/online
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1902">[ date ]</a>
              <a href="thread.html#1902">[ thread ]</a>
              <a href="subject.html#1902">[ subject ]</a>
              <a href="author.html#1902">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: nouiz
Date: 2008-02-04 22:22:39 +0100 (Mon, 04 Feb 2008)
New Revision: 8454

Modified:
   trunk/plearn/math/pl_math.h
   trunk/plearn_learners/regressors/RegressionTreeNode.cc
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/RUN.log
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/test1_stats.psave
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/test2_stats.psave
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/train_stats.psave
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/global_stats.pmat
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/split_stats.pmat
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/test1_stats.psave
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/test2_stats.psave
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/train_stats.psave
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/global_stats.pmat
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/split_stats.pmat
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0results.pmat
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/final_learner.psave
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test1_costs.pmat
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test1_outputs.pmat
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test1_stats.psave
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test2_costs.pmat
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test2_outputs.pmat
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test2_stats.psave
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/train_stats.psave
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/global_stats.pmat
   trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/split_stats.pmat
Log:
fixed computation instability in PL_RegressionTree to different pressision of float/double in diferent computer.
For this I added is_more and fast_is_more in plearn/math/pl_math.h


Modified: trunk/plearn/math/pl_math.h
===================================================================
--- trunk/plearn/math/pl_math.h	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn/math/pl_math.h	2008-02-04 21:22:39 UTC (rev 8454)
@@ -235,6 +235,23 @@
     return (a &lt;= b &amp;&amp; b &lt;= a);
 }
 
+//! Test float inequality (but does not deal with 'nan' and 'inf' values).
+inline bool fast_is_more(real a, real b, real absolute_tolerance_threshold = 1.0, 
+                          real absolute_tolerance = ABSOLUTE_TOLERANCE,
+                          real relative_tolerance = RELATIVE_TOLERANCE)
+{
+    return !fast_is_equal(a,b,absolute_tolerance_threshold,absolute_tolerance,relative_tolerance) &amp;&amp; a&gt;b;
+}
+
+//! Test float inequality while dealling with 'nan' and 'inf' values.
+inline bool is_more(real a, real b, real absolute_tolerance_threshold = 1.0, 
+                          real absolute_tolerance = ABSOLUTE_TOLERANCE,
+                          real relative_tolerance = RELATIVE_TOLERANCE)
+{
+    return !is_equal(a,b,absolute_tolerance_threshold,absolute_tolerance,relative_tolerance) &amp;&amp; a&gt;b;
+
+}
+
 template&lt;class T&gt;
 inline T square(const T&amp; x)
 { return x*x; }

Modified: trunk/plearn_learners/regressors/RegressionTreeNode.cc
===================================================================
--- trunk/plearn_learners/regressors/RegressionTreeNode.cc	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/RegressionTreeNode.cc	2008-02-04 21:22:39 UTC (rev 8454)
@@ -265,9 +265,10 @@
     if (left_leave_last_feature &gt;= right_leave_first_feature) return;
     real work_error = missing_error[0] + missing_error[1] + left_error[0] + left_error[1] + right_error[0] + right_error[1];
     int work_balance = abs(left_leave-&gt;getLength() - right_leave-&gt;getLength());
-    if(split_col&lt;0);
-    else if (work_error &gt; after_split_error) return;
-    else if (work_error == after_split_error &amp;&amp; work_balance &gt; split_balance) return;
+    if (fast_is_more(work_error,after_split_error)) return;
+    else if (fast_is_equal(work_error,after_split_error) &amp;&amp;
+             fast_is_more(work_balance,split_balance)) return;
+
     split_col = col;
     split_feature_value = 0.5 * (right_leave_first_feature + left_leave_last_feature);
     after_split_error = work_error;

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/RUN.log
===================================================================
--- trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/RUN.log	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/RUN.log	2008-02-04 21:22:39 UTC (rev 8454)
@@ -1,5 +1,5 @@
 HyperLearner: starting the optimization
 split_cols: []
 
-split_cols: 1 1 1 1 1 1 1 2 1 1 1 1 2 1 1 1 3 2 3 2 
-split_cols: 1 1 1 1 1 1 1 2 1 1 1 1 2 1 1 1 3 2 3 2 3 3 3 1 3 3 1 2 1 3 3 3 1 3 1 1 1 1 3 3 
+split_cols: 1 1 1 1 1 1 1 2 1 1 1 1 2 1 1 1 3 2 3 3 
+split_cols: 1 1 1 1 1 1 1 2 1 1 1 1 2 1 1 1 3 2 3 3 3 3 3 1 3 3 1 2 3 3 3 3 1 3 1 3 3 1 3 3 

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/test1_stats.psave
===================================================================
--- trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/test1_stats.psave	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/test1_stats.psave	2008-02-04 21:22:39 UTC (rev 8454)
@@ -15,9 +15,9 @@
 nnonmissing_ = 150 ;
 sumsquarew_ = 150 ;
 sum_ = 8640.51363742984176 ;
-sumsquare_ = 1374774.3118040429 ;
-sumcube_ = 323112262.385960281 ;
-sumfourth_ = 93349681763.0307617 ;
+sumsquare_ = 1374774.31180404266 ;
+sumcube_ = 323112262.385960162 ;
+sumfourth_ = 93349681763.0307159 ;
 min_ = 0 ;
 max_ = 434.308100803600041 ;
 agmemin_ = 120 ;
@@ -57,9 +57,9 @@
 nnonmissing_ = 150 ;
 sumsquarew_ = 150 ;
 sum_ = -17281.0272748596835 ;
-sumsquare_ = 5499097.24721617159 ;
-sumcube_ = -2584898099.08768225 ;
-sumfourth_ = 1493594908208.49219 ;
+sumsquare_ = 5499097.24721617065 ;
+sumcube_ = -2584898099.08768129 ;
+sumfourth_ = 1493594908208.49146 ;
 min_ = -867.616201607200082 ;
 max_ = 1 ;
 agmemin_ = 102 ;
@@ -77,10 +77,10 @@
 nmissing_ = 0 ;
 nnonmissing_ = 150 ;
 sumsquarew_ = 150 ;
-sum_ = -1392.4175074365653 ;
-sumsquare_ = 24435.3412616714304 ;
-sumcube_ = -524149.893896332418 ;
-sumfourth_ = 13079901.8943236303 ;
+sum_ = -1392.41750743656576 ;
+sumsquare_ = 24435.3412616714268 ;
+sumcube_ = -524149.89389633236 ;
+sumfourth_ = 13079901.8943236265 ;
 min_ = -40.6801200000000023 ;
 max_ = 1 ;
 agmemin_ = 102 ;

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/test2_stats.psave
===================================================================
--- trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/test2_stats.psave	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/test2_stats.psave	2008-02-04 21:22:39 UTC (rev 8454)
@@ -14,7 +14,7 @@
 nmissing_ = 0 ;
 nnonmissing_ = 50 ;
 sumsquarew_ = 50 ;
-sum_ = 10321.7894884868674 ;
+sum_ = 10321.7894884868656 ;
 sumsquare_ = 71200030.8763843179 ;
 sumcube_ = 534446154111.910217 ;
 sumfourth_ = 4273059163655376.5 ;
@@ -56,7 +56,7 @@
 nmissing_ = 0 ;
 nnonmissing_ = 50 ;
 sumsquarew_ = 50 ;
-sum_ = -20643.5789769737348 ;
+sum_ = -20643.5789769737312 ;
 sumsquare_ = 284800123.505537271 ;
 sumcube_ = -4275569232895.28174 ;
 sumfourth_ = 68368946618486024 ;
@@ -77,7 +77,7 @@
 nmissing_ = 0 ;
 nnonmissing_ = 50 ;
 sumsquarew_ = 50 ;
-sum_ = -50.2688274199133431 ;
+sum_ = -50.2688274199132863 ;
 sumsquare_ = 38224.7447939705817 ;
 sumcube_ = -3656520.3377262922 ;
 sumfourth_ = 551819990.898841023 ;

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/train_stats.psave
===================================================================
--- trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/train_stats.psave	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/Split0/train_stats.psave	2008-02-04 21:22:39 UTC (rev 8454)
@@ -15,9 +15,9 @@
 nnonmissing_ = 150 ;
 sumsquarew_ = 150 ;
 sum_ = 8640.51363742984176 ;
-sumsquare_ = 1374774.3118040429 ;
-sumcube_ = 323112262.385960281 ;
-sumfourth_ = 93349681763.0307617 ;
+sumsquare_ = 1374774.31180404266 ;
+sumcube_ = 323112262.385960162 ;
+sumfourth_ = 93349681763.0307159 ;
 min_ = 0 ;
 max_ = 434.308100803600041 ;
 agmemin_ = 120 ;
@@ -57,9 +57,9 @@
 nnonmissing_ = 150 ;
 sumsquarew_ = 150 ;
 sum_ = -17281.0272748596835 ;
-sumsquare_ = 5499097.24721617159 ;
-sumcube_ = -2584898099.08768225 ;
-sumfourth_ = 1493594908208.49219 ;
+sumsquare_ = 5499097.24721617065 ;
+sumcube_ = -2584898099.08768129 ;
+sumfourth_ = 1493594908208.49146 ;
 min_ = -867.616201607200082 ;
 max_ = 1 ;
 agmemin_ = 102 ;
@@ -77,10 +77,10 @@
 nmissing_ = 0 ;
 nnonmissing_ = 150 ;
 sumsquarew_ = 150 ;
-sum_ = -1392.4175074365653 ;
-sumsquare_ = 24435.3412616714304 ;
-sumcube_ = -524149.893896332418 ;
-sumfourth_ = 13079901.8943236303 ;
+sum_ = -1392.41750743656576 ;
+sumsquare_ = 24435.3412616714268 ;
+sumcube_ = -524149.89389633236 ;
+sumfourth_ = 13079901.8943236265 ;
 min_ = -40.6801200000000023 ;
 max_ = 1 ;
 agmemin_ = 102 ;

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/global_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials1/split_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/test1_stats.psave
===================================================================
--- trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/test1_stats.psave	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/test1_stats.psave	2008-02-04 21:22:39 UTC (rev 8454)
@@ -78,9 +78,9 @@
 nnonmissing_ = 150 ;
 sumsquarew_ = 150 ;
 sum_ = 192.890804746032558 ;
-sumsquare_ = 3592.51670061680807 ;
-sumcube_ = 2141.61368714041009 ;
-sumfourth_ = 201415.693085262843 ;
+sumsquare_ = 3592.51670061680898 ;
+sumcube_ = 2141.61368714040918 ;
+sumfourth_ = 201415.693085262814 ;
 min_ = -21.6326733333333436 ;
 max_ = 1 ;
 agmemin_ = 16 ;

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/test2_stats.psave
===================================================================
--- trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/test2_stats.psave	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/test2_stats.psave	2008-02-04 21:22:39 UTC (rev 8454)
@@ -14,10 +14,10 @@
 nmissing_ = 0 ;
 nnonmissing_ = 50 ;
 sumsquarew_ = 50 ;
-sum_ = 10974.0895327640446 ;
-sumsquare_ = 76330936.5701396614 ;
-sumcube_ = 569842056881.908203 ;
-sumfourth_ = 4522877790823688 ;
+sum_ = 11204.3270149540895 ;
+sumsquare_ = 76349558.7474929094 ;
+sumcube_ = 569851029912.986938 ;
+sumfourth_ = 4522879206793045 ;
 min_ = 0.650915482711108107 ;
 max_ = 8311.49117606439722 ;
 agmemin_ = 17 ;
@@ -56,10 +56,10 @@
 nmissing_ = 0 ;
 nnonmissing_ = 50 ;
 sumsquarew_ = 50 ;
-sum_ = -21948.1790655280893 ;
-sumsquare_ = 305323746.280558646 ;
-sumcube_ = -4558736455055.26562 ;
-sumfourth_ = 72366044653179008 ;
+sum_ = -22408.6540299081789 ;
+sumsquare_ = 305398234.989971638 ;
+sumcube_ = -4558808239303.89551 ;
+sumfourth_ = 72366067308688720 ;
 min_ = -16621.9823521287944 ;
 max_ = -0.301830965422216213 ;
 agmemin_ = 35 ;
@@ -77,10 +77,10 @@
 nmissing_ = 0 ;
 nnonmissing_ = 50 ;
 sumsquarew_ = 50 ;
-sum_ = -61.8945591190477131 ;
-sumsquare_ = 40932.6337231527941 ;
-sumcube_ = -4578700.6447631754 ;
-sumfourth_ = 688955792.048339963 ;
+sum_ = -84.9389746746032586 ;
+sumsquare_ = 40750.1377623234584 ;
+sumcube_ = -4587593.35613886733 ;
+sumfourth_ = 688820550.749982357 ;
 min_ = -181.33475999999996 ;
 max_ = -0.61358666666666295 ;
 agmemin_ = 35 ;

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/train_stats.psave
===================================================================
--- trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/train_stats.psave	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/Split0/train_stats.psave	2008-02-04 21:22:39 UTC (rev 8454)
@@ -78,9 +78,9 @@
 nnonmissing_ = 150 ;
 sumsquarew_ = 150 ;
 sum_ = 192.890804746032558 ;
-sumsquare_ = 3592.51670061680807 ;
-sumcube_ = 2141.61368714041009 ;
-sumfourth_ = 201415.693085262843 ;
+sumsquare_ = 3592.51670061680898 ;
+sumcube_ = 2141.61368714040918 ;
+sumfourth_ = 201415.693085262814 ;
 min_ = -21.6326733333333436 ;
 max_ = 1 ;
 agmemin_ = 16 ;

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/global_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0/Trials2/split_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/LearnerExpdir/Strat0results.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/final_learner.psave
===================================================================
--- trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/final_learner.psave	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/final_learner.psave	2008-02-04 21:22:39 UTC (rev 8454)
@@ -107,7 +107,7 @@
 metadatadir = &quot;&quot;  )
 ;
 next_id = 244 ;
-leave_register = 150 [ 165 106 64 97 79 105 97 151 99 166 109 58 135 105 153 91 79 106 136 166 91 135 70 121 70 106 166 99 165 75 67 88 97 72 109 64 105 105 165 72 136 79 60 108 165 118 54 154 121 117 97 81 105 88 28 97 99 121 94 79 79 96 165 109 109 96 135 55 54 118 153 109 96 151 55 58 90 63 87 96 105 150 87 87 64 93 135 117 150 121 118 78 70 73 81 78 105 91 153 106 78 97 166 69 91 88 63 121 67 54 69 109 108 121 97 93 64 153 96 99 70 136 121 153 69 60 153 87 99 120 88 88 97 64 109 64 153 121 99 96 109 90 117 121 97 55 105 91 58 151 ] ;
+leave_register = 150 [ 165 106 64 97 79 105 97 150 99 166 109 58 135 105 153 91 79 106 136 166 91 135 70 121 70 106 166 99 165 75 67 88 97 72 109 64 105 105 165 72 136 79 60 108 165 118 54 154 121 117 97 81 105 88 28 97 99 121 93 79 79 96 165 109 109 96 135 55 54 118 153 109 96 150 55 58 90 63 87 96 105 151 87 87 64 94 135 117 151 121 118 78 70 73 81 78 105 91 153 106 78 97 166 69 91 88 63 121 67 54 69 109 108 121 97 94 64 153 96 99 70 136 121 153 69 60 153 87 99 120 88 88 97 64 109 64 153 121 99 96 109 90 117 121 97 55 105 91 58 150 ] ;
 writable = 0 ;
 length = 150 ;
 width = 6 ;
@@ -491,11 +491,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 1 ;
-weights_sum = 0.00666666666666666709 ;
-targets_sum = -177.497500000000002 ;
-weighted_targets_sum = -1.18331666666666679 ;
-weighted_squared_targets_sum = 210.035750041666688 ;
+length = 0 ;
+weights_sum = 0 ;
+targets_sum = 0 ;
+weighted_targets_sum = 0 ;
+weighted_squared_targets_sum = 0 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -625,11 +625,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 1 ;
-weights_sum = 0.00666666666666666709 ;
-targets_sum = -175.837510000000009 ;
-weighted_targets_sum = -1.17225006666666687 ;
-weighted_squared_targets_sum = 206.1255328200007 ;
+length = 0 ;
+weights_sum = 0 ;
+targets_sum = 0 ;
+weighted_targets_sum = 0 ;
+weighted_squared_targets_sum = 0 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -728,10 +728,10 @@
 leave = *49  ;
 leave_output = 2 [ -150.613133333333337 1 ] ;
 leave_error = 3 [ 0.282992137883448458 0 0.0400000000000000008 ] ;
-split_col = 1 ;
+split_col = 3 ;
 split_balance = 1 ;
-split_feature_value = -1.51283000000000012 ;
-after_split_error = 0.00999469557589860447 ;
+split_feature_value = -3.13504000000000005 ;
+after_split_error = 0.00999469557601595504 ;
 missing_node = *0 ;
 missing_leave = *50 -&gt;RegressionTreeLeave(
 id = 197 ;
@@ -1668,10 +1668,10 @@
 leave = *105  ;
 leave_output = 2 [ -70.2812399999999968 1 ] ;
 leave_error = 3 [ 0.553167864882681992 0 0.0400000000000000008 ] ;
-split_col = 1 ;
+split_col = 3 ;
 split_balance = 1 ;
-split_feature_value = -0.627214999999999967 ;
-after_split_error = 0.168978629290664761 ;
+split_feature_value = -2.23238499999999984 ;
+after_split_error = 0.168978629290691268 ;
 missing_node = *0 ;
 missing_leave = *106 -&gt;RegressionTreeLeave(
 id = 143 ;
@@ -2019,10 +2019,10 @@
 leave = *126  ;
 leave_output = 2 [ -39.6486500000000035 1 ] ;
 leave_error = 3 [ 0.636608327434661891 0 0.0666666666666666657 ] ;
-split_col = 1 ;
+split_col = 3 ;
 split_balance = 3 ;
-split_feature_value = -0.401110000000000022 ;
-after_split_error = 0.405305692174637633 ;
+split_feature_value = -1.56711 ;
+after_split_error = 0.405305692174654175 ;
 missing_node = *0 ;
 missing_leave = *127 -&gt;RegressionTreeLeave(
 id = 191 ;
@@ -2289,10 +2289,10 @@
 leave = *142  ;
 leave_output = 2 [ -23.9631660000000011 1 ] ;
 leave_error = 3 [ 2.9916037008709373 0 0.0666666666666666657 ] ;
-split_col = 1 ;
+split_col = 3 ;
 split_balance = 1 ;
-split_feature_value = -0.215794999999999987 ;
-after_split_error = 0.746847325971322307 ;
+split_feature_value = -2.12482499999999996 ;
+after_split_error = 0.746847325971338849 ;
 missing_node = *0 ;
 missing_leave = *143 -&gt;RegressionTreeLeave(
 id = 149 ;
@@ -2321,11 +2321,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 2 ;
-weights_sum = 0.0133333333333333342 ;
-targets_sum = -62.1399899999999974 ;
-weighted_targets_sum = -0.41426660000000004 ;
-weighted_squared_targets_sum = 12.9961512182033356 ;
+length = 3 ;
+weights_sum = 0.0200000000000000004 ;
+targets_sum = -57.6758400000000009 ;
+weighted_targets_sum = -0.384505600000000003 ;
+weighted_squared_targets_sum = 7.64076145701733456 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -2334,12 +2334,12 @@
 ;
 train_set = *8  ;
 leave = *145  ;
-leave_output = 2 [ -31.0699950000000022 1 ] ;
-leave_error = 3 [ 0.2497800550726679 0 0.0266666666666666684 ] ;
-split_col = 3 ;
-split_balance = 0 ;
-split_feature_value = -1.68244499999999997 ;
-after_split_error = 0 ;
+leave_output = 2 [ -19.2252800000000015 1 ] ;
+leave_error = 3 [ 0.4970672708986692 0 0.0400000000000000008 ] ;
+split_col = 1 ;
+split_balance = 1 ;
+split_feature_value = -0.10633999999999999 ;
+after_split_error = 0.00781290769066451431 ;
 missing_node = *0 ;
 missing_leave = *146 -&gt;RegressionTreeLeave(
 id = 215 ;
@@ -2366,10 +2366,10 @@
 verbosity = 2 ;
 train_set = *8  ;
 length = 1 ;
-weights_sum = 0.00666666666666666709 ;
-targets_sum = -28.0094799999999964 ;
-weighted_targets_sum = -0.186729866666666688 ;
-weighted_squared_targets_sum = 5.23020646580266568 ;
+weights_sum = 0.00666666666666666536 ;
+targets_sum = -22.2395500000000013 ;
+weighted_targets_sum = -0.148263666666666655 ;
+weighted_squared_targets_sum = 3.29731722801666738 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -2383,11 +2383,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 1 ;
-weights_sum = 0.00666666666666666709 ;
-targets_sum = -34.130510000000001 ;
-weighted_targets_sum = -0.227536733333333352 ;
-weighted_squared_targets_sum = 7.76594475240066817 ;
+length = 2 ;
+weights_sum = 0.0133333333333333342 ;
+targets_sum = -35.4362899999999996 ;
+weighted_targets_sum = -0.236241933333333348 ;
+weighted_squared_targets_sum = 4.34344422900066718 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -2406,11 +2406,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 3 ;
-weights_sum = 0.0200000000000000004 ;
-targets_sum = -57.6758400000000009 ;
-weighted_targets_sum = -0.384505600000000058 ;
-weighted_squared_targets_sum = 7.64076145701733456 ;
+length = 2 ;
+weights_sum = 0.0133333333333333342 ;
+targets_sum = -62.1399899999999974 ;
+weighted_targets_sum = -0.41426660000000004 ;
+weighted_squared_targets_sum = 12.9961512182033339 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -2419,12 +2419,12 @@
 ;
 train_set = *8  ;
 leave = *150  ;
-leave_output = 2 [ -19.2252800000000015 1 ] ;
-leave_error = 3 [ 0.497067270898664926 0 0.0400000000000000008 ] ;
-split_col = 1 ;
-split_balance = 1 ;
-split_feature_value = -0.10633999999999999 ;
-after_split_error = 0.00781290769066451431 ;
+leave_output = 2 [ -31.0699950000000022 1 ] ;
+leave_error = 3 [ 0.249780055072664348 0 0.0266666666666666684 ] ;
+split_col = 3 ;
+split_balance = 0 ;
+split_feature_value = -1.68244499999999997 ;
+after_split_error = 0 ;
 missing_node = *0 ;
 missing_leave = *151 -&gt;RegressionTreeLeave(
 id = 218 ;
@@ -2451,10 +2451,10 @@
 verbosity = 2 ;
 train_set = *8  ;
 length = 1 ;
-weights_sum = 0.00666666666666666536 ;
-targets_sum = -22.2395500000000013 ;
-weighted_targets_sum = -0.148263666666666655 ;
-weighted_squared_targets_sum = 3.29731722801666738 ;
+weights_sum = 0.00666666666666666709 ;
+targets_sum = -28.0094799999999964 ;
+weighted_targets_sum = -0.186729866666666688 ;
+weighted_squared_targets_sum = 5.23020646580266568 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -2468,11 +2468,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 2 ;
-weights_sum = 0.0133333333333333342 ;
-targets_sum = -35.4362899999999996 ;
-weighted_targets_sum = -0.236241933333333348 ;
-weighted_squared_targets_sum = 4.34344422900066718 ;
+length = 1 ;
+weights_sum = 0.00666666666666666709 ;
+targets_sum = -34.130510000000001 ;
+weighted_targets_sum = -0.227536733333333352 ;
+weighted_squared_targets_sum = 7.76594475240066817 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -2669,11 +2669,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 1 ;
-weights_sum = 0.00666666666666666709 ;
-targets_sum = 4.87410000000000032 ;
-weighted_targets_sum = 0.032494000000000002 ;
-weighted_squared_targets_sum = 0.158379005400000022 ;
+length = 0 ;
+weights_sum = 0 ;
+targets_sum = 0 ;
+weighted_targets_sum = 0 ;
+weighted_squared_targets_sum = 0 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -4386,10 +4386,10 @@
 leave = *267  ;
 leave_output = 2 [ 115.786709166666668 1 ] ;
 leave_error = 3 [ 16.7309274270517392 0 0.160000000000000003 ] ;
-split_col = 2 ;
+split_col = 3 ;
 split_balance = 8 ;
-split_feature_value = 16.504294999999999 ;
-after_split_error = 6.78331317461814542 ;
+split_feature_value = 3.03715500000000027 ;
+after_split_error = 6.78331317461888439 ;
 missing_node = *0 ;
 missing_leave = *268 -&gt;RegressionTreeLeave(
 id = 65 ;
@@ -4421,8 +4421,8 @@
 length = 10 ;
 weights_sum = 0.0666666666666666657 ;
 targets_sum = 1122.60447999999997 ;
-weighted_targets_sum = 7.48402986666666781 ;
-weighted_squared_targets_sum = 843.26523310528944 ;
+weighted_targets_sum = 7.48402986666666692 ;
+weighted_squared_targets_sum = 843.265233105289326 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -4431,12 +4431,12 @@
 ;
 train_set = *8  ;
 leave = *270  ;
-leave_output = 2 [ 112.260448000000025 1 ] ;
-leave_error = 3 [ 6.20937485581771398 0 0.133333333333333331 ] ;
-split_col = 1 ;
+leave_output = 2 [ 112.260448000000011 1 ] ;
+leave_error = 3 [ 6.20937485581785609 0 0.133333333333333331 ] ;
+split_col = 3 ;
 split_balance = 8 ;
-split_feature_value = 1.01285500000000006 ;
-after_split_error = 1.72287732250566372 ;
+split_feature_value = -0.972770000000000024 ;
+after_split_error = 1.72287732250645886 ;
 missing_node = *0 ;
 missing_leave = *271 -&gt;RegressionTreeLeave(
 id = 119 ;
@@ -4509,11 +4509,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 1 ;
-weights_sum = 0.00666666666666666709 ;
-targets_sum = 94.8581899999999933 ;
-weighted_targets_sum = 0.632387933333333319 ;
-weighted_squared_targets_sum = 59.9871747338406607 ;
+length = 0 ;
+weights_sum = 0 ;
+targets_sum = 0 ;
+weighted_targets_sum = 0 ;
+weighted_squared_targets_sum = 0 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -4553,8 +4553,8 @@
 length = 9 ;
 weights_sum = 0.0600000000000000047 ;
 targets_sum = 1027.74629000000004 ;
-weighted_targets_sum = 6.85164193333333404 ;
-weighted_squared_targets_sum = 783.278058371448765 ;
+weighted_targets_sum = 6.85164193333333316 ;
+weighted_squared_targets_sum = 783.278058371448651 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -4563,8 +4563,8 @@
 ;
 train_set = *8  ;
 leave = *278  ;
-leave_output = 2 [ 114.194032222222219 1 ] ;
-leave_error = 3 [ 1.72287732250623149 0 0.120000000000000009 ] ;
+leave_output = 2 [ 114.194032222222205 1 ] ;
+leave_error = 3 [ 1.72287732250634451 0 0.120000000000000009 ] ;
 split_col = 1 ;
 split_balance = 7 ;
 split_feature_value = 1.03719500000000009 ;
@@ -4786,10 +4786,10 @@
 leave = *291  ;
 leave_output = 2 [ 132.685306666666662 1 ] ;
 leave_error = 3 [ 0.212531887024959398 0 0.0400000000000000008 ] ;
-split_col = 1 ;
+split_col = 3 ;
 split_balance = 1 ;
-split_feature_value = 1.33162500000000006 ;
-after_split_error = 0.0504540736025838044 ;
+split_feature_value = 0.0478799999999999781 ;
+after_split_error = 0.0504540736027003778 ;
 missing_node = *0 ;
 missing_leave = *292 -&gt;RegressionTreeLeave(
 id = 137 ;
@@ -4871,10 +4871,10 @@
 leave = *296  ;
 leave_output = 2 [ 150.242892500000011 1 ] ;
 leave_error = 3 [ 0.171230390915363406 0 0.0533333333333333368 ] ;
-split_col = 1 ;
+split_col = 3 ;
 split_balance = 2 ;
-split_feature_value = 1.42736499999999999 ;
-after_split_error = 0.0180043344341506151 ;
+split_feature_value = 1.30223500000000003 ;
+after_split_error = 0.0180043344344157363 ;
 missing_node = *0 ;
 missing_leave = *297 -&gt;RegressionTreeLeave(
 id = 140 ;
@@ -5273,10 +5273,10 @@
 leave = *320  ;
 leave_output = 2 [ 201.471246666666701 1 ] ;
 leave_error = 3 [ 2.40226730640564057 0 0.0400000000000000008 ] ;
-split_col = 1 ;
+split_col = 3 ;
 split_balance = 1 ;
-split_feature_value = 1.97313999999999989 ;
-after_split_error = 0.166055228482320016 ;
+split_feature_value = 1.45652000000000004 ;
+after_split_error = 0.166055228482390183 ;
 missing_node = *0 ;
 missing_leave = *321 -&gt;RegressionTreeLeave(
 id = 92 ;
@@ -5305,11 +5305,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 2 ;
-weights_sum = 0.0133333333333333342 ;
-targets_sum = 392.368439999999964 ;
-weighted_targets_sum = 2.61578960000000027 ;
-weighted_squared_targets_sum = 513.259669974353301 ;
+length = 1 ;
+weights_sum = 0.00666666666666666709 ;
+targets_sum = 212.045299999999997 ;
+weighted_targets_sum = 1.41363533333333335 ;
+weighted_squared_targets_sum = 299.754728347266678 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -5318,12 +5318,12 @@
 ;
 train_set = *8  ;
 leave = *323  ;
-leave_output = 2 [ 196.18422000000001 1 ] ;
-leave_error = 3 [ 0.166055228482390183 0 0.0266666666666666684 ] ;
-split_col = 3 ;
-split_balance = 0 ;
-split_feature_value = 2.6831649999999998 ;
-after_split_error = 0 ;
+leave_output = 2 [ 212.045299999999997 1 ] ;
+leave_error = 3 [ 0 0 0 ] ;
+split_col = -1 ;
+split_balance = 2147483647 ;
+split_feature_value = 1.79769313486231571e+308 ;
+after_split_error = 1.79769313486231571e+308 ;
 missing_node = *0 ;
 missing_leave = *324 -&gt;RegressionTreeLeave(
 id = 221 ;
@@ -5349,11 +5349,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 1 ;
-weights_sum = 0.00666666666666666709 ;
-targets_sum = 193.688809999999961 ;
-weighted_targets_sum = 1.29125873333333341 ;
-weighted_squared_targets_sum = 250.102367461440622 ;
+length = 0 ;
+weights_sum = 0 ;
+targets_sum = 0 ;
+weighted_targets_sum = 0 ;
+weighted_squared_targets_sum = 0 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -5367,11 +5367,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 1 ;
-weights_sum = 0.00666666666666666709 ;
-targets_sum = 198.679630000000003 ;
-weighted_targets_sum = 1.32453086666666686 ;
-weighted_squared_targets_sum = 263.157302512912679 ;
+length = 0 ;
+weights_sum = 0 ;
+targets_sum = 0 ;
+weighted_targets_sum = 0 ;
+weighted_squared_targets_sum = 0 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -5390,11 +5390,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 1 ;
-weights_sum = 0.00666666666666666709 ;
-targets_sum = 212.045299999999997 ;
-weighted_targets_sum = 1.41363533333333335 ;
-weighted_squared_targets_sum = 299.754728347266678 ;
+length = 2 ;
+weights_sum = 0.0133333333333333342 ;
+targets_sum = 392.368439999999964 ;
+weighted_targets_sum = 2.61578960000000027 ;
+weighted_squared_targets_sum = 513.259669974353301 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -5403,12 +5403,12 @@
 ;
 train_set = *8  ;
 leave = *328  ;
-leave_output = 2 [ 212.045299999999997 1 ] ;
-leave_error = 3 [ 0 0 0 ] ;
-split_col = -1 ;
-split_balance = 2147483647 ;
-split_feature_value = 1.79769313486231571e+308 ;
-after_split_error = 1.79769313486231571e+308 ;
+leave_output = 2 [ 196.18422000000001 1 ] ;
+leave_error = 3 [ 0.166055228482390183 0 0.0266666666666666684 ] ;
+split_col = 3 ;
+split_balance = 0 ;
+split_feature_value = 2.6831649999999998 ;
+after_split_error = 0 ;
 missing_node = *0 ;
 missing_leave = *329 -&gt;RegressionTreeLeave(
 id = 224 ;
@@ -5436,9 +5436,9 @@
 train_set = *8  ;
 length = 1 ;
 weights_sum = 0.00666666666666666709 ;
-targets_sum = 212.045299999999997 ;
-weighted_targets_sum = 1.41363533333333335 ;
-weighted_squared_targets_sum = 299.754728347266678 ;
+targets_sum = 193.688809999999961 ;
+weighted_targets_sum = 1.29125873333333341 ;
+weighted_squared_targets_sum = 250.102367461440622 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -5452,11 +5452,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 0 ;
-weights_sum = 0 ;
-targets_sum = 0 ;
-weighted_targets_sum = 0 ;
-weighted_squared_targets_sum = 0 ;
+length = 1 ;
+weights_sum = 0.00666666666666666709 ;
+targets_sum = 198.679630000000003 ;
+weighted_targets_sum = 1.32453086666666686 ;
+weighted_squared_targets_sum = 263.157302512912679 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -5523,11 +5523,11 @@
 loss_function_weight = 1 ;
 verbosity = 2 ;
 train_set = *8  ;
-length = 1 ;
-weights_sum = 0.00666666666666666709 ;
-targets_sum = 287.378629999999987 ;
-weighted_targets_sum = 1.91585753333333342 ;
-weighted_squared_targets_sum = 550.576513204512594 ;
+length = 0 ;
+weights_sum = 0 ;
+targets_sum = 0 ;
+weighted_targets_sum = 0 ;
+weighted_squared_targets_sum = 0 ;
 loss_function_factor = 2 ;
 output = []
 ;
@@ -5565,12 +5565,12 @@
 verbosity = 2 ;
 maximum_number_of_nodes = 50 ;
 next_available_node = 35 ;
-nodes = 50 [ *85  *90  *157  *242  *205  *197  *309  *149  *170  *130  *104  *277  *192  *48  *213  *144  *69  *282  *109  *314  *290  *218  *175  *237  *117  *250  *255  *125  *53  *295  *229  *322  *80  *27  *64  *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 ]  )
+nodes = 50 [ *85  *90  *157  *242  *205  *197  *309  *144  *170  *130  *104  *277  *192  *48  *213  *314  *69  *282  *109  *149  *290  *218  *175  *237  *117  *250  *255  *125  *53  *295  *229  *327  *80  *27  *64  *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 *0 ]  )
 ;
 first_leave = *13  ;
 first_leave_output = 2 [ 16.0069061333332954 1 ] ;
 first_leave_error = 3 [ 17733.6216534378291 0 2.00000000000000488 ] ;
-split_cols = 40 [ 1 1 1 1 1 1 1 2 1 1 1 1 2 1 1 1 3 2 3 2 3 3 3 1 3 3 1 2 1 3 3 3 1 3 1 1 1 1 3 3 ] ;
+split_cols = 40 [ 1 1 1 1 1 1 1 2 1 1 1 1 2 1 1 1 3 2 3 3 3 3 3 1 3 3 1 2 3 3 3 3 1 3 1 3 3 1 3 3 ] ;
 random_gen = *0 ;
 seed = 1827 ;
 stage = 41 ;

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test1_costs.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test1_outputs.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test1_stats.psave
===================================================================
--- trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test1_stats.psave	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test1_stats.psave	2008-02-04 21:22:39 UTC (rev 8454)
@@ -78,9 +78,9 @@
 nnonmissing_ = 150 ;
 sumsquarew_ = 150 ;
 sum_ = 192.890804746032558 ;
-sumsquare_ = 3592.51670061680807 ;
-sumcube_ = 2141.61368714041009 ;
-sumfourth_ = 201415.693085262843 ;
+sumsquare_ = 3592.51670061680898 ;
+sumcube_ = 2141.61368714040918 ;
+sumfourth_ = 201415.693085262814 ;
 min_ = -21.6326733333333436 ;
 max_ = 1 ;
 agmemin_ = 16 ;

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test2_costs.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test2_outputs.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test2_stats.psave
===================================================================
--- trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test2_stats.psave	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/test2_stats.psave	2008-02-04 21:22:39 UTC (rev 8454)
@@ -14,10 +14,10 @@
 nmissing_ = 0 ;
 nnonmissing_ = 50 ;
 sumsquarew_ = 50 ;
-sum_ = 10974.0895327640446 ;
-sumsquare_ = 76330936.5701396614 ;
-sumcube_ = 569842056881.908203 ;
-sumfourth_ = 4522877790823688 ;
+sum_ = 11204.3270149540895 ;
+sumsquare_ = 76349558.7474929094 ;
+sumcube_ = 569851029912.986938 ;
+sumfourth_ = 4522879206793045 ;
 min_ = 0.650915482711108107 ;
 max_ = 8311.49117606439722 ;
 agmemin_ = 17 ;
@@ -56,10 +56,10 @@
 nmissing_ = 0 ;
 nnonmissing_ = 50 ;
 sumsquarew_ = 50 ;
-sum_ = -21948.1790655280893 ;
-sumsquare_ = 305323746.280558646 ;
-sumcube_ = -4558736455055.26562 ;
-sumfourth_ = 72366044653179008 ;
+sum_ = -22408.6540299081789 ;
+sumsquare_ = 305398234.989971638 ;
+sumcube_ = -4558808239303.89551 ;
+sumfourth_ = 72366067308688720 ;
 min_ = -16621.9823521287944 ;
 max_ = -0.301830965422216213 ;
 agmemin_ = 35 ;
@@ -77,10 +77,10 @@
 nmissing_ = 0 ;
 nnonmissing_ = 50 ;
 sumsquarew_ = 50 ;
-sum_ = -61.8945591190477131 ;
-sumsquare_ = 40932.6337231527941 ;
-sumcube_ = -4578700.6447631754 ;
-sumfourth_ = 688955792.048339963 ;
+sum_ = -84.9389746746032586 ;
+sumsquare_ = 40750.1377623234584 ;
+sumcube_ = -4587593.35613886733 ;
+sumfourth_ = 688820550.749982357 ;
 min_ = -181.33475999999996 ;
 max_ = -0.61358666666666295 ;
 agmemin_ = 35 ;

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/train_stats.psave
===================================================================
--- trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/train_stats.psave	2008-02-04 21:16:06 UTC (rev 8453)
+++ trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/Split0/train_stats.psave	2008-02-04 21:22:39 UTC (rev 8454)
@@ -102,12 +102,12 @@
 sumsquare_ = 0 ;
 sumcube_ = 0 ;
 sumfourth_ = 0 ;
-min_ = 362.783279794880855 ;
-max_ = 362.783279794880855 ;
+min_ = 367.38802943868177 ;
+max_ = 367.38802943868177 ;
 agmemin_ = 0 ;
 agemax_ = 0 ;
-first_ = 362.783279794880855 ;
-last_ = 362.783279794880855 ;
+first_ = 367.38802943868177 ;
+last_ = 367.38802943868177 ;
 binary_ = 0 ;
 integer_ = 0 ;
 counts = {};
@@ -144,12 +144,12 @@
 sumsquare_ = 0 ;
 sumcube_ = 0 ;
 sumfourth_ = 0 ;
-min_ = -724.56655958976171 ;
-max_ = -724.56655958976171 ;
+min_ = -733.776058877363539 ;
+max_ = -733.776058877363539 ;
 agmemin_ = 0 ;
 agemax_ = 0 ;
-first_ = -724.56655958976171 ;
-last_ = -724.56655958976171 ;
+first_ = -733.776058877363539 ;
+last_ = -733.776058877363539 ;
 binary_ = 0 ;
 integer_ = 0 ;
 counts = {};
@@ -165,12 +165,12 @@
 sumsquare_ = 0 ;
 sumcube_ = 0 ;
 sumfourth_ = 0 ;
-min_ = -24.1796111823809525 ;
-max_ = -24.1796111823809525 ;
+min_ = -24.6404994934920616 ;
+max_ = -24.6404994934920616 ;
 agmemin_ = 0 ;
 agemax_ = 0 ;
-first_ = -24.1796111823809525 ;
-last_ = -24.1796111823809525 ;
+first_ = -24.6404994934920616 ;
+last_ = -24.6404994934920616 ;
 binary_ = 0 ;
 integer_ = 0 ;
 counts = {};

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/global_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/regressors/test/RegressionTree/.pytest/PL_RegressionTree/expected_results/expdir/split_stats.pmat
===================================================================
(Binary files differ)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001901.html">[Plearn-commits] r8453 - trunk/plearn_learners/regressors
</A></li>
	<LI>Next message: <A HREF="001903.html">[Plearn-commits] r8455 - trunk/plearn_learners/online
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1902">[ date ]</a>
              <a href="thread.html#1902">[ thread ]</a>
              <a href="subject.html#1902">[ subject ]</a>
              <a href="author.html#1902">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plearn-commits">More information about the Plearn-commits
mailing list</a><br>
</body></html>
