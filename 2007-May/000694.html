<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plearn-commits] r7245 - in	trunk/plearn_learners/online/test/ModuleLearner: .	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/Split0	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/global_stats.pmat.metadata	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/split_stats.pmat.metadata
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plearn-commits/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:plearn-commits%40lists.berlios.de?Subject=Re%3A%20%5BPlearn-commits%5D%20r7245%20-%20in%0A%09trunk/plearn_learners/online/test/ModuleLearner%3A%20.%0A%09.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester%0A%09.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/Split0%0A%09.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/global_stats.pmat.metadata%0A%09.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/split_stats.pmat.metadata&In-Reply-To=%3C200705221858.l4MIwgTB031166%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000693.html">
   <LINK REL="Next"  HREF="000695.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plearn-commits] r7245 - in	trunk/plearn_learners/online/test/ModuleLearner: .	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/Split0	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/global_stats.pmat.metadata	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/split_stats.pmat.metadata</H1>
    <B>tihocan at BerliOS</B> 
    <A HREF="mailto:plearn-commits%40lists.berlios.de?Subject=Re%3A%20%5BPlearn-commits%5D%20r7245%20-%20in%0A%09trunk/plearn_learners/online/test/ModuleLearner%3A%20.%0A%09.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester%0A%09.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/Split0%0A%09.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/global_stats.pmat.metadata%0A%09.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/split_stats.pmat.metadata&In-Reply-To=%3C200705221858.l4MIwgTB031166%40sheep.berlios.de%3E"
       TITLE="[Plearn-commits] r7245 - in	trunk/plearn_learners/online/test/ModuleLearner: .	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/Split0	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/global_stats.pmat.metadata	.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/split_stats.pmat.metadata">tihocan at mail.berlios.de
       </A><BR>
    <I>Tue May 22 20:58:42 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000693.html">[Plearn-commits] r7244 - trunk/python_modules/plearn/parallel
</A></li>
        <LI>Next message: <A HREF="000695.html">[Plearn-commits] r7246 - trunk/plearn_learners/online
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#694">[ date ]</a>
              <a href="thread.html#694">[ thread ]</a>
              <a href="subject.html#694">[ subject ]</a>
              <a href="author.html#694">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tihocan
Date: 2007-05-22 20:58:41 +0200 (Tue, 22 May 2007)
New Revision: 7245

Modified:
   trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/Split0/final_learner.psave
   trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/global_stats.pmat
   trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/global_stats.pmat.metadata/fieldnames
   trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/split_stats.pmat
   trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/split_stats.pmat.metadata/fieldnames
   trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/test_cost_names.txt
   trunk/plearn_learners/online/test/ModuleLearner/PL_ModuleLearner_TwoRBMs.plearn
Log:
Added computation of classification error in test example

Modified: trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/Split0/final_learner.psave
===================================================================
--- trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/Split0/final_learner.psave	2007-05-22 18:41:49 UTC (rev 7244)
+++ trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/Split0/final_learner.psave	2007-05-22 18:58:41 UTC (rev 7245)
@@ -66,8 +66,13 @@
 expdir = &quot;&quot; ;
 random_gen = *5   )
 ;
+reconstruction_connection = *0 ;
 grad_learning_rate = 0.0100000000000000002 ;
 cd_learning_rate = 0.00100000000000000002 ;
+n_Gibbs_steps_CD = 1 ;
+min_n_Gibbs_steps = 0 ;
+n_Gibbs_steps_per_generated_sample = 0 ;
+Gibbs_step = 0 ;
 input_size = -1 ;
 output_size = -1 ;
 name = &quot;rbm_1&quot; ;
@@ -227,8 +232,13 @@
 expdir = &quot;&quot; ;
 random_gen = *5   )
 ;
+reconstruction_connection = *0 ;
 grad_learning_rate = 0.0100000000000000002 ;
 cd_learning_rate = 0.00100000000000000002 ;
+n_Gibbs_steps_CD = 1 ;
+min_n_Gibbs_steps = 0 ;
+n_Gibbs_steps_per_generated_sample = 0 ;
+Gibbs_step = 0 ;
 input_size = -1 ;
 output_size = -1 ;
 name = &quot;rbm_2&quot; ;
@@ -258,7 +268,15 @@
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *5   )
-*13 -&gt;NLLCostModule(
+*13 -&gt;SoftmaxModule(
+input_size = 2 ;
+output_size = 2 ;
+name = &quot;softmax&quot; ;
+estimate_simpler_diag_hessian = 0 ;
+expdir = &quot;&quot; ;
+random_gen = *5   )
+*14 -&gt;CombiningCostsModule(
+sub_costs = 2 [ *15 -&gt;NLLCostModule(
 target_size = 1 ;
 input_size = 2 ;
 output_size = 1 ;
@@ -266,32 +284,43 @@
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *5   )
-*14 -&gt;SoftmaxModule(
+*16 -&gt;ClassErrorCostModule(
+target_size = 1 ;
 input_size = 2 ;
-output_size = 2 ;
-name = &quot;softmax&quot; ;
+output_size = 1 ;
+name = &quot;class_error&quot; ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *5   )
 ] ;
-connections = 4 [ *15 -&gt;NetworkConnection(
+cost_weights = 2 [ 1 0 ] ;
+n_sub_costs = 2 ;
+target_size = 1 ;
+input_size = 2 ;
+output_size = 3 ;
+name = &quot;costs&quot; ;
+estimate_simpler_diag_hessian = 0 ;
+expdir = &quot;&quot; ;
+random_gen = *5   )
+] ;
+connections = 4 [ *17 -&gt;NetworkConnection(
 source = &quot;rbm_1.hidden&quot; ;
 destination = &quot;rbm_2.visible&quot; ;
 propagate_gradient = 1  )
-*16 -&gt;NetworkConnection(
+*18 -&gt;NetworkConnection(
 source = &quot;rbm_2.hidden&quot; ;
 destination = &quot;affine_net.input&quot; ;
 propagate_gradient = 1  )
-*17 -&gt;NetworkConnection(
+*19 -&gt;NetworkConnection(
 source = &quot;affine_net.output&quot; ;
 destination = &quot;softmax.input&quot; ;
 propagate_gradient = 1  )
-*18 -&gt;NetworkConnection(
+*20 -&gt;NetworkConnection(
 source = &quot;softmax.output&quot; ;
-destination = &quot;nll.prediction&quot; ;
+destination = &quot;costs.prediction&quot; ;
 propagate_gradient = 1  )
 ] ;
-ports = 8 [ &quot;input&quot; &quot;rbm_1.visible&quot; &quot;target&quot; &quot;nll.target&quot; &quot;output&quot; &quot;affine_net.output&quot; &quot;cost&quot; &quot;nll.cost&quot; ] ;
+ports = 8 [ &quot;input&quot; &quot;rbm_1.visible&quot; &quot;target&quot; &quot;costs.target&quot; &quot;output&quot; &quot;affine_net.output&quot; &quot;cost&quot; &quot;costs.cost&quot; ] ;
 save_states = 1 ;
 name = &quot;NetworkModule&quot; ;
 estimate_simpler_diag_hessian = 0 ;
@@ -311,4 +340,5 @@
 report_progress = 1 ;
 verbosity = 1 ;
 nservers = 0 ;
-save_trainingset_prefix = &quot;&quot;  )
+save_trainingset_prefix = &quot;&quot; ;
+test_minibatch_size = 1000  )

Modified: trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/global_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/global_stats.pmat.metadata/fieldnames
===================================================================
--- trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/global_stats.pmat.metadata/fieldnames	2007-05-22 18:41:49 UTC (rev 7244)
+++ trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/global_stats.pmat.metadata/fieldnames	2007-05-22 18:58:41 UTC (rev 7245)
@@ -1 +1,2 @@
 E[test1.E[NLL]]	0
+E[test1.E[class_error]]	0

Modified: trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/split_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/split_stats.pmat.metadata/fieldnames
===================================================================
--- trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/split_stats.pmat.metadata/fieldnames	2007-05-22 18:41:49 UTC (rev 7244)
+++ trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/split_stats.pmat.metadata/fieldnames	2007-05-22 18:58:41 UTC (rev 7245)
@@ -1,2 +1,3 @@
 splitnum	0
 test1.E[NLL]	0
+test1.E[class_error]	0

Modified: trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/test_cost_names.txt
===================================================================
--- trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/test_cost_names.txt	2007-05-22 18:41:49 UTC (rev 7244)
+++ trunk/plearn_learners/online/test/ModuleLearner/.pytest/PL_ModuleLearner_TwoRBMs/expected_results/expdir-tester/test_cost_names.txt	2007-05-22 18:58:41 UTC (rev 7245)
@@ -1 +1,3 @@
+combined_cost
 NLL
+class_error

Modified: trunk/plearn_learners/online/test/ModuleLearner/PL_ModuleLearner_TwoRBMs.plearn
===================================================================
--- trunk/plearn_learners/online/test/ModuleLearner/PL_ModuleLearner_TwoRBMs.plearn	2007-05-22 18:41:49 UTC (rev 7244)
+++ trunk/plearn_learners/online/test/ModuleLearner/PL_ModuleLearner_TwoRBMs.plearn	2007-05-22 18:58:41 UTC (rev 7245)
@@ -64,19 +64,30 @@
                             start_learning_rate = ${grad_lr}
                         )
 
-                        NLLCostModule( 
-                            name = &quot;nll&quot;
-                            input_size = ${n_classes}
-                            output_size = 1
-                            target_size = 1
-                        )
-
                         SoftmaxModule(
                             name = &quot;softmax&quot;
                             input_size = ${n_classes}
                             output_size = ${n_classes}
                         )
 
+                        CombiningCostsModule( 
+                            name = &quot;costs&quot;
+                            cost_weights = [1 0]
+                            sub_costs = [
+
+                                NLLCostModule( 
+                                    name = &quot;nll&quot;
+                                    input_size = ${n_classes}
+                                )
+
+                                ClassErrorCostModule(
+                                    name = &quot;class_error&quot;
+                                    input_size = ${n_classes}
+                                )
+
+                            ]
+                        )
+
                     ]
 
                     connections = [
@@ -97,16 +108,16 @@
 
                         NetworkConnection( 
                             source = &quot;softmax.output&quot;
-                            destination = &quot;nll.prediction&quot;
+                            destination = &quot;costs.prediction&quot;
                         )
 
                     ]
 
                     ports = [
                         &quot;input&quot;     &quot;rbm_1.visible&quot;
-                        &quot;target&quot;    &quot;nll.target&quot;
+                        &quot;target&quot;    &quot;costs.target&quot;
                         &quot;output&quot;    &quot;affine_net.output&quot;
-                        &quot;cost&quot;      &quot;nll.cost&quot;
+                        &quot;cost&quot;      &quot;costs.cost&quot;
                     ]
                 )
 
@@ -133,6 +144,7 @@
         );
     statnames = [
         &quot;E[test1.E[NLL]]&quot;
+        &quot;E[test1.E[class_error]]&quot;
     ]
 
 )


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000693.html">[Plearn-commits] r7244 - trunk/python_modules/plearn/parallel
</A></li>
	<LI>Next message: <A HREF="000695.html">[Plearn-commits] r7246 - trunk/plearn_learners/online
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#694">[ date ]</a>
              <a href="thread.html#694">[ thread ]</a>
              <a href="subject.html#694">[ subject ]</a>
              <a href="author.html#694">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plearn-commits">More information about the Plearn-commits
mailing list</a><br>
</body></html>
