<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plearn-commits] r7122 - in trunk/plearn_learners/online: .	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plearn-commits/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:plearn-commits%40lists.berlios.de?Subject=Re%3A%20%5BPlearn-commits%5D%20r7122%20-%20in%20trunk/plearn_learners/online%3A%20.%0A%09test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1%0A%09test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0%0A%09test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1%0A%09test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0&In-Reply-To=%3C200705161513.l4GFDD4a019765%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000570.html">
   <LINK REL="Next"  HREF="000572.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plearn-commits] r7122 - in trunk/plearn_learners/online: .	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0</H1>
    <B>tihocan at BerliOS</B> 
    <A HREF="mailto:plearn-commits%40lists.berlios.de?Subject=Re%3A%20%5BPlearn-commits%5D%20r7122%20-%20in%20trunk/plearn_learners/online%3A%20.%0A%09test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1%0A%09test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0%0A%09test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1%0A%09test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0&In-Reply-To=%3C200705161513.l4GFDD4a019765%40sheep.berlios.de%3E"
       TITLE="[Plearn-commits] r7122 - in trunk/plearn_learners/online: .	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1	test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0">tihocan at mail.berlios.de
       </A><BR>
    <I>Wed May 16 17:13:13 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000570.html">[Plearn-commits] r7121 - in trunk/plearn_learners/distributions: .	EXPERIMENTAL
</A></li>
        <LI>Next message: <A HREF="000572.html">[Plearn-commits] r7123 - trunk/plearn_learners/online
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#571">[ date ]</a>
              <a href="thread.html#571">[ thread ]</a>
              <a href="subject.html#571">[ subject ]</a>
              <a href="author.html#571">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tihocan
Date: 2007-05-16 17:13:12 +0200 (Wed, 16 May 2007)
New Revision: 7122

Modified:
   trunk/plearn_learners/online/DeepBeliefNet.cc
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0/final_learner.psave
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/global_stats.pmat
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/split_stats.pmat
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0/final_learner.psave
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/global_stats.pmat
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/split_stats.pmat
Log:
Added missing step of contrastive divergence in the top layer in online mode

Modified: trunk/plearn_learners/online/DeepBeliefNet.cc
===================================================================
--- trunk/plearn_learners/online/DeepBeliefNet.cc	2007-05-16 14:48:03 UTC (rev 7121)
+++ trunk/plearn_learners/online/DeepBeliefNet.cc	2007-05-16 15:13:12 UTC (rev 7122)
@@ -1115,10 +1115,12 @@
         }
     }
 
-
-    // DOWNWARD PHASE (the downward phase for top layer is already done above)
-    for( int i=n_layers-3 ; i&gt;=0 ; i-- )
+    // DOWNWARD PHASE (the downward phase for top layer is already done above,
+    // except for the contrastive divergence step in the case where either
+    // 'use_classification_cost' or 'top_layer_joint_cd' is false).
+    for( int i=n_layers-2 ; i&gt;=0 ; i-- )
     {
+        if (i &lt;= n_layers - 3) {
         connections[ i ]-&gt;setLearningRate( grad_learning_rate );
         layers[ i+1 ]-&gt;setLearningRate( grad_learning_rate );
 
@@ -1132,7 +1134,11 @@
                                      expectation_gradients[i],
                                      activation_gradients[i+1],
                                      true);
+        }
 
+        if (i &lt;= n_layers - 3 || !use_classification_cost ||
+                                 !top_layer_joint_cd) {
+
         // N.B. the contrastiveDivergenceStep changes the activation and
         // expectation fields of top layer of the RBM, so it must be
         // done last
@@ -1156,6 +1162,7 @@
             layers[i]-&gt;activation &lt;&lt; save_layer_activation;
             layers[i]-&gt;expectation &lt;&lt; save_layer_expectation;
         }
+        }
     }
 
 
@@ -1327,9 +1334,13 @@
         rc.clear();
     }
 
-    // DOWNWARD PHASE (the downward phase for top layer is already done above)
-    for( int i=n_layers-3 ; i&gt;=0 ; i-- )
+    // DOWNWARD PHASE (the downward phase for top layer is already done above,
+    // except for the contrastive divergence step in the case where either
+    // 'use_classification_cost' or 'top_layer_joint_cd' is false).
+
+    for( int i=n_layers-2 ; i&gt;=0 ; i-- )
     {
+        if (i &lt;= n_layers - 3) {
         connections[ i ]-&gt;setLearningRate( grad_learning_rate );
         layers[ i+1 ]-&gt;setLearningRate( grad_learning_rate );
 
@@ -1344,6 +1355,11 @@
                                      activations_gradients[i+1],
                                      true);
 
+        }
+
+        if (i &lt;= n_layers - 3 || !use_classification_cost ||
+                !top_layer_joint_cd) {
+
         // N.B. the contrastiveDivergenceStep changes the activation and
         // expectation fields of top layer of the RBM, so it must be
         // done last
@@ -1382,6 +1398,7 @@
             layers[i]-&gt;activations &lt;&lt; save_layer_activations;
             layers[i]-&gt;getExpectations() &lt;&lt; save_layer_expectations;
         }
+        }
     }
 
 }

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0/final_learner.psave
===================================================================
--- trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0/final_learner.psave	2007-05-16 14:48:03 UTC (rev 7121)
+++ trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0/final_learner.psave	2007-05-16 15:13:12 UTC (rev 7122)
@@ -14,7 +14,7 @@
 ;
 gibbs_ma_increment = 0.100000000000000006 ;
 gibbs_initial_ma_coefficient = 0.100000000000000006 ;
-bias = 2 [ 0 0 ] ;
+bias = 2 [ -0.00999999999999999674 -0.0100000000000000037 ] ;
 input_size = 2 ;
 output_size = 2 ;
 estimate_simpler_diag_hessian = 0 ;
@@ -31,7 +31,7 @@
 ;
 gibbs_ma_increment = 0.100000000000000006 ;
 gibbs_initial_ma_coefficient = 0.100000000000000006 ;
-bias = 100 [ -1.72736338329217665 -1.87224137964594561 0.00710952302009379335 0.007139942535450596 0.0069693029673119156 0.0071494949498986278 0.00711339195907651021 0.00707655855217844722 0.00715542133669704299 0.00712578509009626111 0.0070548010714019619 0.00705528144306733721 0.00690209400166908512 0.00694611006997176723 0.00707478669390397986 0.00715163276711301091 0.00714906653409694282 0.00696420733611250679 0.00711135639671874216 0.00692026330764646674 0.00716816722307521241 0.00707594301042300568 0.00703116359494944821 0.00712783333642025112 0.00710170069302545719 0.00692948037079531374 0.00698246966496982816 0.00689760878025739467 0.0071422115797554319 0.00710167484104526955 0.00719394653053584063 0.00720797836904712563 0.00701620382538336272 0.00717678746898407945 0.00693519148102529886 0.00693160705247619462 0.00705029733052034945 0.00715618016866498546 0.00718392890600410075 0.00707698965765928001 0.00719922899708475006 0.00699771280149902135 0.00717053343281688!
 8 0.00698941577992512331 0.00720338611634649927 0.00690619369530526186 0.0070837770048462062 0.00688360129550315888 0.00699988631904935755 0.00696034028605785424 0.00698975197380837573 0.00688586208870458922 0.0069545040723701006 0.00699343842956449621 0.00722784149869732783 0.00713324068390162967 0.00727147236115447109 0.00697178244086663762 0.0071554043592718785 0.00721002063514816684 0.00704611009416390797 0.00698581592873336391 0.00702294877414524985 0.00719093457125645312 0.00714496639786220671 0.00700126694377474577 0.00721157618198046794 0.00703305042866825356 0.00710743346522412119 0.00692559664901184167 0.0072384168611063851 0.00707921556209995494 0.00708665771565903345 0.00711646827184584264 0.00715035348227667945 0.00721865364949505778 0.0070509327135979431 0.00708127502546333689 0.00715502610383794702 0.00711064011769749118 0.00708285215475889553 0.00706487375658939459 0.00708194438783416036 0.00719571755563360414 0.00704033073498496614 0.00723987080921943693 0.!
 00718956856606809119 0.0070257463692519782 0.00711442966095402!
 439 0.00
71244395375674183 0.00708250278795333719 0.00714078949011626076 0.00693972696558633074 0.00705828004158244246 0.00693433794071001818 0.0071555148294759471 0.0069372704583791937 0.00701299647069731323 0.00713277341669439277 0.0072222337628081567 ] ;
+bias = 100 [ -1.72690816138127623 -1.86856738093909391 0.0197459628563715316 0.0201484237238173762 0.0192178257276191602 0.0197481260903016043 0.0197147130066580786 0.0194881337812130261 0.0198675675955951245 0.0200388610885136181 0.0194875194982529268 0.0199649027024796782 0.0190775891699025979 0.0192569342652221288 0.0195638646775244708 0.0199204859522010141 0.0200171557622308323 0.0191839570013845086 0.0197529032771635998 0.0190631951000011304 0.0200630959071070175 0.0198679771586788151 0.0195215053265497852 0.0197791267146793619 0.0198970624819381214 0.0191313735813227782 0.0193520822709891023 0.0190559345778367716 0.0199237034942472239 0.019627400563694733 0.0196934866636073354 0.0202183474415308963 0.0193887335030357016 0.0202545819388921487 0.0191848740991793117 0.0192729492552097988 0.0197775218391521221 0.0196558155049876594 0.0202017557047582987 0.019707601859516765 0.0200673902532765847 0.019462645385585061 0.0199671202629631873 0.0197102656983617619 0.0200784721!
 963279088 0.0191065674569727804 0.0197510907818945203 0.0190059278352996477 0.0196458545492679999 0.0191910486460134984 0.0192269415887015953 0.0190018644952805876 0.0191451934475703606 0.0193610453293970204 0.0199154809001320272 0.019845388722619095 0.0204256833678869397 0.0194038830110665403 0.0200313319079572887 0.0200128142916943252 0.0197503975381724158 0.0194724317564281477 0.0194471609426532105 0.0200176791018486164 0.0201823883610635531 0.0197115811592959295 0.0201068834907110264 0.0196153633144061403 0.0197577047677771379 0.019080277899483241 0.020130670785645649 0.019903571685719882 0.019889944005649772 0.0199053609288379306 0.0198414193433427664 0.0201547070200743667 0.0194617444786761573 0.0195441779421063437 0.0198428125671930092 0.0199823233495897666 0.0196732796450470072 0.0195823206432603932 0.019814509406122463 0.02023615080955651 0.0194487186539949869 0.0203511338043818359 0.0198657768925716502 0.0196340243483772089 0.0197771097517825782 0.0199993915564294!
 737 0.0198141596164127694 0.0198080876423594662 0.019278405635!
 8570599 
0.0196014542659474732 0.0194392892256175891 0.0197830430159701177 0.0191885575637270253 0.0196988363499091511 0.0197771011880731214 0.020097121552294709 ] ;
 input_size = 100 ;
 output_size = 100 ;
 estimate_simpler_diag_hessian = 0 ;
@@ -40,106 +40,106 @@
 ] ;
 connections = 1 [ *5 -&gt;RBMMatrixConnection(
 weights = 100  2  [ 
--0.844574498902739501 	-0.891336560030097758 	
--0.649691857409449125 	-0.676236443731038639 	
-0.0459982844892503143 	-0.0271898861645737192 	
--0.0783622659663412297 	-0.0272349712370933972 	
-0.094853223094356412 	0.0534486512698703412 	
-0.0711636285995611295 	-0.0492322633936172482 	
-0.0747351869675588476 	-0.0498620424329624945 	
-0.104343555342401889 	-0.0164155333524689945 	
-0.0529242955506554202 	-0.069613117720947873 	
--0.0664298160946753952 	-0.00210962266157023676 	
-0.0696290467557298121 	0.0174871056306161038 	
--0.0832627389510870591 	0.0242385263960107969 	
-0.0821423783715610062 	0.0956012895996711382 	
-0.055645074417937132 	0.0801521284390359218 	
-0.0945803187739991669 	-0.0295083938296032688 	
-0.0186141589775030147 	-0.0480200841325501004 	
--0.0220319538870223305 	-0.037186972919559011 	
-0.101892327611129416 	0.0537308826188040295 	
-0.0250212306909178006 	-0.00572963388538782602 	
-0.10462000453879175 	0.0730688733513193966 	
--0.0181366767990111359 	-0.0541572332159973788 	
--0.047842924138944351 	0.0275027169607186747 	
-0.0462977695365504247 	0.0296110974252242962 	
-0.0644267399359844117 	-0.0573305743228902515 	
--0.0718348880676967921 	0.0516785572781620212 	
-0.0835300240734531962 	0.0774059553607873985 	
-0.0558320133609837774 	0.0597609356876449491 	
-0.082818746376592603 	0.0896142958464573036 	
-0.0189395639491950381 	-0.0517006576951366606 	
-0.0589668494938762819 	-0.00504130046666522759 	
-0.107339602914661256 	-0.0632416407349212506 	
--0.0551333012600546193 	-0.0640495682756988399 	
-0.061752045556149035 	0.046310301109819263 	
--0.0852575885382227949 	-0.0502860174041822455 	
-0.0641723577381497212 	0.0841109442558924669 	
-0.0267075692137303741 	0.102516767565255268 	
--0.0478788251467674383 	0.0531134112339412476 	
-0.0930665318367934619 	-0.0420622390736087801 	
--0.0652649034058694899 	-0.0511058624742918161 	
--0.00767041485686395172 	0.0378879707197924895 	
-0.00835056038333964988 	-0.0804716271217704726 	
-0.0357826970947835998 	0.0526114644390780414 	
-0.0163898065404822803 	-0.0584056761196300178 	
--0.0850127587241325117 	0.101716672075718217 	
--0.00289547927596551418 	-0.0701982076413373429 	
-0.0695829288429025417 	0.0936772045541727633 	
--0.00887837082104068684 	0.0265246489273173076 	
-0.0925050589071878815 	0.0947437113430898703 	
--0.0310466519854281919 	0.0669645797990096048 	
-0.0886784101134301395 	0.0617432370634486902 	
-0.105130831339501712 	0.0410079123731192999 	
-0.096505554558600215 	0.0901176623426811069 	
-0.106872347394583386 	0.0567888903286589697 	
-0.0703152947188187688 	0.0451520377757249 	
-0.0626335902320879073 	-0.0817187413911388549 	
-0.0367225446383514301 	-0.0463110134693972275 	
--0.0815408887634751084 	-0.0967280949117586553 	
-0.0274856872212617259 	0.0734497226508255413 	
--0.0181907967746671659 	-0.0452106205989344298 	
-0.0087506224067012868 	-0.0575786693136141059 	
--0.0158593576344661855 	0.02646329386309711 	
-0.00853234215661439858 	0.0755343380454865515 	
-0.0635974414020876316 	0.0315281843689218244 	
--0.00145653614452585529 	-0.0517525595190033161 	
--0.0853269229096793591 	-0.0314939487180603828 	
--0.0730520221508338119 	0.0912946524123031539 	
--0.00403327946836340521 	-0.0779564436998399918 	
-0.0202941707571320032 	0.0291875100361884895 	
-0.021852100470727772 	-0.0045301203103444718 	
-0.104827918004822329 	0.0733382995749669864 	
-0.00235797298214926411 	-0.0891707532230507638 	
--0.073864727278959319 	0.0446682178746155359 	
--0.0481492071174366917 	0.0227001630488500132 	
-0.00390183095753330851 	-0.0330988941461324571 	
-0.0350783893947516842 	-0.0391950009067705551 	
--0.031254804301289428 	-0.0641073194490621168 	
-0.0614687665101715242 	0.0313924487862226806 	
-0.081752475772197894 	-0.00772460533264016525 	
-0.0774252337399807117 	-0.092833373785811496 	
--0.0563775393236444558 	0.00409081941920262475 	
-0.0140409467880838173 	0.0259966386415845692 	
-0.0523063348839300085 	0.0101564370025485871 	
--0.0646409077164308843 	0.0680809306039766859 	
--0.0683673207865726773 	-0.0584166839559120618 	
-0.0720703906669463296 	0.0238914093237278524 	
--0.0739446290282441965 	-0.0885578138497171985 	
-0.0409389222381673357 	-0.0461352744967558695 	
--0.0043424471751358348 	0.0477312725444766078 	
-0.0221334234567853172 	-0.00987621597510635746 	
--0.0707828768852961088 	0.0178135587013748299 	
--0.0210171360149212713 	0.0184561609574718823 	
-0.0270449999244123211 	-0.0205733615945039722 	
-0.0418466904803427853 	0.0880283902187661005 	
-0.0267703035992853805 	0.0301269447530315183 	
--0.010292954755286356 	0.0963139681852955148 	
-0.0596806549242392959 	-0.0464769508953819591 	
-0.0700124043479797842 	0.0799541268595860971 	
--0.0453197022055922966 	0.0679198279857914644 	
-0.0635145902488435665 	-0.0542303380546563935 	
--0.00298647426103496559 	-0.0732157191696475029 	
+-0.851718783078528885 	-0.910486329990103593 	
+-0.659504404042549841 	-0.689927144482110233 	
+0.0473467856084856115 	-0.021068362161156616 	
+-0.0763279978440052492 	-0.024995950462423696 	
+0.0984925499563006623 	0.0605275928259499316 	
+0.0716186901981794716 	-0.0422369479917682616 	
+0.0751910597931305102 	-0.0426944682014643445 	
+0.105680817906009084 	-0.0085827564212096058 	
+0.0528534426101754801 	-0.0630143860776192916 	
+-0.0636849713076504953 	0.000296357689145335113 	
+0.0722412690390428908 	0.0240000724194885731 	
+-0.0795149766159689991 	0.0260226948687930157 	
+0.0872375303587325512 	0.102040194139168705 	
+0.060376224364312607 	0.0858482670524815805 	
+0.0955870795436864346 	-0.0218462836410353335 	
+0.019435312051865581 	-0.0426294654254820854 	
+-0.0206292867336834371 	-0.033128250937456645 	
+0.105489209387850169 	0.0610132548278222372 	
+0.0271450136920915776 	-0.00044660786085679461 	
+0.108789594181019286 	0.0802701048382811894 	
+-0.0173000567326795605 	-0.0498618595253241398 	
+-0.044219471923943314 	0.0303278485818381967 	
+0.0494804976976577285 	0.0353764807397635092 	
+0.0646988703761498252 	-0.0504370704382912857 	
+-0.0673594864781809771 	0.0535377668687243707 	
+0.0879440537180275345 	0.0839065049597001872 	
+0.0599101966215729378 	0.0656008493994736375 	
+0.0875922648250282848 	0.0959718080395012829 	
+0.0196611644974257899 	-0.0462472081457977954 	
+0.0609067028827928389 	0.00127671442019152565 	
+0.107088595556732571 	-0.0550986631886871137 	
+-0.0544798253129736981 	-0.0609369658780364795 	
+0.0653062534020072 	0.0523544519516852616 	
+-0.0839193988178982553 	-0.0480978780865896141 	
+0.068904105783615624 	0.0899580564424536377 	
+0.0322947301022608671 	0.107138399182431981 	
+-0.043436963379607979 	0.0557648717257543877 	
+0.0935944351122741797 	-0.0344775581962125585 	
+-0.0641051083594541271 	-0.0483468392439200048 	
+-0.00398520248823383983 	0.0418393331889489392 	
+0.00816783017733600965 	-0.0752094319371216652 	
+0.0397745310771140045 	0.0579089760679177556 	
+0.0168776480209306239 	-0.0530314236971434899 	
+-0.0787766678524840364 	0.102930259494416476 	
+-0.00270357061388389313 	-0.0653815644783996702 	
+0.0745854071699557225 	0.0996238582913874793 	
+-0.00553369828703782849 	0.0305331556619509135 	
+0.0974447119484660729 	0.101432571017619114 	
+-0.0262128239015296458 	0.0700931771434041839 	
+0.0925637828825188469 	0.0685101012458730618 	
+0.108271194778608484 	0.0484393252355527701 	
+0.101252216065445516 	0.0969363346246270158 	
+0.110530703521969864 	0.0641959230652852791 	
+0.0738658245420108078 	0.0515677124424956945 	
+0.0620468833353416543 	-0.074840747418013831 	
+0.0375090557193314064 	-0.0403503520951321026 	
+-0.0817606387545037755 	-0.0941729034033958329 	
+0.0321818621138092661 	0.0783374533923807126 	
+-0.0170622345464189959 	-0.0409715664320675493 	
+0.00924487424224855296 	-0.0525350221800960221 	
+-0.0124036714811625124 	0.0303416031292342014 	
+0.0133853651510562315 	0.0797999035478148405 	
+0.066731708589173433 	0.0378052583132586911 	
+-0.000694041443434789272 	-0.047032436936468483 	
+-0.0833886321511081163 	-0.0294395728849657992 	
+-0.0672229874308973852 	0.0929396900921551222 	
+-0.00408384461020086607 	-0.0731229680089544309 	
+0.0236341050880271575 	0.0341739394189243054 	
+0.0240390055038669122 	0.000654695542681125141 	
+0.10905230632212036 	0.0805994262143962387 	
+0.0018800063714631552 	-0.0841092760094767911 	
+-0.0695684673535072184 	0.0465478713034307018 	
+-0.0446867467803533369 	0.0255375579717537181 	
+0.00532884696606245045 	-0.0282093851102793065 	
+0.0360676011933133908 	-0.0333805715866888966 	
+-0.030759113638008314 	-0.0602840912816266714 	
+0.0645296110380195603 	0.0375061656397878695 	
+0.0834963361937441501 	-0.000654235060203502312 	
+0.0764624808713148529 	-0.0853255088219337238 	
+-0.0534727864403330491 	0.00678806315788592785 	
+0.0172211340480614497 	0.0306994595351846866 	
+0.054809120397035456 	0.0162128779226754262 	
+-0.0596741528165589882 	0.0700626201021496003 	
+-0.0674349405468486762 	-0.0557185492228891785 	
+0.0748798796287950819 	0.0304447538166093545 	
+-0.0739848099856874886 	-0.0858825223223134426 	
+0.0416235953721035001 	-0.0401579333909238556 	
+-0.000290140521490414474 	0.0518015871040411399 	
+0.0241467517440943462 	-0.00464756874856554064 	
+-0.06740041521464471 	0.0199238484840746216 	
+-0.0178350644969842778 	0.0221737351454135805 	
+0.0286613713778704447 	-0.0151538735374249535 	
+0.0469194243195553487 	0.0932551881994899134 	
+0.0300359815902802064 	0.035228160753480689 	
+-0.00460449288331090788 	0.0999248768085001238 	
+0.060285603249684093 	-0.0398627181937667024 	
+0.0746180461743935902 	0.0860556995256641505 	
+-0.040390121989510322 	0.070582859492072117 	
+0.0638836291961128039 	-0.0473970106832442423 	
+-0.00292082644459958725 	-0.0684242089477991311 	
 ]
 ;
 gibbs_ma_schedule = []
@@ -174,11 +174,11 @@
 L1_penalty_factor = 0 ;
 L2_penalty_factor = 0 ;
 weights = 2  100  [ 
-0.0474775847368128986 	0.02619552189563756 	-0.00797745191839012782 	-0.0145225201843776023 	0.00350565113629352837 	-0.0165561780342276081 	-0.0122857908975228854 	-0.00137153532847678885 	-0.0157250673463288047 	-0.00704207146273181338 	0.00725239735774481191 	-0.0116145258735314387 	-0.00217248023831798564 	-0.00380233143677826931 	-0.0148903622408899025 	-0.00761792340502150892 	-0.0132930904187064207 	-0.0009371859182761102 	0.00420404245702377718 	0.00109400961895069057 	-0.0169945173359660091 	-0.00153006240279981521 	-0.0108573377680069375 	-0.0112714003217381127 	0.00761603033920790849 	0.00143658373616225308 	-0.00524848751065186848 	0.0118481169686553839 	-0.0155337662496900768 	0.0038773064755629077 	-0.00190591168570272609 	-0.00746921499369614626 	0.000236422546416831508 	-0.0162744321582190994 	0.00648374441123347831 	0.00599456969555010009 	-0.00657129971883743669 	0.00153063633063031841 	-0.00849037171431443229 	0.00156297232409073877 	-0.020222371871587197!
 7 	-0.00374982432668274045 	-0.0124793979153796225 	0.0120256658357286942 	-0.0100458144899981186 	0.00990807769311663304 	0.00182884157182195339 	0.008068775884762543 	-0.00404312454893120121 	0.000437090010597479713 	0.00425224572155162572 	0.011506818276598562 	-0.00747382429439604444 	-0.00884974921851607553 	-0.00695185739066284461 	-0.0173661261320578221 	-0.0217198562924243999 	0.00224130929137694203 	-0.00957701153763605185 	-0.00597338958126493718 	-0.00592717367562824084 	0.00745131265213519293 	0.000595250204641301593 	-0.00064625149108102917 	-0.0129000929863326858 	0.0061340310549168886 	-0.00389961423205447549 	-0.0104995402287039064 	-0.00457036419379521462 	-0.00569660925800293937 	-0.0154651644709569835 	0.00624682477934764176 	0.00549097622457916327 	-0.0149681536146628671 	0.00217743694609066419 	-0.00455653645491207147 	0.00565632023325695309 	-0.0101391199846094706 	-0.0220574700378856521 	-0.0038719000686907065 	0.00704292549743581499 	-0.0101961762143!
 851255 	0.00760250475275125667 	-0.0129790872729141915 	0.0057!
 26081220
56087257 	-0.0139417659799443167 	0.000418380076299801427 	0.00184426434995168913 	-0.00413400675549374652 	0.00727775845550286855 	0.00341806009477727381 	-0.00587894425841792648 	0.00533839164683405469 	0.000781187893347032661 	-0.00460214468276125277 	-0.00163794361123560618 	-0.00415900115023335425 	0.00790685716176904412 	-0.011259491513858225 	-0.00679478233069399657 	
--0.0463093765447100472 	-0.0175792090183623274 	0.013302399556827384 	0.0079804631246724253 	0.00652429583445992504 	-0.000219989948961521204 	0.0147952963109956454 	0.0126085139673940676 	0.0131497179111186926 	-0.00239746552693461713 	0.010477626177223814 	0.0030456610548690922 	0.000850885602362073858 	-0.0054195369431944895 	0.00972303154184850707 	0.0164383983071895341 	0.0098573191629525575 	0.000258568513502365448 	0.0114819962522219512 	-0.00636428317402076317 	0.0121709590100868518 	0.00262518411988038342 	5.43247804082524696e-05 	0.0173624498588008692 	-0.00854648760804932808 	-0.0119107778474646375 	-0.00328570477857380045 	-0.0102757183275086292 	0.0153508736626542623 	0.00871997760862309838 	0.00569960383678734441 	0.00544213151669087868 	-0.00820202778673191461 	0.0180961795478412242 	-0.0112848880379158578 	-0.00670328804198183897 	-0.00973895863987947648 	0.00841379417988325634 	0.011147194552203735 	-0.00763325931889064987 	0.00968604448624368897 	0.0046588!
 3843341097659 	0.0115418825485571908 	0.0044935099461397808 	0.0111342100976559322 	-0.00935482056768671688 	-0.000723523488394031168 	-0.00168702040887630869 	-0.000223070571358644117 	-0.00995582437629905122 	0.00100651176445659728 	-0.00179568475554820655 	-0.00792499872844629194 	0.00172384964565947289 	0.00566400514900525925 	0.0092906029046046848 	0.0180841003288010373 	0.00385243779824009924 	0.0176349567639552743 	1.19536644314676213e-05 	0.0096168467436301662 	0.00368397892611301968 	0.00934351906602471673 	0.0104408467698806143 	0.0125520284920135634 	-0.000591596866379507421 	0.0201838262364479257 	0.00505129780744203744 	0.0040319536587130932 	-0.00337782880263083488 	0.00278614820214498132 	0.000464875853820683003 	0.00873883656978590058 	0.0166136745122451822 	0.0174605499597822386 	0.000156820685807475702 	-0.00413617330546054394 	0.000906802365583859148 	0.0115389049577570985 	0.00316195863029154626 	0.000946016679599198575 	4.48639469774400612e-05 	-0.01081!
 62420011942099 	0.00659773883155935232 	0.00922241586340863048!
  	0.0064
9868863922233031 	0.00476075525279036002 	0.00730528071796969491 	0.00572370756331111973 	-0.000708123327831674306 	0.00965622797076810119 	0.000175482874017318397 	0.00363835531370912792 	0.000352525619334481937 	0.000585180666279141483 	0.0128862213955608998 	-0.0123124022399356964 	0.00779596586154279389 	0.0144423885693799447 	0.0064889192939200039 	
+0.0456900587380019291 	0.0245575518707424854 	-0.00787214473654074612 	-0.0144743919701687575 	0.003496024170492237 	-0.0164240345594498273 	-0.0121502628167603106 	-0.00128306535776049561 	-0.0155748976480985808 	-0.00699205644423079101 	0.00730435919303305814 	-0.0115722489789861598 	-0.00223353065523180334 	-0.00382048438525061295 	-0.0147800584065648499 	-0.00750320039492726777 	-0.0132061484542741851 	-0.000952917610142818821 	0.00428468760423062357 	0.00104444514566430068 	-0.0168965649640248974 	-0.00148071584773325129 	-0.0108109172896363598 	-0.0111296359091801883 	0.0076515513123700191 	0.00139858820295143092 	-0.00524135437840637583 	0.0117917078134489196 	-0.0154149226815610829 	0.0039575041230261003 	-0.00175236529685367411 	-0.00740069864898183164 	0.000254878569183798667 	-0.016230091454807364 	0.00645167239735013921 	0.00596923371938500383 	-0.0065324676627502732 	0.00165449005757837284 	-0.00843120371078277288 	0.00160759006826828718 	-0.0200906994365848933!
  	-0.00372417615899771261 	-0.0123583423833368913 	0.0120522091749722358 	-0.00993040013420423175 	0.00985835547777058618 	0.00188191715919261079 	0.00799677897240793321 	-0.00401096360402066442 	0.00041797790804701555 	0.00425283064213270896 	0.0114374582274497927 	-0.00749862229653680372 	-0.00883113071265158832 	-0.00678771581774426178 	-0.0172447268249845097 	-0.0216725362040958332 	0.00224835650187098007 	-0.00948348415973260597 	-0.00586064468477759046 	-0.00587112469196224805 	0.00746429698472223391 	0.00063342642674797103 	-0.000542182068292089859 	-0.0128566063111055385 	0.0061612704193862132 	-0.0037802648213745558 	-0.0104466271686771608 	-0.00449082451869508952 	-0.00574541432502536156 	-0.0153351692812933871 	0.00628533199486186467 	0.00554164592581812485 	-0.0148688231922361573 	0.00228998032739363439 	-0.00446897815789715908 	0.00569235455558031629 	-0.0100577226560895662 	-0.0218694956985383687 	-0.00381810686570417494 	0.00709528973461256811 	-0.01013059812!
 564545 	0.00763370025022181136 	-0.0129220268062718441 	0.0057!
 69408150
86739341 	-0.0138888060056625295 	0.000536980749263159599 	0.00188445783641889289 	-0.00404991639092399346 	0.00732083219742387954 	0.00347621421153363093 	-0.00578595569835172168 	0.00532043203405586224 	0.000829490797610741779 	-0.00459639472482307673 	-0.00151166393570433119 	-0.00418868460561773459 	0.00793992751897048578 	-0.0111218875374863423 	-0.00667921801486887068 	
+-0.0445218505458991332 	-0.0159412389934672043 	0.0131970923749779832 	0.00793233491046362038 	0.00653392280026122464 	-0.000352133423739276006 	0.0146597682302330862 	0.0125200439966778286 	0.01299954821288846 	-0.00244748054543561955 	0.0104256643419355297 	0.00300338416032387744 	0.000911936019275901965 	-0.0054013839947221658 	0.00961272770752349612 	0.0163236752970953025 	0.00977037719852038439 	0.000274300205369099655 	0.0114013511050151013 	-0.00631471870073437372 	0.0120730066381457557 	0.00257583756481384075 	7.90430203773942117e-06 	0.0172206854462429691 	-0.00858200858121141961 	-0.0118727823142538418 	-0.00329283791081928009 	-0.0102193091723020157 	0.0152320300945252909 	0.00863977996115996606 	0.0055460574479383358 	0.00537361517197657707 	-0.00822048380949889565 	0.0180518388444295304 	-0.0112528160240324537 	-0.00667795206581676872 	-0.00977779069596658272 	0.00828994045293516418 	0.0110880265486720791 	-0.00767787706306815015 	0.00955437205124142971 	0.0046!
 3319026572596611 	0.0114208270165145169 	0.00446696660689627906 	0.0110187957418620766 	-0.00930509835234066829 	-0.000776599075764645205 	-0.00161502349652165381 	-0.000255231516269149254 	-0.00993671227374859356 	0.00100592684387551317 	-0.00172632470639944241 	-0.00790020072630548062 	0.00170523113979497397 	0.00549986357608670332 	0.00916920359753138972 	0.0180367802404724602 	0.00384539058774607681 	0.0175414293860518648 	-0.000100791232055904255 	0.00956079775996422979 	0.00367099459352604723 	0.00930534284391807895 	0.0103367773470917045 	0.0125085418167863935 	-0.000618836230848810332 	0.0200644768257680212 	0.00499838474741526491 	0.0039524139836129811 	-0.00332902373560840792 	0.00265615301248140834 	0.000426368638306470499 	0.00868816686854697803 	0.0165143440898184272 	0.0173480065784792983 	6.92623887925698095e-05 	-0.00417220762778389067 	0.000825405037063947807 	0.0113509306184098688 	0.00310816542730503464 	0.000893652442422419434 	-2.07141417622024732e-05 	!
 -0.0108474374986647012 	0.0065406783649170578 	0.0091790889331!
 0217903 
	0.006445728664940557 	0.00464215457982702223 	0.00726508723150248812 	0.00563961719874139008 	-0.000751197069752700033 	0.00959807385401175057 	8.24943139511096976e-05 	0.00365631492648734987 	0.000304222715070786697 	0.000579430708340955471 	0.0127599417200296109 	-0.0122827187845512935 	0.00776289550434147019 	0.0143047845930080603 	0.00637335497809489362 	
 ]
 ;
-bias = 2 [ -0.00790681549505520449 0.00790681549505538664 ] ;
+bias = 2 [ -0.00668158134821025037 0.00668158134821048195 ] ;
 input_size = 100 ;
 output_size = 2 ;
 estimate_simpler_diag_hessian = 0 ;

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/global_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/split_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0/final_learner.psave
===================================================================
--- trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0/final_learner.psave	2007-05-16 14:48:03 UTC (rev 7121)
+++ trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0/final_learner.psave	2007-05-16 15:13:12 UTC (rev 7122)
@@ -14,7 +14,7 @@
 ;
 gibbs_ma_increment = 0.100000000000000006 ;
 gibbs_initial_ma_coefficient = 0.100000000000000006 ;
-bias = 2 [ 0 0 ] ;
+bias = 2 [ -0.00333333333333332921 0.0133333333333333359 ] ;
 input_size = 2 ;
 output_size = 2 ;
 estimate_simpler_diag_hessian = 0 ;
@@ -31,7 +31,7 @@
 ;
 gibbs_ma_increment = 0.100000000000000006 ;
 gibbs_initial_ma_coefficient = 0.100000000000000006 ;
-bias = 100 [ -1.00267956117726809 -1.02856940821229847 0.000260405103222010703 0.000278951389889367475 0.000251791770187011785 0.000259956982182702238 0.00025581872900213166 0.000252800867217896634 0.000260645189792959285 0.000273125705165498298 0.000255062572773067384 0.000271837232718912425 0.00025720795410076586 0.000254541132037302696 0.000252394731457158158 0.000265642587532703765 0.000271280389460812549 0.000250153415204839723 0.000262366779759927405 0.000245269462603006844 0.000272561398011347995 0.000269115427618702872 0.000258353764321590134 0.000257641443191700971 0.00027626051885516127 0.000244847741245908588 0.000255442235691165245 0.000238941401657378393 0.000265508619153598583 0.000258257149670571907 0.000264646613883516341 0.000272298229089804392 0.000252121925908423724 0.000287240394971629209 0.000246061869033319537 0.000254152043709413424 0.000267982110068212028 0.000260074334840574054 0.000276935145052670847 0.000263861206161262053 0.000269239707456365952 !
 0.000258652749449774378 0.00026666101701410032 0.000266155572712472785 0.000269872112183569123 0.000243707203502818617 0.000264533107096010184 0.000246303463047168496 0.000262499111566860915 0.000246068400538668912 0.000247638227549973062 0.000242566395662687016 0.000248844536556338386 0.000256418875494264281 0.000268044958021967851 0.000262325250180124928 0.000293324383089857877 0.000257711303238646852 0.000271726907269591127 0.000267601635777274538 0.000264791239357207455 0.000258862200395678461 0.000256210333301748548 0.000268099788172233529 0.000281338748947966208 0.000266782018610530185 0.000270640141913912043 0.000261275370916718829 0.00026267740563014119 0.000252397135043826181 0.000269983122858987368 0.000273335569945620685 0.000269659323853495183 0.000267297962366438166 0.000263384519057831789 0.000268253984111977708 0.000253219702298955809 0.000255402300249331425 0.000256148898592099047 0.000271770034244985816 0.000261266502479673716 0.000258113184053113923 0.0002!
 75231310105317965 0.000277140760220966629 0.000254456504219548!
 565 0.00
0275860314495259809 0.000265109606224124203 0.000262161355710957447 0.000263003903909635607 0.00027386823576499886 0.000266431266496260631 0.000263303556884345654 0.000255739777526654063 0.000259487372669564185 0.000257301839221960786 0.000261439073570073836 0.000249898846972714591 0.000264760922172825792 0.000258522004209410018 0.000269204743882476226 ] ;
+bias = 100 [ -1.00137410413697103 -1.02690878942026043 0.0013724458264565999 0.00132365321189252517 0.00109034043273390229 0.00146910810644214308 0.00146564493916796963 0.00135559708437866275 0.00153281204144994541 0.00123832242421429892 0.00121695024900761667 0.0011245725868343384 0.000930220011041140923 0.000974577325118432952 0.00139635530669787473 0.00144068989267370925 0.00138430041625189014 0.00109169362428812762 0.00128810859720967412 0.00101824372762625054 0.00144881295238288681 0.00113327719680468759 0.00116012910924958267 0.00148977673536533086 0.00104591698509104826 0.00099339501267126009 0.00105134792766416532 0.000944368691288204097 0.00145205653620868462 0.00129923303156562393 0.00154650471141034597 0.00147089797118161525 0.00110567739449515812 0.00140859238954600934 0.00096160211061681951 0.000879602646732325407 0.00103873565996754963 0.00145601682369770344 0.00141907614499988256 0.00111525131849812245 0.00155788072941192082 0.00106909847817215757 0.001479404!
 97705206287 0.00083566921232366303 0.00151725676807298177 0.000926327341824926664 0.00115542254274002493 0.000932488547509163421 0.000986409416525201423 0.00105509493091354711 0.00114020511215720305 0.000949450147756172218 0.00108183255154729505 0.00111153256269310536 0.00159562893939796412 0.00143953006504934531 0.00158599279051363398 0.000987772026471022899 0.00141527662662571251 0.00147970670061907958 0.00114481168316176384 0.000973734604835906374 0.00116015580048555366 0.00145121656285818776 0.00133663825836906488 0.000881629307434726424 0.00154521012374642195 0.00114969705220528554 0.00128179801190255794 0.00102102033233985386 0.00159177766214155291 0.0010635666003404199 0.00115213801918118575 0.00137577640763635912 0.00141704954587943159 0.00148362762732251008 0.00116340609593449458 0.00131550443361816839 0.00162624036901531845 0.00121815130212066421 0.00116713710777807461 0.0012365978120010097 0.000987778170162678356 0.0014446170199076101 0.00119328463684120452 0.001!
 55083767350401407 0.00145157222119383271 0.0010719301623359001!
 7 0.0013
0191044593833192 0.00116763195418857399 0.00117784865577586157 0.00134631952612521361 0.000939096943168237245 0.00115390063459411859 0.000879834511824532971 0.00145512931298407604 0.000980299730962138488 0.000979446353150860904 0.00147952470277208236 0.00153062907310619551 ] ;
 input_size = 100 ;
 output_size = 100 ;
 estimate_simpler_diag_hessian = 0 ;
@@ -40,106 +40,106 @@
 ] ;
 connections = 1 [ *5 -&gt;RBMMatrixConnection(
 weights = 100  2  [ 
--0.471362961000141412 	-0.535064321250100838 	
--0.418523666068342737 	-0.442130804005675837 	
-0.0385013287902459533 	-0.0295886923233513802 	
--0.0860989758950199691 	-0.0295662727337404306 	
-0.0875979595044731746 	0.0501945990785476123 	
-0.0636670459204790873 	-0.0523419567136697433 	
-0.0672738910946346635 	-0.0519335687747828623 	
-0.0969823281007649585 	-0.0193786050105411896 	
-0.0453770196106944163 	-0.0717342199650224804 	
--0.0741286849106853191 	-0.00588191354718942735 	
-0.0622369748296012631 	0.0138457804901620136 	
--0.0909187626506893221 	0.0217141397671601136 	
-0.0749454317566667499 	0.0927971293330792507 	
-0.0483538393236171357 	0.0767311852343529888 	
-0.0871979242492465639 	-0.0315927435622326974 	
-0.0110231692289824885 	-0.0503885700994016472 	
--0.029685434861795125 	-0.0395410856440616895 	
-0.0946541959594392746 	0.0503112983383316587 	
-0.017492535263128061 	-0.00925814477559560103 	
-0.0974366054230255824 	0.0690494032504092581 	
--0.0258083513774453981 	-0.0561143264153482549 	
--0.0554550027290303602 	0.0240099698426400332 	
-0.0388912831465612549 	0.0268323498288501223 	
-0.0569305115280787435 	-0.0593363660040324287 	
--0.0794958387424358204 	0.0464662453586086807 	
-0.0763046377734548364 	0.0728621697516345646 	
-0.0484979678283323223 	0.0564577019614970685 	
-0.0756324999941556803 	0.0843800300536337172 	
-0.0113551415661547767 	-0.0534463274467431443 	
-0.0515062603474900071 	-0.00878206427299820999 	
-0.0998691910379706227 	-0.0673343557485619887 	
--0.0629097335347691689 	-0.0676869165651270838 	
-0.0543919877721773248 	0.0418659655500652414 	
--0.0930458471736057141 	-0.0517414420068471742 	
-0.0569142647413434025 	0.0792036732792601866 	
-0.0193976747323045019 	0.0982652963818235192 	
--0.055457440235141077 	0.0491904412004663116 	
-0.0856075401891402826 	-0.0459977513325073029 	
--0.0730301119792121506 	-0.0539640708576639358 	
--0.0152093192848142197 	0.0332299726984830943 	
-0.000680837478119440415 	-0.0826319386260217642 	
-0.028395562978535089 	0.0498407395830843328 	
-0.00877319978817322696 	-0.0608923327473647955 	
--0.0925791052211339394 	0.0978851856902457906 	
--0.0105799698402000188 	-0.0730965153746697405 	
-0.0623685321312862015 	0.0887422353357084914 	
--0.0164305460514910448 	0.0223851351603015537 	
-0.0853481496100467057 	0.0907375275928978126 	
--0.0385492833610940264 	0.0638829129322872613 	
-0.0814240016302194419 	0.0573085338671208977 	
-0.0978686459829348904 	0.0370323442760039298 	
-0.0893513660282104077 	0.0857324536867794113 	
-0.0996532072078612913 	0.0532502587877831043 	
-0.0629912901342386949 	0.0425175953013888983 	
-0.0550444183574748044 	-0.0855534309827652439 	
-0.0291797254310434198 	-0.0484006056160495995 	
--0.0894401734128328768 	-0.0981724250589260522 	
-0.0201163325126410587 	0.0702512353076664015 	
--0.0258466787341905292 	-0.0472584020232824642 	
-0.00108833314042180518 	-0.0618088915200014702 	
--0.0233896092879418982 	0.0240768221251137157 	
-0.00111987184499758789 	0.0718305342569986599 	
-0.0562294898624268458 	0.0285686052235263124 	
--0.009118482427661459 	-0.0554267916973234798 	
--0.0930806523199268765 	-0.0335930433935652667 	
--0.0806129045872575334 	0.0874335302895848515 	
--0.0117317764168359366 	-0.0806586712405146927 	
-0.0128401186755753346 	0.0268439191977041143 	
-0.0143219953297162601 	-0.0079182852193089466 	
-0.0976400230285097703 	0.0702364797353323828 	
--0.00535618706805003186 	-0.0925572905910626159 	
--0.0815162553100333975 	0.0403888963104233681 	
--0.0557730146951508354 	0.0190666382413910672 	
--0.00367562251348046163 	-0.0345797652307740511 	
-0.0275212595645923652 	-0.0423120203055957142 	
--0.0389987240318669104 	-0.0685329897324213205 	
-0.0540697897971864488 	0.0266505870943136158 	
-0.0743500526842909154 	-0.0108853385615695891 	
-0.0699034871540142877 	-0.0947338843723620344 	
--0.0640430218774494103 	0.000618518607614404079 	
-0.00652887642066913004 	0.0215188237064331232 	
-0.0448731010092065022 	0.00710160432193878213 	
--0.0722606162630659576 	0.0628280119098872658 	
--0.0761519835511388077 	-0.0613594672456401966 	
-0.0646981174281868326 	0.0203481371037696306 	
--0.0817951425256297354 	-0.0917366316314648378 	
-0.0333559849908883418 	-0.050389492979438226 	
--0.0118273505453493546 	0.0446064143651218534 	
-0.014595860542586981 	-0.0132015884035148901 	
--0.0784814401229882302 	0.0130338071130500447 	
--0.0285917313139486401 	0.0150758577027189106 	
-0.0194883463095298533 	-0.0243838511020287828 	
-0.0345402035837251362 	0.0846796166494649255 	
-0.0193044624854945696 	0.026250594521797465 	
--0.0176929292244192536 	0.0937009164034010578 	
-0.0521597392296107576 	-0.0497375613025667351 	
-0.0627567389035009054 	0.0759183424293582432 	
--0.0528566894412272614 	0.0644594627917500912 	
-0.0560148467301473871 	-0.0564879292788712517 	
--0.010687308371917309 	-0.0769110484757144913 	
+-0.465898380823878189 	-0.5257472271757333 	
+-0.415405536827058774 	-0.43237156270415017 	
+0.0377511944185540613 	-0.0222622113836586887 	
+-0.0868755264578250919 	-0.0216992332506284885 	
+0.0865009934275749182 	0.0569869095104786963 	
+0.0630219316007317315 	-0.0450340254667259202 	
+0.0666281966527277891 	-0.0446432361850761239 	
+0.0961961981148215656 	-0.0123482149280900386 	
+0.0448151017996752804 	-0.0642693878315704209 	
+-0.075006345497866847 	0.00184064232416001391 	
+0.0612971409888469487 	0.0208950902240054789 	
+-0.0919222330438322216 	0.0293985588267555581 	
+0.0736577677620802174 	0.0994731168989075043 	
+0.0471323851115119374 	0.0835883750403254439 	
+0.086465269770948025 	-0.0244708540938262734 	
+0.0103599969444587471 	-0.0428593623565605847 	
+-0.0304050479262150224 	-0.0318783654306413478 	
+0.0935576694502477518 	0.0570724402824804092 	
+0.0166478901318044374 	-0.00192082664064034334 	
+0.096256754920001325 	0.0757236542388587258 	
+-0.0264540261631267398 	-0.0484027660631978635 	
+-0.0564610545072463665 	0.0315320791044084101 	
+0.0378904193824292287 	0.0339310050528438475 	
+0.0563158506658397173 	-0.0519713548261833691 	
+-0.080606033371540084 	0.0540049341784283113 	
+0.0751040032630000132 	0.0796137877649104458 	
+0.0473667098155404268 	0.0633956816146060143 	
+0.0743799931969063438 	0.0910889996122211248 	
+0.0107056918395281048 	-0.045906624477842238 	
+0.0506652190818280695 	-0.00159507751323828269 	
+0.099295723632253724 	-0.060124582236653755 	
+-0.0635127446998727391 	-0.0597685466862121623 	
+0.0533257124070978875 	0.0488376595600343993 	
+-0.0937274038724440484 	-0.0437576437563768905 	
+0.0556820696590725611 	0.0860148757514303669 	
+0.0180750237176321576 	0.105163216997359157 	
+-0.0565751822925452189 	0.0566121995624142421 	
+0.0849372015611735559 	-0.0388108497910118685 	
+-0.0736961337766516011 	-0.0460566342434277493 	
+-0.0162489001250914443 	0.0405407415988060307 	
+0.000157946818281875373 	-0.0749297608648691049 	
+0.0272906128648208839 	0.0568927335771478443 	
+0.00815601129881845383 	-0.0533114719315210678 	
+-0.0939201689989332816 	0.105273361811564145 	
+-0.0111473559009087862 	-0.0653831178259362961 	
+0.0610948303860326739 	0.0954913676837410158 	
+-0.0174220266096739157 	0.0297442387380705865 	
+0.0840702104638651332 	0.0973775312699722423 	
+-0.0397289685965072012 	0.0711711024413102383 	
+0.0802933310470585054 	0.0641000839691762136 	
+0.0968309977815658418 	0.0438330542369773438 	
+0.0880958768773097006 	0.0923753972929968747 	
+0.0985443015806782563 	0.0599778624457802736 	
+0.0619249323315275157 	0.0494478047310362989 	
+0.0545448318081365249 	-0.0780754060476148287 	
+0.0285113858607967639 	-0.0409584131047952341 	
+-0.089918399505542923 	-0.090022109061663344 	
+0.018918952502982922 	0.0772576604645199699 	
+-0.0265314066894932928 	-0.0395818057802785617 	
+0.000473440135177595998 	-0.0541903410229482366 	
+-0.0243895218138544187 	0.0314580617326275375 	
+-8.81216288233764317e-05 	0.0789141109871618063 	
+0.0552237333575481895 	0.035584648552184947 	
+-0.00976359847531528026 	-0.0477894835382122185 	
+-0.093841357470886122 	-0.0256801896714868479 	
+-0.0819052561031868576 	0.0948115209067496439 	
+-0.0122660894056416878 	-0.0729104201736537477 	
+0.0118347938134664987 	0.0340559807103727602 	
+0.0134708848282789617 	-0.000572578382826163801 	
+0.0964559269836439137 	0.0769043990377378389 	
+-0.00583661421481141383 	-0.0847893619270053411 	
+-0.0826000181463166228 	0.0479596982245045905 	
+-0.056757225176007467 	0.026610005930452138 	
+-0.00441156243096314099 	-0.0270501719769326299 	
+0.0268252609052835496 	-0.0348865253720667887 	
+-0.0395922519937956865 	-0.0607140283455538318 	
+0.0530709135422441428 	0.0336849212342133636 	
+0.0735224643489766627 	-0.00379001431917099733 	
+0.0694480810439801199 	-0.087284121902583528 	
+-0.064947302954847394 	0.00827124620280034542 	
+0.00554519691252461974 	0.0287814138263757166 	
+0.0439607797669580233 	0.0142535323411294712 	
+-0.073442074952868322 	0.070269798400858674 	
+-0.0767863076968120367 	-0.0534094187858660877 	
+0.0637298453652152125 	0.0273605378954342518 	
+-0.0822979792355355844 	-0.0836431836016150454 	
+0.0326964528683156563 	-0.042956796320541904 	
+-0.0129164191936799039 	0.0518554462175771017 	
+0.0137682750812957444 	-0.00583597402461049405 	
+-0.0794433970526516736 	0.0207009222471596296 	
+-0.0295528976169957165 	0.0225166325312974626 	
+0.0187111028799756968 	-0.016994615303334501 	
+0.0332811139570624998 	0.0915651040128478422 	
+0.0183022051395993236 	0.0334379478508383537 	
+-0.0190011281073977981 	0.100777493760880507 	
+0.0515010175441200577 	-0.0423897860144714991 	
+0.0615408062541729015 	0.0827164365885962177 	
+-0.0540417000828431193 	0.0718081644326928614 	
+0.0553872624377869452 	-0.0491302545426191839 	
+-0.0112378581648205737 	-0.0691817878400538266 	
 ]
 ;
 gibbs_ma_schedule = []
@@ -174,11 +174,11 @@
 L1_penalty_factor = 0 ;
 L2_penalty_factor = 0 ;
 weights = 2  100  [ 
-0.017353948315591259 	0.0107376057310444029 	-0.00137843725287949094 	-0.00771222946279981076 	0.00244196189228831385 	-0.00783730645210754459 	-0.00360353752287774758 	0.00411333504327511795 	-0.0050832035188363555 	-0.0025184869578643407 	0.00963945971093286939 	-0.00967997832488681764 	-0.00721117456121172194 	-0.00735760702121089107 	-0.00820884193445024606 	0.00103631806001656989 	-0.00561082353583462149 	-0.00201474751303886302 	0.00888175913173669396 	-0.0017294559418100197 	-0.0077276529265931258 	9.50648406076295754e-05 	-0.00966314168658150702 	-0.00185021113653311472 	0.00711640606127349109 	-0.00175847302594104617 	-0.00688591959895441721 	0.00757222724544449628 	-0.00657920792445659038 	0.00844039705493172983 	0.00814128662816855468 	0.00291644666025926312 	-3.45800236308192906e-05 	-0.00735629900410720954 	0.00268292415454321779 	0.00038843115499599581 	-0.00737384515055258382 	0.00957402426943069519 	0.000610917481675331557 	0.00220977988948639539 	-0.0084512!
 8990322340477 	-0.00473619066529813292 	-0.00281282714467592614 	0.00660465496523907417 	0.000816996289615194412 	0.0052155069567571509 	0.00352556015039979121 	0.00322479394449715507 	-0.00628566084422852236 	-0.0013019478654544424 	0.00440834163216007741 	0.00712826108748637957 	-0.00882642388521534364 	-0.00917175131147555424 	0.00498112069640522463 	-0.00893575161639611516 	-0.00845861204586409107 	-0.000687769341869303124 	-0.00115847007938953725 	0.00377467537085673412 	-0.00436028741789559401 	0.00438176333401217415 	0.00159888984012711288 	0.00851184162186577678 	-0.00569827133888994256 	0.00169563232391223523 	0.0076911506925885411 	-0.00926183441446017455 	-1.35477495192586539e-05 	-0.00862218011875030485 	-0.00274867786684924358 	0.0063476308769091494 	0.00759001246780101682 	-0.0077956441415521615 	0.0100141498121207387 	0.00588434196195253365 	0.0068265520739639509 	-0.00541515669219470169 	-0.00925160003017815556 	1.44062529773879636e-05 	0.0087780970551740930!
 6 	-0.00713129625106970026 	0.00550714523882248064 	-0.0031779!
 17499675
63392 	0.00749288128272820441 	-0.00128915540803115178 	0.00900673193307805799 	0.00140966213935329703 	0.000930090496454819482 	0.0099908171247305947 	0.00584868172077703842 	0.000243746729698629625 	0.00103176180466058205 	0.00204860568200892091 	-0.00973911278151828874 	0.00685674600123927988 	-0.00764098953712107586 	0.00563202215011393559 	-0.00211316891660656009 	0.00442488472046852904 	
--0.0161857401234886261 	-0.00212129285376931077 	0.00670338489131668772 	0.00117017240309458931 	0.00758798507846511483 	-0.00893886153108164327 	0.00611304293635042857 	0.00712364359564213612 	0.00250785408362618183 	-0.00692105003180213795 	0.0080905638240356733 	0.00111111350622446333 	0.00588957992525578934 	-0.00186426135876194212 	0.00304151123540880941 	0.00778415684215138376 	0.00217505228008071406 	0.00133613010826507338 	0.00680427957750895547 	-0.00354081761326010842 	0.00290409460071386306 	0.00100005687647288519 	-0.00113987130101722892 	0.00794126067359583743 	-0.00804686333011500089 	-0.00871572108536140637 	-0.00164827269027128338 	-0.00599982860429775118 	0.0063963153374207481 	0.00415688702925432092 	-0.00434759447708397105 	-0.00494353013726456583 	-0.00793102521668431759 	0.00917804639372928575 	-0.00748406778122564717 	-0.00109714950142780483 	-0.00893641320816434409 	0.000370406241082775695 	0.00204590535621390623 	-0.00828006688428631864 	-0.002085037!
 4821201785 	0.00564520477202630662 	0.00187531177785348079 	0.00991452081662939043 	0.000271399318042581279 	-0.00466224983132730499 	-0.00242024206697189805 	0.00315696153138905191 	0.00201946572393864278 	-0.00821678650024714602 	0.000850415853848080546 	0.00258287243356388266 	-0.00657239913762700662 	0.00204585173861890389 	-0.00626897293806285508 	0.000860228388942912265 	0.00482285608224065649 	0.0067815164314862968 	0.00921641530570870005 	-0.00973611128769030949 	0.0080499604858975133 	0.00675352824423600465 	0.00833987943053885079 	0.00128275365693378794 	0.00535020684457071776 	0.00384680186462512405 	0.00859306131180483102 	0.00381359199319824529 	-0.000524862785562912534 	-0.000452257941883503771 	-0.00993033840196285052 	0.000364069756259109223 	0.00663980032656400539 	0.00944116503913440368 	0.00962383709375213767 	-0.0102840577310571203 	-0.00530640514616759641 	-0.00381716092683097655 	-0.0012669650499504163 	-0.000724347691376591796 	-0.00078915487813911234!
 3 	-0.0030200160163380424 	-0.00872088248726549282 	-0.0032034!
 30941679
26425 	0.00745561580124125527 	-0.00615392193269089036 	-0.00382759660398794685 	0.00773988292856803237 	0.000659610311362498103 	-0.00342118199705950107 	0.00722560634476822512 	-0.00594720811409929322 	0.00794498515588255155 	-0.000914892169327453041 	0.00572214876503610373 	0.00439153178308596299 	-0.00883041385304800773 	0.0100708008731979128 	0.00529606597212821384 	-0.00473074775724258937 	
+0.017008554997057692 	0.0104387876115214877 	-0.00136459452131401692 	-0.007694830893472452 	0.0024444011559232909 	-0.0078228201312652481 	-0.00358938045145438395 	0.00412097543907406164 	-0.00506516401766118809 	-0.00250251244769061909 	0.00964740260385949823 	-0.00966548314037402566 	-0.00720963742471932793 	-0.00735244692905994649 	-0.00819882043413208174 	0.00105377283442701676 	-0.00559300587724305149 	-0.00201317355851039163 	0.00889510240232954837 	-0.00172946756473074843 	-0.00770847256928006239 	0.000109134497070920112 	-0.00965413118259607871 	-0.00183440390754073036 	0.00712978011451060895 	-0.00175611232543246309 	-0.00687969094841575819 	0.0075740713823546869 	-0.00656146052637328163 	0.00845127777823999511 	0.00815461804420629204 	0.00293687577159292348 	-2.79965314463935869e-05 	-0.00733751516448193173 	0.00268709723932520793 	0.00039533036134122262 	-0.00736099423109966029 	0.00958590200963892192 	0.000630166324511920737 	0.00222194466177643834 	-0.00843006!
 948794802931 	-0.00472781073398588839 	-0.00279420740702469254 	0.0066165067854904204 	0.000837489333667666594 	0.00521865545287852634 	0.00353842611234711111 	0.00322515828079153986 	-0.00627397155868205606 	-0.00129925620463139705 	0.0044105156653273048 	0.00712836246720142692 	-0.00882568553700607307 	-0.0091660636923518099 	0.00500033619746034601 	-0.00891941496497438389 	-0.00843611819587269419 	-0.000679800346760737139 	-0.00114007892583917192 	0.00379367606564552044 	-0.004347221497421218 	0.00439103874927778554 	0.00160623852285541138 	0.00853054253947964705 	-0.00568070806358677086 	0.00170762630165911204 	0.00771245518597830134 	-0.00925088914422879556 	-1.26860580047685571e-07 	-0.00862228977062608898 	-0.0027262074447650499 	0.00636127260976974973 	0.00760435532899364757 	-0.00777906044286228414 	0.0100299539966816724 	0.005904837604418239 	0.00683424730708538306 	-0.00540610720721784906 	-0.0092320567611166738 	2.99290581919610605e-05 	0.00878979679866237484 	-!
 0.00712125981352962605 	0.00551979760016440592 	-0.00315813358!
 73988284
 	0.0075000535504068204 	-0.00126699128886875278 	0.00902304204833798661 	0.00142102496993732545 	0.000943934729021668234 	0.0100057447306505978 	0.00586249806435862504 	0.000258289821636560309 	0.00103786744919908249 	0.00205915322665153454 	-0.00972949605808085503 	0.00687177560776495132 	-0.00763727375797339063 	0.00564417353588726051 	-0.00209763415342224639 	0.00444577511520436851 	
+-0.0158403468049550245 	-0.00182247473424640232 	0.00668954215975122411 	0.00115277383376725853 	0.00758554581483015383 	-0.00895334785192393109 	0.00609888586492709009 	0.00711600319984317074 	0.00248981458245101876 	-0.00693702454197584872 	0.00808262093110903405 	0.0010966183217116475 	0.00588804278876337277 	-0.00186942145091290664 	0.00303148973509062428 	0.00776670206774096768 	0.00215723462148917485 	0.0013345561537366009 	0.00679093630691612101 	-0.00354080599033937231 	0.00288491424340078361 	0.000985987220009603219 	-0.00114888180500262276 	0.00792545344460340341 	-0.00806023738335212049 	-0.00871808178586999834 	-0.0016545013408099463 	-0.00600167274120792186 	0.00637856793933743935 	0.00414600630594605564 	-0.00436092589312168499 	-0.00496395924859824485 	-0.00793760870886877669 	0.00915926255410397239 	-0.00748824086600762256 	-0.00110404870777303858 	-0.00894926412761726589 	0.00035852850087464091 	0.0020266565133773215 	-0.00829223165657636853 	-0.00210625789!
 739553575 	0.00563682484071408377 	0.00185669204020226216 	0.0099026689963780546 	0.000250906273990107688 	-0.00466539832744864227 	-0.00243310802891919843 	0.00315659719509466669 	0.00200777643839219729 	-0.00821947816107023409 	0.000848241820680825827 	0.00258277105384882143 	-0.00657313748583628066 	0.00204016411949509927 	-0.00628818843911795825 	0.000843891737521266215 	0.00480036223224925441 	0.00677354743637774859 	0.00919802415215835271 	-0.00975511198247906199 	0.00803689456542313815 	0.0067442528289704002 	0.00833253074781055945 	0.00126405273931993805 	0.00533264356926755733 	0.00383480788687822708 	0.0085717568184150994 	0.00380264672296687844 	-0.000538283674502128382 	-0.000452148290007688852 	-0.00995280882404701861 	0.000350428023398520385 	0.00662545746537139633 	0.00942458134044455928 	0.00960803290919119181 	-0.0103045533735228664 	-0.0053141003792890433 	-0.00382621041180779666 	-0.00128650831901190262 	-0.000739870496591170097 	-0.00080085462162742579 	!
 -0.00303005245387808105 	-0.0087335348486074077 	-0.0032232148!
 53956046
35 	0.00744844353356260459 	-0.00617608605185327765 	-0.00384390671924787547 	0.007728520097984002 	0.000645766078795653037 	-0.00343610960297948201 	0.00721179000118664891 	-0.00596175120603724407 	0.0079388795113440689 	-0.000925439713970062014 	0.00571253204159864313 	0.00437650217656029242 	-0.00883412963219572939 	0.0100586494874245549 	0.00528053120894389754 	-0.00475163815197840889 	
 ]
 ;
-bias = 2 [ 0.00010045537752959759 -0.000100455377529512589 ] ;
+bias = 2 [ 7.01176701747223234e-05 -7.01176701746282147e-05 ] ;
 input_size = 100 ;
 output_size = 2 ;
 estimate_simpler_diag_hessian = 0 ;

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/global_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/split_stats.pmat
===================================================================
(Binary files differ)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000570.html">[Plearn-commits] r7121 - in trunk/plearn_learners/distributions: .	EXPERIMENTAL
</A></li>
	<LI>Next message: <A HREF="000572.html">[Plearn-commits] r7123 - trunk/plearn_learners/online
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#571">[ date ]</a>
              <a href="thread.html#571">[ thread ]</a>
              <a href="subject.html#571">[ subject ]</a>
              <a href="author.html#571">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plearn-commits">More information about the Plearn-commits
mailing list</a><br>
</body></html>
