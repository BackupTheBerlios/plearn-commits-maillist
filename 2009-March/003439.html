<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plearn-commits] r9999 - trunk/plearn/vmat
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plearn-commits/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:plearn-commits%40lists.berlios.de?Subject=Re%3A%20%5BPlearn-commits%5D%20r9999%20-%20trunk/plearn/vmat&In-Reply-To=%3C200903091929.n29JTUiR016475%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003438.html">
   <LINK REL="Next"  HREF="003440.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plearn-commits] r9999 - trunk/plearn/vmat</H1>
    <B>nouiz at BerliOS</B> 
    <A HREF="mailto:plearn-commits%40lists.berlios.de?Subject=Re%3A%20%5BPlearn-commits%5D%20r9999%20-%20trunk/plearn/vmat&In-Reply-To=%3C200903091929.n29JTUiR016475%40sheep.berlios.de%3E"
       TITLE="[Plearn-commits] r9999 - trunk/plearn/vmat">nouiz at mail.berlios.de
       </A><BR>
    <I>Mon Mar  9 20:29:30 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003438.html">[Plearn-commits] r9998 - trunk/plearn_learners/generic
</A></li>
        <LI>Next message: <A HREF="003440.html">[Plearn-commits] r10000 - trunk/plearn/math
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3439">[ date ]</a>
              <a href="thread.html#3439">[ thread ]</a>
              <a href="subject.html#3439">[ subject ]</a>
              <a href="author.html#3439">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: nouiz
Date: 2009-03-09 20:29:30 +0100 (Mon, 09 Mar 2009)
New Revision: 9999

Modified:
   trunk/plearn/vmat/VMatrix.cc
Log:
make the fct VMatrix::saveFieldInfos() more robust. When we read the old file to check if we need to write it, if their was an error, we received an PLERROR. We just ignore the error and write the file again as it was corrupted.


Modified: trunk/plearn/vmat/VMatrix.cc
===================================================================
--- trunk/plearn/vmat/VMatrix.cc	2009-03-09 17:53:10 UTC (rev 9998)
+++ trunk/plearn/vmat/VMatrix.cc	2009-03-09 19:29:30 UTC (rev 9999)
@@ -814,7 +814,10 @@
 {
     // check if we need to save the fieldinfos
     if(fieldinfos.size() &gt; 0) {
-        Array&lt;VMField&gt; current_fieldinfos = getSavedFieldInfos();
+        Array&lt;VMField&gt; current_fieldinfos;
+        try{
+            current_fieldinfos = getSavedFieldInfos();
+        }catch(PLearnError){}
         if (current_fieldinfos != fieldinfos) {
 
             // Ensure that the metadatadir exists


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003438.html">[Plearn-commits] r9998 - trunk/plearn_learners/generic
</A></li>
	<LI>Next message: <A HREF="003440.html">[Plearn-commits] r10000 - trunk/plearn/math
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3439">[ date ]</a>
              <a href="thread.html#3439">[ thread ]</a>
              <a href="subject.html#3439">[ subject ]</a>
              <a href="author.html#3439">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plearn-commits">More information about the Plearn-commits
mailing list</a><br>
</body></html>
