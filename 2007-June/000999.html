<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plearn-commits] r7550 - in	trunk/plearn_learners/online/test/DeepBeliefNet: .	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/Split0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-0/Split0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plearn-commits/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:plearn-commits%40lists.berlios.de?Subject=Re%3A%20%5BPlearn-commits%5D%20r7550%20-%20in%0A%09trunk/plearn_learners/online/test/DeepBeliefNet%3A%20.%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/Split0%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-0/Split0%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0&In-Reply-To=%3C200706071543.l57Fh02R001867%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000998.html">
   <LINK REL="Next"  HREF="001000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plearn-commits] r7550 - in	trunk/plearn_learners/online/test/DeepBeliefNet: .	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/Split0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-0/Split0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0</H1>
    <B>tihocan at BerliOS</B> 
    <A HREF="mailto:plearn-commits%40lists.berlios.de?Subject=Re%3A%20%5BPlearn-commits%5D%20r7550%20-%20in%0A%09trunk/plearn_learners/online/test/DeepBeliefNet%3A%20.%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/Split0%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-0/Split0%0A%09.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0&In-Reply-To=%3C200706071543.l57Fh02R001867%40sheep.berlios.de%3E"
       TITLE="[Plearn-commits] r7550 - in	trunk/plearn_learners/online/test/DeepBeliefNet: .	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/Split0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-0/Split0	.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0">tihocan at mail.berlios.de
       </A><BR>
    <I>Thu Jun  7 17:43:00 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000998.html">[Plearn-commits] r7549 - branches
</A></li>
        <LI>Next message: <A HREF="001000.html">[Plearn-commits] r7551 - in branches/cgi-desjardin: commands	commands/PLearnCommands plearn/base plearn/io plearn/sys	plearn/vmat plearn_learners plearn_learners/hyper	plearn_learners/online plearn_learners/second_iteration scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#999">[ date ]</a>
              <a href="thread.html#999">[ thread ]</a>
              <a href="subject.html#999">[ subject ]</a>
              <a href="author.html#999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tihocan
Date: 2007-06-07 17:42:58 +0200 (Thu, 07 Jun 2007)
New Revision: 7550

Modified:
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/Split0/final_learner.psave
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/global_stats.pmat
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/split_stats.pmat
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0/final_learner.psave
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/global_stats.pmat
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/split_stats.pmat
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-0/Split0/final_learner.psave
   trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0/final_learner.psave
   trunk/plearn_learners/online/test/DeepBeliefNet/PL_DBN_Mini-batch.pyplearn
   trunk/plearn_learners/online/test/DeepBeliefNet/pytest.config
Log:
Regenerated test 'PL_DBN_Mini-batch' without fast approximations, so the test does not require to lower precision

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/Split0/final_learner.psave
===================================================================
--- trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/Split0/final_learner.psave	2007-06-07 14:43:22 UTC (rev 7549)
+++ trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/Split0/final_learner.psave	2007-06-07 15:42:58 UTC (rev 7550)
@@ -19,6 +19,7 @@
 input_size = 2 ;
 output_size = 2 ;
 name = &quot;RBMBinomialLayer&quot; ;
+use_fast_approximations = 0 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3 -&gt;PRandom(
@@ -33,116 +34,117 @@
 ;
 gibbs_ma_increment = 0.100000000000000006 ;
 gibbs_initial_ma_coefficient = 0.100000000000000006 ;
-bias = 100 [ -3.21580575368705368 -3.22364753521804781 0.0657827866426371755 0.0696030904799730954 0.0622029618057324957 0.0657378684765310972 0.0656101265818516827 0.0638544637987858155 0.066834155056612693 0.06851399357392432 0.0638885967214564421 0.0682193222523920367 0.0614189353126122703 0.0625664766511173087 0.0644591111231603703 0.0672080258882709475 0.0681189224163839119 0.0620144498236062935 0.0658168511287077068 0.0614584698111661498 0.0685006396586318317 0.0670479847182284955 0.0641700406260315298 0.0661248069558832696 0.0671701269075536539 0.0619280966934446855 0.0631002357645635142 0.0616579996278061107 0.0672834623592647452 0.0648275672466712555 0.0651764494044027171 0.0700494806732006453 0.0633482123265595304 0.0705131377405389115 0.0622909603789631242 0.0628167867929062956 0.0663347352041287752 0.0649449035714201317 0.0699396681514389273 0.0655818667632351859 0.0685066157524031466 0.0638341419302661112 0.0675948606542311481 0.066125477314180614 0.06856318275!
 81079101 0.0618955421308295811 0.0659183468910491677 0.0612163654801688162 0.0654024349135764044 0.0621983451516724406 0.0622920880548175557 0.061245812941509839 0.0618062259590423102 0.0630664460752235617 0.0669921649854180873 0.0666066772938697232 0.0718850881647959683 0.0635225507551099161 0.0682316342600248621 0.0678732444344292557 0.0660568040568560999 0.0640291125303126818 0.0636386992597940543 0.0679831833666539737 0.0699530259034038676 0.0660419388372846805 0.0688321552553833454 0.0649094861976335091 0.065869184195756797 0.0614068151019241601 0.0690146718658728037 0.0673971388239837654 0.0672023840821927426 0.0671655330874224299 0.0664861857760034314 0.0693207953501458057 0.0637773254435998888 0.0642392433002831748 0.0668207490601321341 0.0679989486904433588 0.0652705848529419042 0.0645560824978384101 0.0664835106333893366 0.0702736876926789017 0.0636389201503628904 0.0714316391373439191 0.0665688382090242059 0.0651440873146577892 0.0660134349623082289 0.06810149087!
 29601215 0.0664832647847770769 0.0662017489390426123 0.0627373!
 53259297
7873 0.064759889243550986 0.0639710264357981478 0.0659921336077071846 0.0622046577630927522 0.0658226101336753244 0.0660693261083197952 0.0686926071107428898 ] ;
+bias = 100 [ -3.21580575368705368 -3.22364753521804737 0.0657827866426371755 0.0696030904799730815 0.0622029618057324957 0.0657378684765310972 0.0656101265818516688 0.0638544637987858155 0.0668341550566126791 0.0685139935739243339 0.0638885967214564421 0.0682193222523920229 0.0614189353126122703 0.0625664766511173087 0.0644591111231603425 0.0672080258882709475 0.068118922416383898 0.0620144498236062866 0.0658168511287076929 0.0614584698111661498 0.0685006396586318178 0.0670479847182284955 0.0641700406260315298 0.0661248069558832557 0.0671701269075536539 0.0619280966934446925 0.0631002357645635142 0.0616579996278061038 0.067283462359264759 0.0648275672466712555 0.0651764494044027171 0.0700494806732006176 0.0633482123265595443 0.0705131377405389115 0.0622909603789631242 0.062816786792906254 0.0663347352041287891 0.0649449035714201317 0.0699396681514389412 0.0655818667632351998 0.0685066157524031605 0.0638341419302660973 0.0675948606542311481 0.066125477314180614 0.06856318275!
 81078962 0.0618955421308295742 0.0659183468910491538 0.0612163654801688092 0.0654024349135763905 0.0621983451516724475 0.0622920880548175557 0.0612458129415098251 0.0618062259590422894 0.0630664460752235617 0.0669921649854180873 0.0666066772938697094 0.0718850881647959405 0.0635225507551099022 0.0682316342600248621 0.0678732444344292418 0.066056804056856086 0.0640291125303126818 0.0636386992597940543 0.0679831833666539737 0.0699530259034038676 0.0660419388372846944 0.0688321552553833454 0.0649094861976334953 0.0658691841957568108 0.0614068151019241601 0.0690146718658728037 0.0673971388239837654 0.0672023840821927287 0.067165533087422416 0.0664861857760034314 0.0693207953501458057 0.0637773254435999026 0.0642392433002831748 0.0668207490601321202 0.0679989486904433588 0.0652705848529419319 0.0645560824978383824 0.0664835106333893228 0.0702736876926789017 0.0636389201503628765 0.0714316391373439191 0.0665688382090241643 0.0651440873146577892 0.0660134349623082289 0.06810149087!
 29601215 0.066483264784777063 0.0662017489390426123 0.06273735!
 32592977
873 0.064759889243550986 0.0639710264357981478 0.0659921336077071846 0.0622046577630927452 0.0658226101336753244 0.0660693261083197814 0.068692607110742876 ] ;
 input_size = 100 ;
 output_size = 100 ;
 name = &quot;RBMMultinomialLayer&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
 ] ;
 connections = 1 [ *5 -&gt;RBMMatrixConnection(
 weights = 100  2  [ 
--1.21415711267087545 	-1.29354388830904199 	
--1.24418997827235556 	-1.27717900530481843 	
-0.0690673896090493733 	0.00106171994505328718 	
--0.0516350068945717125 	0.00282024601463587909 	
-0.11576289542965755 	0.0779696628865056002 	
-0.0937738356356867114 	-0.0213411066976067106 	
-0.0972995083962690521 	-0.020993689739654587 	
-0.125729266175554244 	0.0102265283424613773 	
-0.0763061532337257903 	-0.0398982061240517327 	
--0.0404402347009997568 	0.0256125208841107184 	
-0.0915328264772420214 	0.0429378683671718595 	
--0.0570336912737006846 	0.0526007297112317876 	
-0.102969530366209094 	0.119573904600153644 	
-0.0772888280315299769 	0.104255387702343258 	
-0.116394649377435544 	-0.00151413154731652386 	
-0.0426918411965738348 	-0.0187388372631490142 	
-0.00309655765104493259 	-0.00765739105447751315 	
-0.122622375403801082 	0.0780030163934584825 	
-0.0483846049070615694 	0.0210722938700518524 	
-0.125103439244352965 	0.0962171519640014489 	
-0.00709479590682871725 	-0.0237722892465301559 	
--0.0227695901334794282 	0.0543427620501140685 	
-0.0687163096186778483 	0.0558421452465020091 	
-0.0873560612567313016 	-0.0280358619475561018 	
--0.0464106966487873446 	0.0764830303301708425 	
-0.104489235992809307 	0.100178142145328428 	
+-1.21415711267087589 	-1.29354388830904177 	
+-1.24418997827235622 	-1.27717900530481865 	
+0.0690673896090493872 	0.00106171994505329303 	
+-0.0516350068945717194 	0.00282024601463587519 	
+0.11576289542965755 	0.0779696628865055724 	
+0.0937738356356867114 	-0.021341106697606714 	
+0.0972995083962690244 	-0.0209936897396545835 	
+0.125729266175554216 	0.0102265283424613773 	
+0.0763061532337257764 	-0.0398982061240517327 	
+-0.0404402347009997706 	0.0256125208841107149 	
+0.0915328264772420214 	0.0429378683671718664 	
+-0.0570336912737006985 	0.0526007297112317876 	
+0.102969530366209081 	0.119573904600153644 	
+0.0772888280315299631 	0.104255387702343244 	
+0.116394649377435544 	-0.00151413154731653296 	
+0.042691841196573814 	-0.0187388372631490177 	
+0.00309655765104493563 	-0.00765739105447752182 	
+0.122622375403801068 	0.0780030163934584547 	
+0.0483846049070615694 	0.0210722938700518593 	
+0.125103439244352993 	0.0962171519640014627 	
+0.00709479590682871551 	-0.0237722892465301594 	
+-0.0227695901334794421 	0.0543427620501140754 	
+0.0687163096186778344 	0.0558421452465020021 	
+0.0873560612567313155 	-0.0280358619475560913 	
+-0.0464106966487873446 	0.0764830303301708148 	
+0.104489235992809293 	0.100178142145328428 	
 0.0776732347849002358 	0.0845290052909978551 	
 0.103692129703154029 	0.111410227121787497 	
-0.0430717292444947747 	-0.0217089627191627867 	
-0.0813883488134935357 	0.0210933819137022818 	
-0.129102379174570153 	-0.036355898240278843 	
--0.0286792898569442622 	-0.034418242614459478 	
-0.0835488383450222472 	0.0702781455282296547 	
--0.0580004135006431804 	-0.018560401134722463 	
+0.0430717292444947816 	-0.0217089627191627901 	
+0.0813883488134935357 	0.0210933819137022749 	
+0.129102379174570181 	-0.036355898240278843 	
+-0.0286792898569442761 	-0.034418242614459485 	
+0.0835488383450222333 	0.0702781455282296547 	
+-0.0580004135006431942 	-0.01856040113472247 	
 0.0855508878825002456 	0.106579346680886644 	
-0.0488784468778965461 	0.125566752615730415 	
--0.0231226793861455185 	0.0787930530316436339 	
+0.0488784468778965461 	0.125566752615730387 	
+-0.023122679386145515 	0.0787930530316436201 	
 0.114978759718911597 	-0.0154694984082932637 	
--0.0386528393637206868 	-0.0209924608991451864 	
-0.0160783249246924942 	0.0627623210970354867 	
+-0.0386528393637206938 	-0.0209924608991451864 	
+0.0160783249246924942 	0.0627623210970354728 	
 0.0331228024081457323 	-0.0498308212634323566 	
-0.0582388085345983963 	0.0783366438529952969 	
-0.0406519677826411505 	-0.0288869980516132593 	
+0.0582388085345984102 	0.0783366438529952969 	
+0.0406519677826411435 	-0.0288869980516132489 	
 -0.0597141338098050589 	0.126602072017401146 	
-0.0220616100720658487 	-0.0404334267520467042 	
-0.0907453618703057824 	0.115803257937635892 	
-0.015050429772469601 	0.0522433262471396487 	
-0.113094839239612374 	0.117470889171381862 	
+0.0220616100720658521 	-0.0404334267520467042 	
+0.0907453618703058101 	0.115803257937635892 	
+0.0150504297724695993 	0.0522433262471396417 	
+0.113094839239612333 	0.117470889171381862 	
 -0.00690135564924855734 	0.0928396049715910776 	
-0.109649827478102743 	0.0849798591361091427 	
-0.125891761693266185 	0.0650552724959696654 	
-0.117040829207718577 	0.112558749468915059 	
+0.109649827478102729 	0.0849798591361091565 	
+0.125891761693266213 	0.0650552724959696516 	
+0.11704082920771855 	0.112558749468915059 	
 0.127449941476074358 	0.0808065072573193877 	
-0.0919423334473952747 	0.0707898574066043729 	
+0.0919423334473952608 	0.0707898574066043729 	
 0.0858278120887288193 	-0.0534235543680405545 	
-0.0602800406259822799 	-0.0170601239435519865 	
--0.053810352097996561 	-0.0635244256416778175 	
-0.0499377763793946508 	0.0982902763280064928 	
-0.00693050343376365886 	-0.0151916842537587263 	
-0.0331727775095305988 	-0.0296617801682230176 	
-0.00833280114998716931 	0.0539681702117705275 	
-0.031461760898633194 	0.100064949873964068 	
-0.0855326426254968963 	0.0573150170515133658 	
-0.0232074937816082634 	-0.0233352076821683845 	
--0.0583191191212871565 	-0.000979764064585391878 	
--0.0479906282582027513 	0.116284453036889127 	
-0.0210591810317722582 	-0.0477397138282999595 	
+0.060280040625982266 	-0.0170601239435519865 	
+-0.0538103520979965749 	-0.0635244256416778175 	
+0.0499377763793946439 	0.0982902763280064928 	
+0.00693050343376365452 	-0.015191684253758728 	
+0.0331727775095305918 	-0.0296617801682230349 	
+0.0083328011499871589 	0.0539681702117705206 	
+0.0314617608986332009 	0.100064949873964096 	
+0.0855326426254968963 	0.057315017051513345 	
+0.023207493781608253 	-0.0233352076821683845 	
+-0.0583191191212871773 	-0.000979764064585384288 	
+-0.0479906282582027444 	0.116284453036889113 	
+0.0210591810317722547 	-0.0477397138282999317 	
 0.0434376062540039742 	0.0561817288505665896 	
-0.0452950663181666685 	0.0224140022605995755 	
-0.125304222726260267 	0.0973538514926476223 	
-0.0273905390733705234 	-0.0593483422458846235 	
+0.0452950663181666685 	0.022414002260599572 	
+0.125304222726260239 	0.0973538514926476223 	
+0.0273905390733705199 	-0.0593483422458846235 	
 -0.0482520815783283041 	0.0706049670949486785 	
 -0.0230148144711252271 	0.0495507483466000181 	
-0.0282514195131074453 	-0.00321472486741666928 	
-0.058562138849964078 	-0.0111312665818238624 	
--0.00555360888280790905 	-0.0355896183418070028 	
+0.0282514195131074383 	-0.00321472486741668142 	
+0.058562138849964071 	-0.0111312665818238642 	
+-0.00555360888280791425 	-0.0355896183418070028 	
 0.0834121315444082828 	0.0554918556198370494 	
-0.103621345570545725 	0.018758547809826151 	
-0.10042262676283964 	-0.0625169307095753413 	
--0.0307622944804058357 	0.0317687524264961343 	
-0.0373219821352471087 	0.051103099269427181 	
-0.0747649366073993987 	0.0365997076737267432 	
+0.103621345570545739 	0.0187585478098261545 	
+0.100422626762839626 	-0.0625169307095753274 	
+-0.0307622944804058426 	0.0317687524264961274 	
+0.0373219821352471226 	0.0511030992694271741 	
+0.074764936607399371 	0.0365997076737267432 	
 -0.0396251857033068436 	0.0922725594729125048 	
--0.0415625864709825293 	-0.028102500526772628 	
-0.0938474228099761137 	0.0492258097438833461 	
+-0.0415625864709825432 	-0.0281025005267726037 	
+0.0938474228099761276 	0.0492258097438833461 	
 -0.0465543952870261582 	-0.0573943961338660089 	
-0.0642999004945939284 	-0.0190406742732633638 	
+0.0642999004945939145 	-0.0190406742732633638 	
 0.0192566912094867988 	0.0737614039978816 	
-0.0456318762720610976 	0.0172826898145707966 	
+0.0456318762720610838 	0.0172826898145707897 	
 -0.0449514150475808227 	0.0440256246457320088 	
-0.00338020415539047082 	0.0453054325727234586 	
-0.0505121972965595842 	0.0063691522094812443 	
-0.0637718544343126165 	0.112154363518923827 	
-0.0496769642818689003 	0.0555319134645490958 	
-0.0129640742770456077 	0.121565282319786139 	
-0.0825645251590735596 	-0.018662570808792963 	
-0.0912876914719137483 	0.10330232917136499 	
--0.0207879822675519077 	0.0935891931065968158 	
+0.00338020415539046389 	0.0453054325727234586 	
+0.0505121972965595842 	0.00636915220948123736 	
+0.0637718544343126165 	0.112154363518923855 	
+0.0496769642818689003 	0.0555319134645490819 	
+0.0129640742770456147 	0.121565282319786111 	
+0.0825645251590735457 	-0.0186625708087929665 	
+0.0912876914719137483 	0.103302329171365018 	
+-0.0207879822675519077 	0.0935891931065968435 	
 0.0864228173229119323 	-0.0252615256322490621 	
-0.0219937469394293449 	-0.0441223905892084572 	
+0.0219937469394293449 	-0.0441223905892084711 	
 ]
 ;
 gibbs_ma_schedule = []
@@ -157,6 +159,7 @@
 input_size = 2 ;
 output_size = 100 ;
 name = &quot;RBMMatrixConnection&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *6 -&gt;PRandom(
@@ -178,14 +181,15 @@
 L1_penalty_factor = 0 ;
 L2_penalty_factor = 0 ;
 weights = 2  100  [ 
-0.0569056865162901743 	0.0506708704397472176 	-0.00281005636301307577 	-0.00883585699550448571 	0.000968317251690560001 	-0.00934023592686317183 	-0.00511697102021179719 	0.00254076500836063809 	-0.00654591324086042751 	-0.00364155904253430198 	0.00817896291237938874 	-0.0107260314649677869 	-0.00859582448416375787 	-0.00872110586451122979 	-0.00976548188772112871 	-0.00033687045127778274 	-0.00688041685678250983 	-0.00350102615490139246 	0.00751567670499836849 	-0.00318769815895596437 	-0.00901948279713810086 	-0.00105238899124976588 	-0.0110583305687190249 	-0.00333929250749425864 	0.00606232293495695927 	-0.00317578753170242103 	-0.00827366343925372769 	0.00617556755864134225 	-0.00795541585758342655 	0.00698929690863082757 	0.0065417829948051457 	0.00169294246983757034 	-0.00144916085077765526 	-0.00849923651446167841 	0.00130887417565956113 	-0.000892816117790639924 	-0.00850108920620314644 	0.00801754174355075351 	-0.000575280972634687263 	0.000958759987538854185 	-0.!
 00981588084176744299 	-0.00608657171273093746 	-0.00418528552938027872 	0.00562735261577514568 	-0.000518050642663959635 	0.00384599591075757401 	0.00226942270388939913 	0.00182406737587419068 	-0.00745302084548695939 	-0.00275203624784231202 	0.0028967032650019371 	0.00571329210131102903 	-0.0103166826500750639 	-0.0106067278271120852 	0.0034960808896459957 	-0.0103525295822042684 	-0.00969075522674989545 	-0.00199977291888563807 	-0.00244342369869020607 	0.00242178409774834215 	-0.00559882884989377615 	0.00311628278103911376 	0.000164874834633516618 	0.00718502450411628076 	-0.00681132342906103257 	0.000672392566058983279 	0.006353803411059223 	-0.0105935035307277298 	-0.00137094737061349494 	-0.0100798145466800323 	-0.00410415532879708153 	0.00529336414233273073 	0.00643952878798065634 	-0.00912602857564504336 	0.00860528804414868211 	0.00461363049429684442 	0.00539813907327492751 	-0.00692511721474696734 	-0.0107749454556943496 	-0.0011298693980604567 	0.007461578090293!
 6189 	-0.00855606835453529349 	0.00444295613423474883 	-0.0043!
 67958872
62757861 	0.00603238991047171016 	-0.00251719714595639247 	0.00758185921101216503 	0.000155711332240578094 	-0.000431246983178083744 	0.00890166994818770464 	0.00461909965740889619 	-0.00113556307955706127 	-0.000295616485385759753 	0.00070233125797974276 	-0.0109428013806251619 	0.0053839440736755716 	-0.00903117295401473924 	0.00450712775405930251 	-0.00359892962931220289 	0.00308890717513798062 	
--0.0557374783241875241 	-0.0420545575624722279 	0.00813500400145023526 	0.00229379993579922892 	0.00906162971906279702 	-0.00743593205632607068 	0.00762647643368445302 	0.00869621363055657348 	0.00397056380565017752 	-0.00579797794713223392 	0.00955106062258910884 	0.00215716664630538277 	0.00727422984820777323 	-0.000500762515461652285 	0.00459815118867967255 	0.00915734535344571443 	0.00344464560102859026 	0.00282240875012756401 	0.00817036200424728007 	-0.00208257539611419887 	0.00419592447125884897 	0.00214751070833023739 	0.00025531758112026467 	0.00943034204455691152 	-0.00699278020379851591 	-0.00729840657960003063 	-0.00026052884997202928 	-0.00460316891749462404 	0.00777252327054752876 	0.00560798717555513124 	-0.00274809084372059807 	-0.00372002594684294266 	-0.00651644438953755296 	0.0103209839040837199 	-0.00611001780234204147 	0.000184097771358786262 	-0.00780916915251383091 	0.00192688876696273255 	0.00323210381052388245 	-0.0070290469823388246 	-0.00072044654!
 3576197204 	0.00699558581945906952 	0.0032477701625577963 	0.01089182316609324 	0.0016064462503216899 	-0.00329273878532777712 	-0.00116410462046155259 	0.00455768810001197944 	0.00318682572519701952 	-0.00676669811785936097 	0.00236205422100616881 	0.00399784141973917508 	-0.00508214037276732457 	0.00348082825425537245 	-0.00478393313130366302 	0.00227700635475103479 	0.00605499926312637934 	0.00809352000850258567 	0.01050136892500937 	-0.00838322001458193834 	0.00928850191789566508 	0.00801900879720902557 	0.00977389443603241675 	0.0026095707746832497 	0.00646325893474177394 	0.00487004162247831052 	0.0099304085933341283 	0.00514526110946576277 	0.000832536835531273549 	0.00100537648604621423 	-0.00857486094001503295 	0.001418336490835488 	0.00779028400638433465 	0.0107715494732272214 	0.0110326988617241387 	-0.00901334626340150047 	-0.00387799214547862332 	-0.00230720040427873432 	0.000256380375565747564 	0.000419927959661202995 	0.000527364086741302185 	-0.0015952439128!
 724663 	-0.0076566933826778304 	-0.00201338956872734514 	0.008!
 91610717
349773998 	-0.00492588019476571277 	-0.00240272388192210766 	0.00899383373568070354 	0.0020209477909953655 	-0.00233203482051662705 	0.00845518840813633266 	-0.00456789830484366326 	0.00927236344592883947 	0.000431382254701681849 	0.00692583736414298379 	0.00586433371064961143 	-0.00744023043615439812 	0.0111956952692525424 	0.00678182668483380286 	-0.00339477021191207391 	
+0.056905686516290202 	0.0506708704397472037 	-0.00281005636301307664 	-0.00883585699550448571 	0.000968317251690557616 	-0.0093402359268631753 	-0.00511697102021179805 	0.00254076500836063982 	-0.00654591324086042751 	-0.00364155904253430198 	0.00817896291237939568 	-0.0107260314649677869 	-0.00859582448416375787 	-0.00872110586451123153 	-0.00976548188772113045 	-0.000336870451277782902 	-0.00688041685678251157 	-0.00350102615490139463 	0.00751567670499836502 	-0.00318769815895596524 	-0.00901948279713809913 	-0.00105238899124976762 	-0.0110583305687190266 	-0.00333929250749426037 	0.0060623229349569584 	-0.00317578753170242017 	-0.00827366343925372769 	0.00617556755864134051 	-0.00795541585758343002 	0.00698929690863082324 	0.00654178299480514744 	0.00169294246983757121 	-0.00144916085077765396 	-0.00849923651446167841 	0.00130887417565956178 	-0.00089281611779064025 	-0.00850108920620314297 	0.00801754174355075178 	-0.000575280972634687588 	0.000958759987538856137 	-0.00!
 981588084176744473 	-0.00608657171273093572 	-0.00418528552938027959 	0.00562735261577514308 	-0.000518050642663960611 	0.00384599591075757358 	0.00226942270388939653 	0.00182406737587418894 	-0.00745302084548695766 	-0.00275203624784230985 	0.00289670326500193623 	0.00571329210131102903 	-0.0103166826500750639 	-0.0106067278271120887 	0.00349608088964599092 	-0.0103525295822042718 	-0.00969075522674989025 	-0.00199977291888563851 	-0.00244342369869020694 	0.00242178409774834041 	-0.00559882884989377876 	0.00311628278103911289 	0.000164874834633516076 	0.00718502450411627643 	-0.0068113234290610343 	0.000672392566058982845 	0.0063538034110592204 	-0.0105935035307277263 	-0.00137094737061349472 	-0.010079814546680034 	-0.0041041553287970798 	0.00529336414233272726 	0.00643952878798065547 	-0.00912602857564504683 	0.00860528804414868211 	0.00461363049429684268 	0.00539813907327492664 	-0.00692511721474696647 	-0.0107749454556943548 	-0.00112986939806045779 	0.0074615780902936!
 1716 	-0.00855606835453529696 	0.00444295613423474709 	-0.0043!
 67958872
62757948 	0.00603238991047170842 	-0.0025171971459563942 	0.00758185921101216329 	0.000155711332240578772 	-0.000431246983178085804 	0.00890166994818770117 	0.00461909965740889532 	-0.00113556307955706365 	-0.000295616485385759048 	0.000702331257979741893 	-0.0109428013806251619 	0.00538394407367557247 	-0.00903117295401474444 	0.00450712775405929817 	-0.00359892962931220245 	0.00308890717513798105 	
+-0.0557374783241876143 	-0.0420545575624722071 	0.00813500400145022833 	0.00229379993579923065 	0.00906162971906280222 	-0.00743593205632606721 	0.00762647643368444868 	0.00869621363055657695 	0.00397056380565017839 	-0.00579797794713223652 	0.00955106062258910364 	0.00215716664630538537 	0.00727422984820777236 	-0.000500762515461652936 	0.00459815118867967342 	0.00915734535344571443 	0.00344464560102859417 	0.00282240875012756531 	0.00817036200424728354 	-0.00208257539611419844 	0.00419592447125884897 	0.00214751070833023739 	0.000255317581120266405 	0.00943034204455690979 	-0.00699278020379851418 	-0.00729840657960003237 	-0.000260528849972028196 	-0.00460316891749462144 	0.00777252327054753483 	0.0056079871755551321 	-0.00274809084372059894 	-0.00372002594684294049 	-0.00651644438953754689 	0.0103209839040837165 	-0.00611001780234204234 	0.000184097771358787942 	-0.00780916915251383265 	0.00192688876696273451 	0.00323210381052388331 	-0.00702904698233882633 	-0.000720446!
 543576197204 	0.00699558581945907473 	0.00324777016255779717 	0.0108918231660932469 	0.00160644625032169033 	-0.00329273878532777625 	-0.0011641046204615515 	0.00455768810001198118 	0.00318682572519702039 	-0.0067666981178593601 	0.00236205422100616838 	0.00399784141973917768 	-0.0050821403727673237 	0.00348082825425537461 	-0.00478393313130366128 	0.00227700635475103566 	0.00605499926312638454 	0.0080935200085025874 	0.01050136892500937 	-0.00838322001458193487 	0.00928850191789566682 	0.0080190087972090273 	0.00977389443603242022 	0.00260957077468325057 	0.00646325893474177654 	0.00487004162247831052 	0.00993040859333413004 	0.00514526110946576711 	0.000832536835531275934 	0.00100537648604621553 	-0.00857486094001503295 	0.0014183364908354893 	0.00779028400638433292 	0.0107715494732272214 	0.0110326988617241439 	-0.00901334626340149873 	-0.00387799214547862245 	-0.00230720040427873562 	0.000256380375565748214 	0.000419927959661204188 	0.000527364086741303703 	-0.001595243!
 91287246608 	-0.0076566933826778278 	-0.00201338956872734688 	!
 0.008916
10717349773998 	-0.00492588019476571104 	-0.00240272388192210636 	0.00899383373568070354 	0.00202094779099536506 	-0.00233203482051662749 	0.00845518840813633092 	-0.00456789830484366499 	0.00927236344592883947 	0.000431382254701682337 	0.00692583736414298292 	0.00586433371064961143 	-0.00744023043615439552 	0.0111956952692525424 	0.00678182668483380286 	-0.00339477021191207651 	
 ]
 ;
 bias = 2 [ -0.0323078363819910008 0.032307836381991098 ] ;
 input_size = 100 ;
 output_size = 2 ;
 name = &quot;GradNNetLayerModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *9 -&gt;PRandom(
@@ -195,12 +199,14 @@
 *10 -&gt;SoftmaxModule(
 input_size = 2 ;
 name = &quot;SoftmaxModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
 ] ;
 n_modules = 2 ;
 name = &quot;ModuleStackModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -211,6 +217,7 @@
 input_size = 2 ;
 output_size = 1 ;
 name = &quot;NLLCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -219,6 +226,7 @@
 input_size = 2 ;
 output_size = 1 ;
 name = &quot;ClassErrorCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -229,6 +237,7 @@
 input_size = 2 ;
 output_size = 3 ;
 name = &quot;CombiningCostsModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -238,6 +247,7 @@
 input_size = 100 ;
 output_size = 1 ;
 name = &quot;NLLCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/global_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-0/split_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0/final_learner.psave
===================================================================
--- trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0/final_learner.psave	2007-06-07 14:43:22 UTC (rev 7549)
+++ trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/Split0/final_learner.psave	2007-06-07 15:42:58 UTC (rev 7550)
@@ -19,6 +19,7 @@
 input_size = 2 ;
 output_size = 2 ;
 name = &quot;RBMBinomialLayer&quot; ;
+use_fast_approximations = 0 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3 -&gt;PRandom(
@@ -33,116 +34,117 @@
 ;
 gibbs_ma_increment = 0.100000000000000006 ;
 gibbs_initial_ma_coefficient = 0.100000000000000006 ;
-bias = 100 [ -4.32711526727717022 -4.3372701645486238 0.0884972513670912592 0.093104715836575605 0.0841804577845747803 0.0884423692492627839 0.0882859838041619716 0.0861706449956606002 0.0897606441010612016 0.0917997185462621212 0.0862172150073365617 0.0914492689853110274 0.0832344574341433024 0.0846255461316875041 0.0868979334356979743 0.0902140465230860805 0.0913138521627375882 0.0839526766363259125 0.0885437376916390906 0.0832835086330831614 0.0917704045377616684 0.0900370148671758574 0.0865570415437719454 0.0889061535637738626 0.0901933883949007226 0.0838551264647667549 0.0852683942355133145 0.0835320783360215119 0.0903033950528041307 0.0873495022725012532 0.0877663854611010485 0.0936361074968803386 0.0855698088882395069 0.09419432614006161 0.0842970734238651653 0.0849357771997706762 0.0891822142770180987 0.0874879941894524393 0.0935054566357249317 0.0882701258129414273 0.0917743293773878865 0.086154371844172295 0.0906792393721227302 0.0889428130004461526 0.091844875169!
 0769255 0.0838195887654502175 0.0886733457025641741 0.0829929657926603837 0.0880565159446428936 0.0841799095124265567 0.0842893022098406275 0.0830294042875595883 0.0837011826816979054 0.0852232267568197588 0.0899532197532659367 0.0894885518089337112 0.0958346480546612006 0.0857821218519718431 0.0914478410021243027 0.0910177787617019729 0.0888371373050060309 0.0863973972481843489 0.0859149352705648878 0.0911501112497726806 0.0935250257635063392 0.0888385233716558337 0.0921673857226443793 0.0874503485910435585 0.0886068150786280956 0.0832175599229860452 0.0923866976451308552 0.0904643653202136383 0.0902225674836392155 0.090163267675610545 0.0893460787478880109 0.0927602015627450316 0.0860875669223204326 0.0866369147670916218 0.0897427212560572424 0.0911794384643066641 0.0878912474958726958 0.0870217265658022876 0.089368170197947544 0.0939061363420257145 0.0859158022475398353 0.0952932285977265842 0.0894471842536392336 0.087739556635745064 0.0887800292092797427 0.0913084084576!
 754745 0.0893526585736332812 0.0890067708000333441 0.084833906!
 87493384
82 0.0872732569112319445 0.0863292264483929705 0.0887496467528825772 0.0841889624230460348 0.0885658836328168386 0.088839997890117095 0.0920015433771734364 ] ;
+bias = 100 [ -4.32711526727717022 -4.3372701645486238 0.0884972513670912453 0.0931047158365755634 0.0841804577845747942 0.0884423692492627839 0.0882859838041619854 0.0861706449956605863 0.0897606441010612016 0.0917997185462621629 0.0862172150073365201 0.0914492689853110274 0.0832344574341433024 0.0846255461316875179 0.086897933435698016 0.0902140465230860666 0.0913138521627376021 0.0839526766363259125 0.0885437376916390906 0.0832835086330831892 0.0917704045377616545 0.0900370148671758574 0.0865570415437719592 0.0889061535637738487 0.0901933883949007087 0.083855126464766741 0.0852683942355133007 0.083532078336021498 0.0903033950528041307 0.087349502272501281 0.0877663854611010485 0.0936361074968803525 0.0855698088882395069 0.0941943261400616239 0.0842970734238651792 0.0849357771997706346 0.0891822142770181264 0.0874879941894524393 0.0935054566357249178 0.0882701258129414135 0.0917743293773878727 0.0861543718441722672 0.0906792393721227302 0.0889428130004461664 0.091844875169!
 0769255 0.0838195887654502175 0.088673345702564188 0.0829929657926603698 0.0880565159446428936 0.0841799095124265706 0.0842893022098406414 0.0830294042875595467 0.0837011826816978638 0.0852232267568197449 0.0899532197532659367 0.0894885518089336696 0.0958346480546612284 0.0857821218519718293 0.0914478410021243027 0.0910177787617019729 0.0888371373050060309 0.0863973972481843211 0.0859149352705649016 0.0911501112497726668 0.0935250257635063392 0.0888385233716558198 0.0921673857226444071 0.0874503485910435724 0.0886068150786281233 0.0832175599229860452 0.0923866976451308552 0.0904643653202136522 0.0902225674836392155 0.0901632676756105172 0.089346078747887997 0.0927602015627450316 0.0860875669223204326 0.086636914767091594 0.0897427212560572563 0.0911794384643066502 0.0878912474958726958 0.0870217265658023015 0.089368170197947544 0.0939061363420257006 0.0859158022475398631 0.0952932285977266119 0.0894471842536392059 0.0877395566357450918 0.0887800292092797427 0.09130840845767!
 55023 0.089352658573633309 0.0890067708000333718 0.08483390687!
 49338343
 0.0872732569112319445 0.0863292264483929844 0.0887496467528825772 0.0841889624230460348 0.0885658836328168247 0.088839997890117095 0.0920015433771734364 ] ;
 input_size = 100 ;
 output_size = 100 ;
 name = &quot;RBMMultinomialLayer&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
 ] ;
 connections = 1 [ *5 -&gt;RBMMatrixConnection(
 weights = 100  2  [ 
--1.24792831633213641 	-1.39735089256445977 	
--1.26139566256338598 	-1.38981579762817442 	
-0.0761048699587760225 	0.00801901792621092548 	
--0.0437362423957267585 	0.0100258312296207294 	
-0.122341829544572858 	0.0843382980897796758 	
-0.100681906572919172 	-0.014297912333214367 	
-0.104194045090286055 	-0.0139423394592549255 	
-0.132369740996299834 	0.0170023995994674701 	
-0.0833785830127285188 	-0.0326773524247471192 	
--0.0326950623956562547 	0.0326269485130347633 	
-0.0983250247890316426 	0.0495618447986045374 	
--0.0492018798408611416 	0.0594823721799443497 	
-0.109567946177656472 	0.125725738863893627 	
-0.0840674972530368603 	0.110534760298992382 	
-0.123127060198002722 	0.00537144577668967425 	
-0.0499502891283985506 	-0.0115941354457338875 	
-0.0106130835455938329 	-0.000502204039447324223 	
-0.129155197592288162 	0.0843559859284681857 	
-0.0555094106422285502 	0.0279252235392405644 	
-0.131579496299484344 	0.102446402857112651 	
-0.014620781956967692 	-0.0165110880938397452 	
--0.0152098035716024937 	0.0611314970453571208 	
-0.0756480514037247004 	0.0624429547810556387 	
-0.0943313046294627644 	-0.0209162148785304799 	
--0.0387538020308657027 	0.0831676274390826531 	
+-1.24792831633213597 	-1.39735089256445932 	
+-1.2613956625633862 	-1.38981579762817375 	
+0.0761048699587760225 	0.00801901792621093762 	
+-0.0437362423957267515 	0.0100258312296207363 	
+0.122341829544572872 	0.0843382980897796897 	
+0.100681906572919158 	-0.0142979123332143618 	
+0.104194045090286028 	-0.0139423394592549325 	
+0.132369740996299834 	0.0170023995994674736 	
+0.0833785830127285188 	-0.0326773524247471261 	
+-0.0326950623956562686 	0.0326269485130347772 	
+0.0983250247890316564 	0.0495618447986045443 	
+-0.0492018798408611485 	0.0594823721799443636 	
+0.109567946177656486 	0.125725738863893627 	
+0.0840674972530368464 	0.110534760298992382 	
+0.12312706019800275 	0.00537144577668966644 	
+0.0499502891283985229 	-0.0115941354457338875 	
+0.0106130835455938467 	-0.000502204039447316742 	
+0.129155197592288079 	0.0843559859284681718 	
+0.0555094106422285502 	0.0279252235392405679 	
+0.131579496299484372 	0.102446402857112664 	
+0.0146207819569676885 	-0.0165110880938397521 	
+-0.0152098035716024798 	0.0611314970453571208 	
+0.0756480514037247004 	0.0624429547810556249 	
+0.0943313046294627644 	-0.0209162148785304661 	
+-0.0387538020308656958 	0.0831676274390826392 	
 0.111079692147122572 	0.106413612787671669 	
-0.0844859003750914883 	0.0909281536163424886 	
-0.110255534107209494 	0.117569964096915225 	
-0.0503402481910374122 	-0.0145363440385552316 	
-0.0882877347052690303 	0.0278747608862448711 	
-0.13579989243262322 	-0.0293047418304829138 	
--0.0208853376616612921 	-0.0270185613474963199 	
-0.0903303247636411122 	0.0767358706059570739 	
--0.049995372117030687 	-0.0111852725638232134 	
-0.0922451774733284713 	0.112807474834139387 	
-0.0557920505124698887 	0.131762040536686248 	
--0.0156166793851998647 	0.0854223662886001156 	
-0.121727203196954167 	-0.00852357251789233848 	
--0.0308060743325063342 	-0.0136561429394114215 	
-0.0233263322247821737 	0.0694023941057379939 	
-0.0405156370159508172 	-0.0424488523830184247 	
-0.0652001999783928116 	0.0848180390433775633 	
-0.0479443611943429771 	-0.0216705924806779616 	
--0.0520331275937088236 	0.133010909353283829 	
-0.0295060359707902987 	-0.0331018324098504776 	
-0.0973891803189232685 	0.121966636503981637 	
-0.0223348997781607182 	0.058958206082786728 	
-0.119610467943873061 	0.123597553887780973 	
-0.000476921336380212797 	0.09935506894421757 	
-0.116236242367810105 	0.0912979105807741331 	
+0.0844859003750915022 	0.0909281536163425025 	
+0.110255534107209507 	0.117569964096915211 	
+0.0503402481910374192 	-0.0145363440385552298 	
+0.0882877347052690442 	0.0278747608862448884 	
+0.13579989243262322 	-0.0293047418304829208 	
+-0.0208853376616612955 	-0.0270185613474963164 	
+0.0903303247636411538 	0.0767358706059570739 	
+-0.04999537211703068 	-0.0111852725638231943 	
+0.0922451774733284852 	0.112807474834139387 	
+0.0557920505124698748 	0.13176204053668622 	
+-0.0156166793851998647 	0.085422366288600074 	
+0.121727203196954181 	-0.00852357251789235063 	
+-0.0308060743325063273 	-0.013656142939411418 	
+0.0233263322247821842 	0.0694023941057379939 	
+0.0405156370159508103 	-0.0424488523830184525 	
+0.0652001999783928532 	0.0848180390433775772 	
+0.0479443611943429562 	-0.0216705924806779755 	
+-0.0520331275937088097 	0.133010909353283802 	
+0.0295060359707903092 	-0.0331018324098504846 	
+0.0973891803189232824 	0.121966636503981624 	
+0.0223348997781607252 	0.058958206082786721 	
+0.119610467943873047 	0.123597553887780973 	
+0.000476921336380206943 	0.0993550689442175561 	
+0.116236242367810105 	0.0912979105807741886 	
 0.132418046816531965 	0.0714706742660448091 	
-0.123533091063945707 	0.118700555327761512 	
-0.133945660716787401 	0.0871316762245619159 	
-0.0986966479771140132 	0.0772562696165317586 	
+0.123533091063945721 	0.118700555327761526 	
+0.133945660716787401 	0.087131676224561902 	
+0.0986966479771140132 	0.0772562696165317725 	
 0.0928489721357925596 	-0.0461591939206654617 	
-0.0674164705057713337 	-0.00995972789837363745 	
--0.0457363065061925367 	-0.0558365841657046738 	
+0.0674164705057713198 	-0.00995972789837364786 	
+-0.0457363065061925228 	-0.0558365841657046599 	
 0.0569120685437913346 	0.104659972014240071 	
-0.0144387081701442752 	-0.00799004058277002355 	
-0.0405014545351480917 	-0.0224470511098674094 	
-0.0156885394621569529 	0.0607053011427125255 	
-0.0385488185786774309 	0.106453340415823924 	
-0.0923477123362821534 	0.0638716009610263702 	
-0.0305985475582649033 	-0.0161337302924452197 	
--0.0503582362547266432 	0.00626888950394193043 	
--0.0403763892900047203 	0.122732268245548823 	
-0.0285286154269412222 	-0.0403524371964778528 	
-0.0505460324818351181 	0.0628354760976757298 	
-0.0524402592962677425 	0.0292665783345892501 	
-0.131792667337911978 	0.103591992774134042 	
+0.0144387081701442682 	-0.00799004058277001834 	
+0.0405014545351480848 	-0.022447051109867406 	
+0.0156885394621569495 	0.0607053011427125325 	
+0.0385488185786774379 	0.10645334041582398 	
+0.0923477123362821395 	0.0638716009610263563 	
+0.0305985475582648929 	-0.0161337302924452024 	
+-0.0503582362547266155 	0.0062688895039419313 	
+-0.0403763892900047272 	0.122732268245548809 	
+0.0285286154269412187 	-0.0403524371964778528 	
+0.0505460324818351181 	0.0628354760976757576 	
+0.0524402592962677147 	0.0292665783345892605 	
+0.131792667337911978 	0.103591992774134056 	
 0.0348344614551319917 	-0.0519031455810079895 	
--0.0405527523441988128 	0.0773380740705313791 	
--0.0154457459363229466 	0.0563698254393016143 	
-0.0355900832138369774 	0.00386744655745153596 	
-0.0656871478796531155 	-0.00408206902396727068 	
-0.00206405204327912055 	-0.0282454046662434892 	
-0.0902178471958940686 	0.0620365098886469582 	
-0.110386287835553543 	0.0255196613515526888 	
+-0.0405527523441988058 	0.0773380740705313652 	
+-0.0154457459363229466 	0.0563698254393016004 	
+0.0355900832138369844 	0.00386744655745152946 	
+0.0656871478796531016 	-0.00408206902396727328 	
+0.00206405204327912793 	-0.0282454046662434823 	
+0.0902178471958940686 	0.0620365098886469374 	
+0.110386287835553584 	0.0255196613515526888 	
 0.107379950901278345 	-0.0551879644255911656 	
--0.0230972154790073589 	0.0387229438492729394 	
-0.0444493219797162872 	0.0577741337594893933 	
-0.0816879272017193153 	0.0433059394724301938 	
--0.0320513493983501305 	0.0988418390166333621 	
--0.0336787933731876529 	-0.020710249645373352 	
-0.100614235785147138 	0.0558074948349462988 	
--0.0385665850321436701 	-0.0497831257878785238 	
-0.0713897633525990144 	-0.011968020460012975 	
-0.0264864934157091371 	0.0803429688797962643 	
-0.0527857984995237089 	0.0241688198442964533 	
--0.0372283475335263223 	0.0509203961830493809 	
-0.0107724740413416009 	0.0520979069590651045 	
-0.0576485034783195821 	0.0133097617517652107 	
-0.0706270442107162638 	0.118412798126190044 	
-0.0567206293871870618 	0.0621572219754824226 	
-0.0201604733232439125 	0.127871237627920936 	
-0.0895405314619520526 	-0.0116162226188489415 	
-0.0979661989894221319 	0.109552112759567388 	
--0.0133191795274148917 	0.100124728352003464 	
-0.0933963703177931454 	-0.0181627406802816124 	
-0.0294391786966599553 	-0.0367752161076390013 	
+-0.0230972154790073485 	0.0387229438492729464 	
+0.044449321979716315 	0.0577741337594893656 	
+0.0816879272017193014 	0.0433059394724301799 	
+-0.0320513493983501443 	0.0988418390166333621 	
+-0.033678793373187646 	-0.0207102496453733416 	
+0.100614235785147152 	0.0558074948349463126 	
+-0.0385665850321436632 	-0.0497831257878785238 	
+0.0713897633525990005 	-0.0119680204600129698 	
+0.026486493415709144 	0.0803429688797962643 	
+0.0527857984995237159 	0.0241688198442964464 	
+-0.0372283475335263153 	0.0509203961830493809 	
+0.0107724740413416079 	0.0520979069590650906 	
+0.057648503478319589 	0.0133097617517652072 	
+0.0706270442107162499 	0.118412798126190016 	
+0.0567206293871870756 	0.0621572219754823949 	
+0.020160473323243909 	0.127871237627920936 	
+0.0895405314619520387 	-0.0116162226188489346 	
+0.0979661989894221458 	0.109552112759567374 	
+-0.0133191795274148882 	0.100124728352003506 	
+0.0933963703177931454 	-0.0181627406802816228 	
+0.0294391786966599518 	-0.0367752161076390013 	
 ]
 ;
 gibbs_ma_schedule = []
@@ -157,6 +159,7 @@
 input_size = 2 ;
 output_size = 100 ;
 name = &quot;RBMMatrixConnection&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *6 -&gt;PRandom(
@@ -178,14 +181,15 @@
 L1_penalty_factor = 0 ;
 L2_penalty_factor = 0 ;
 weights = 2  100  [ 
-0.0532386934498691039 	0.080626291410914 	-0.00322832263047528618 	-0.00910343074055995106 	0.000362212364114244121 	-0.0097499114166556787 	-0.00553090895961826957 	0.00203960694798923942 	-0.00690742803008835993 	-0.00394282619132612332 	0.0076661302644176893 	-0.0110215495992722432 	-0.0092472474209955649 	-0.00930398259817479673 	-0.0102344772667839652 	-0.00069601406606644052 	-0.00720779799897976973 	-0.00411788273161691355 	0.00709460022217443288 	-0.0038394426807942519 	-0.00933301520711203071 	-0.0014059560481970222 	-0.0115574854661330828 	-0.00373112402975689155 	0.00573110929815871979 	-0.00379954945814822828 	-0.00882869991630134444 	0.00553558683983973367 	-0.008310844063386379 	0.00652472469292016567 	0.00612490476129661301 	0.00142932511701680137 	-0.00199249906965874969 	-0.00874289066291808817 	0.00070810547166986473 	-0.00145190000566321892 	-0.00887602388839884258 	0.00757538439212778435 	-0.00083985907401753579 	0.000533248145951293207 	-0.0101225850172!
 894268 	-0.00660073099196189974 	-0.00452815842694289251 	0.00528765362002427998 	-0.000826747184378847982 	0.00322234347196983508 	0.00185752294625763747 	0.0011579056263633172 	-0.00787045050184466237 	-0.00335996956149444206 	0.00229723571371282529 	0.00504812464862783306 	-0.0109458737169871017 	-0.0111640298400931398 	0.00314859000401088119 	-0.010733386362684583 	-0.0099049628398422615 	-0.00252614321577472253 	-0.00276674250666862241 	0.00208774392453802034 	-0.00600209242006417062 	0.00262090610153620576 	-0.000361770208588623127 	0.00685332269176408982 	-0.00706721837785403463 	0.000315119951773163635 	0.00605543728940713746 	-0.0110544512908535425 	-0.00178970847570510063 	-0.0107338376993417629 	-0.00439294534012347332 	0.00496981016904087317 	0.00609072055761557003 	-0.0094892060786338165 	0.00821754095252105222 	0.00432696950688535222 	0.00487749096412092194 	-0.00741430702567230215 	-0.0111183804980227972 	-0.00145075801315799045 	0.00701661058502487094 	-0.00!
 903557532195551488 	0.00408713070637454264 	-0.004623164359064!
 14726 	0
.00550622837347920779 	-0.00274284051463609098 	0.00719964435159268969 	-0.000287628302747019787 	-0.000843487492493124485 	0.00859268413927025132 	0.00423301492662385252 	-0.00153895089395540544 	-0.000865210986956572504 	0.000232639542571764704 	-0.0114273613766537781 	0.0049815735378366862 	-0.00963711400233785431 	0.00411475321119588767 	-0.0039944488654932624 	0.00278501374815411009 	
--0.0520704852577663635 	-0.0720099785336388437 	0.00855327026891241488 	0.00256137368085467693 	0.00966773460663913203 	-0.00702625656653354299 	0.00804041437309091674 	0.0091973716909279548 	0.00433207859487812468 	-0.00549671079834038612 	0.0100638932705507927 	0.00245268478060984901 	0.00792565278503957853 	8.21142182019163135e-05 	0.00506714656774250906 	0.00951648896823437118 	0.00377202674322583238 	0.00343926532684308249 	0.00859143848707118879 	-0.00143083087427590722 	0.00450945688123279183 	0.00250107776527749891 	0.000754472478534290491 	0.00982217356681956699 	-0.00666156656700028684 	-0.00667464465315429408 	0.000294507627075601302 	-0.0039631881986930545 	0.00812795147635048294 	0.00607255939126580789 	-0.00233121261021206321 	-0.00345640859402216501 	-0.00597310617065646178 	0.0105646380525400863 	-0.00550924909835233834 	0.000743181659231372709 	-0.0074342344703180914 	0.0023690461183857041 	0.00349668191190673303 	-0.00660353514075127761 	-0.000413742368054!
 145467 	0.00750974509869004048 	0.00359064306012041789 	0.0112315221618441811 	0.00191514279203658074 	-0.00266908634654002041 	-0.000752204862829785074 	0.00522384984952284793 	0.00360425538155473507 	-0.00615876480420723092 	0.00296152177229528409 	0.00466300887242236325 	-0.004452949305855298 	0.00403813026723639362 	-0.00443644224566854158 	0.0026578631352313759 	0.00626920687621874539 	0.00861989030539164758 	0.0108246877329877689 	-0.00804917984137160786 	0.00969176548806604046 	0.0085143854767119314 	0.0103005394792546022 	0.00294127258703543674 	0.0067191538835347734 	0.00522731423676414068 	0.0102287747149861774 	0.00560620886959162148 	0.00125129794062288292 	0.00165939963870793614 	-0.00828607092868862208 	0.00174189046412734599 	0.00813909223674941923 	0.0111347269762160014 	0.0114204459533517721 	-0.00872668527598998399 	-0.00335734403632461254 	-0.00181801059335338347 	0.000599815417894182979 	0.000740816574758738585 	0.000972331592010053391 	-0.00111573694545!
 227136 	-0.00730086795481763896 	-0.00175818408229077715 	0.00!
 94422687
1049019811 	-0.00470023682608601296 	-0.00202050902250264274 	0.00943717337066829129 	0.00243318830031040434 	-0.0020230490115992106 	0.00884127313892139541 	-0.00416451049044531257 	0.00984195794749967087 	0.0009010739701096563 	0.00741039736017155316 	0.00626670424648849596 	-0.00683428938783131341 	0.0115880698121158966 	0.00717734592101487798 	-0.00309087678492820641 	
+0.053238693449869097 	0.0806262914109139861 	-0.00322832263047528444 	-0.0091034307405599528 	0.000362212364114244175 	-0.00974991141665568217 	-0.00553090895961827218 	0.00203960694798924419 	-0.00690742803008835907 	-0.00394282619132612245 	0.00766613026441769277 	-0.011021549599272245 	-0.00924724742099556664 	-0.00930398259817479673 	-0.0102344772667839687 	-0.000696014066066441171 	-0.00720779799897976366 	-0.00411788273161691094 	0.00709460022217443462 	-0.00383944268079425407 	-0.00933301520711202551 	-0.00140595604819702198 	-0.0115574854661330828 	-0.00373112402975689502 	0.00573110929815871806 	-0.00379954945814822871 	-0.00882869991630134097 	0.00553558683983973367 	-0.00831084406338638421 	0.0065247246929201622 	0.00612490476129661041 	0.00142932511701680202 	-0.00199249906965874666 	-0.00874289066291807949 	0.000708105471669862236 	-0.00145190000566321697 	-0.00887602388839884258 	0.00757538439212778955 	-0.000839859074017534706 	0.000533248145951293207 	-0.010!
 122585017289425 	-0.006600730991961898 	-0.00452815842694289077 	0.00528765362002428258 	-0.000826747184378848416 	0.00322234347196983725 	0.00185752294625764376 	0.00115790562636331872 	-0.0078704505018446589 	-0.00335996956149444293 	0.00229723571371282442 	0.00504812464862783739 	-0.0109458737169870982 	-0.0111640298400931398 	0.00314859000401087989 	-0.0107333863626845761 	-0.00990496283984226497 	-0.00252614321577472297 	-0.00276674250666862197 	0.00208774392453801947 	-0.00600209242006417235 	0.00262090610153620359 	-0.000361770208588622748 	0.00685332269176408115 	-0.00706721837785403203 	0.000315119951773165207 	0.00605543728940713833 	-0.0110544512908535408 	-0.00178970847570509976 	-0.0107338376993417629 	-0.00439294534012347158 	0.00496981016904086883 	0.00609072055761556916 	-0.0094892060786338113 	0.00821754095252104876 	0.00432696950688535569 	0.00487749096412092194 	-0.00741430702567230475 	-0.011118380498022792 	-0.00145075801315798915 	0.0070166105850248761!
 5 	-0.00903557532195551315 	0.00408713070637453744 	-0.0046231!
 64359064
14899 	0.00550622837347921126 	-0.00274284051463609185 	0.00719964435159268709 	-0.000287628302747018974 	-0.000843487492493124051 	0.00859268413927025305 	0.00423301492662385512 	-0.00153895089395540523 	-0.000865210986956573697 	0.000232639542571767957 	-0.0114273613766537781 	0.0049815735378366836 	-0.00963711400233785605 	0.00411475321119588507 	-0.00399444886549325893 	0.00278501374815410966 	
+-0.0520704852577664259 	-0.072009978533638816 	0.00855327026891241141 	0.00256137368085467649 	0.00966773460663913377 	-0.00702625656653353865 	0.00804041437309092194 	0.0091973716909279548 	0.00433207859487812468 	-0.00549671079834038699 	0.0100638932705507892 	0.00245268478060985074 	0.007925652785039582 	8.2114218201916571e-05 	0.00506714656774250906 	0.00951648896823437118 	0.00377202674322583281 	0.00343926532684308336 	0.00859143848707118879 	-0.00143083087427590722 	0.00450945688123279009 	0.00250107776527749674 	0.000754472478534290274 	0.00982217356681956526 	-0.00666156656700028771 	-0.00667464465315429755 	0.000294507627075602169 	-0.00396318819869305537 	0.00812795147635048988 	0.00607255939126580702 	-0.00233121261021206711 	-0.00345640859402216458 	-0.00597310617065646351 	0.0105646380525400863 	-0.00550924909835233834 	0.000743181659231372058 	-0.00743423447031809313 	0.00236904611838570497 	0.00349668191190673173 	-0.00660353514075127067 	-0.0004137423680541!
 4525 	0.00750974509869004048 	0.00359064306012042006 	0.0112315221618441846 	0.00191514279203657987 	-0.0026690863465400191 	-0.00075220486282978811 	0.00522384984952284966 	0.00360425538155473811 	-0.00615876480420723439 	0.00296152177229528453 	0.00466300887242236325 	-0.00445294930585530147 	0.00403813026723639189 	-0.00443644224566854591 	0.00265786313523137634 	0.00626920687621874192 	0.00861989030539164758 	0.0108246877329877655 	-0.00804917984137160265 	0.00969176548806604046 	0.00851438547671192966 	0.0103005394792546022 	0.00294127258703543544 	0.00671915388353477427 	0.00522731423676413808 	0.0102287747149861774 	0.00560620886959161801 	0.00125129794062288401 	0.00165939963870793657 	-0.00828607092868861861 	0.00174189046412734513 	0.00813909223674941749 	0.0111347269762160014 	0.011420445953351779 	-0.00872668527598998052 	-0.00335734403632461471 	-0.00181801059335338542 	0.000599815417894180702 	0.000740816574758737609 	0.000972331592010054584 	-0.00111573694545!
 227201 	-0.00730086795481763289 	-0.00175818408229077628 	0.00!
 94422687
1049019638 	-0.0047002368260860147 	-0.00202050902250264187 	0.00943717337066829302 	0.00243318830031040477 	-0.00202304901159921406 	0.00884127313892139541 	-0.00416451049044531257 	0.00984195794749967087 	0.000901073970109655432 	0.00741039736017155316 	0.00626670424648849683 	-0.00683428938783130994 	0.0115880698121159 	0.00717734592101487625 	-0.00309087678492820641 	
 ]
 ;
-bias = 2 [ -0.0480886388473655974 0.0480886388473659929 ] ;
+bias = 2 [ -0.0480886388473655835 0.0480886388473659929 ] ;
 input_size = 100 ;
 output_size = 2 ;
 name = &quot;GradNNetLayerModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *9 -&gt;PRandom(
@@ -195,12 +199,14 @@
 *10 -&gt;SoftmaxModule(
 input_size = 2 ;
 name = &quot;SoftmaxModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
 ] ;
 n_modules = 2 ;
 name = &quot;ModuleStackModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -211,6 +217,7 @@
 input_size = 2 ;
 output_size = 1 ;
 name = &quot;NLLCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -219,6 +226,7 @@
 input_size = 2 ;
 output_size = 1 ;
 name = &quot;ClassErrorCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -229,6 +237,7 @@
 input_size = 2 ;
 output_size = 3 ;
 name = &quot;CombiningCostsModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -238,6 +247,7 @@
 input_size = 100 ;
 output_size = 1 ;
 name = &quot;NLLCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/global_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-1-1/split_stats.pmat
===================================================================
(Binary files differ)

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-0/Split0/final_learner.psave
===================================================================
--- trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-0/Split0/final_learner.psave	2007-06-07 14:43:22 UTC (rev 7549)
+++ trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-0/Split0/final_learner.psave	2007-06-07 15:42:58 UTC (rev 7550)
@@ -19,6 +19,7 @@
 input_size = 2 ;
 output_size = 2 ;
 name = &quot;RBMBinomialLayer&quot; ;
+use_fast_approximations = 0 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3 -&gt;PRandom(
@@ -33,116 +34,117 @@
 ;
 gibbs_ma_increment = 0.100000000000000006 ;
 gibbs_initial_ma_coefficient = 0.100000000000000006 ;
-bias = 100 [ -3.67929816976774804 -3.66824487525477094 0.0750909232339263683 0.0795841166700319153 0.0708342668804167186 0.0750421938062638266 0.0749057540871664318 0.07281350621284427 0.0763556633275116886 0.0782689083009728281 0.0728246431246861031 0.0779183009350939149 0.069900033259396116 0.0712420215383051392 0.073542444248528932 0.0767792116507820116 0.0778439304287265044 0.0706109057057301009 0.0751034493617696725 0.0699400576141234881 0.0783087691931432239 0.0765286316068690131 0.073159353333281496 0.0755157467085580958 0.0766351376284479802 0.070479449352692139 0.0718806226985668067 0.0701457067916425731 0.0768776599755876117 0.0739384583091209358 0.074377412917112945 0.0801217793115618082 0.0721628274764351402 0.0806814897703578837 0.0708951835495260363 0.0715097933984782524 0.0756688379895598257 0.0740952778784406269 0.0799916253106679881 0.0747857117152906786 0.0783304419111606337 0.0727520148249376497 0.0772393904668482317 0.0753918317216105277 0.07838219159449!
 7691 0.0704261841624362062 0.0751946302171443148 0.0696449037214908473 0.0745767703531106385 0.070806479283302623 0.0709348311649994623 0.0696759908129132854 0.0703636071845372274 0.0718591719674553236 0.0765280528752297073 0.0760744758082740474 0.0823326087023871639 0.0723685391237849779 0.0779853133866276194 0.0775462066951605328 0.0753792470513584278 0.0729536446087890034 0.0725329279936358651 0.0776784049340394911 0.0800016351796151021 0.0753005795642522208 0.0787062629788652796 0.0740323485729651315 0.0751659610584929916 0.0698937309834748721 0.0789209919201119547 0.0769177427996143859 0.0767115469459719035 0.076730475615456234 0.0759158170119265813 0.079254120119077634 0.0726706650970279228 0.0732572878386490711 0.076356245513700613 0.0776622930565265546 0.0744300500286751571 0.0736199596196006334 0.0758170804080609134 0.0803895298645544015 0.0725294734781802286 0.0817744617003312163 0.0760032369969883548 0.0742856132339138608 0.0753395223184903928 0.07775838377451359!
 25 0.0758727019124877528 0.075561348375963483 0.07143844998902!
 13659 0.
0738360175084723652 0.0728876094213855852 0.0753375538997586996 0.070809484771196099 0.0750639894616385306 0.0754455419716839742 0.0785276661645328 ] ;
+bias = 100 [ -3.67929816976774715 -3.6682448752547705 0.0750909232339263683 0.0795841166700318875 0.0708342668804167325 0.0750421938062638405 0.0749057540871664457 0.07281350621284427 0.0763556633275116747 0.0782689083009728281 0.072824643124686117 0.0779183009350939287 0.0699000332593961438 0.0712420215383051392 0.073542444248528932 0.0767792116507820255 0.0778439304287265182 0.0706109057057301009 0.0751034493617696863 0.069940057614123502 0.0783087691931432239 0.0765286316068690409 0.0731593533332815099 0.0755157467085580819 0.0766351376284480079 0.070479449352692139 0.0718806226985668345 0.0701457067916425731 0.0768776599755875978 0.0739384583091209219 0.0743774129171129589 0.0801217793115617943 0.0721628274764351541 0.0806814897703578976 0.0708951835495260224 0.0715097933984782386 0.0756688379895598395 0.0740952778784406407 0.0799916253106679881 0.0747857117152906925 0.0783304419111606476 0.0727520148249376497 0.0772393904668482456 0.0753918317216105416 0.07838219159449!
 77049 0.0704261841624362062 0.0751946302171443287 0.0696449037214908612 0.0745767703531106385 0.070806479283302623 0.0709348311649994623 0.0696759908129132854 0.0703636071845372135 0.0718591719674553375 0.0765280528752296935 0.0760744758082740613 0.0823326087023871778 0.0723685391237849779 0.0779853133866276332 0.0775462066951605189 0.0753792470513583723 0.0729536446087890172 0.0725329279936358651 0.0776784049340394772 0.0800016351796151021 0.0753005795642522346 0.0787062629788652934 0.0740323485729651176 0.0751659610584930055 0.0698937309834748999 0.0789209919201119686 0.0769177427996144136 0.0767115469459718896 0.0767304756154562617 0.0759158170119265813 0.0792541201190776479 0.0726706650970279366 0.0732572878386490989 0.0763562455137006407 0.0776622930565265407 0.0744300500286751709 0.0736199596196006473 0.0758170804080609273 0.0803895298645543877 0.0725294734781802286 0.0817744617003312024 0.0760032369969883548 0.0742856132339138747 0.0753395223184904345 0.0777583837745!
 135925 0.0758727019124877389 0.0755613483759634968 0.071438449!
 98902137
98 0.0738360175084723652 0.0728876094213855713 0.0753375538997586996 0.0708094847711961267 0.0750639894616385306 0.0754455419716839742 0.0785276661645328 ] ;
 input_size = 100 ;
 output_size = 100 ;
 name = &quot;RBMMultinomialLayer&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
 ] ;
 connections = 1 [ *5 -&gt;RBMMatrixConnection(
 weights = 100  2  [ 
--0.520385419257819781 	-0.607667740189380523 	
--0.547335303272597051 	-0.574510722075016744 	
-0.0504029420063143579 	-0.0174374020209189066 	
+-0.52038541925781967 	-0.607667740189380523 	
+-0.547335303272597051 	-0.574510722075016633 	
+0.0504029420063143857 	-0.0174374020209189032 	
 -0.0726720177154327324 	-0.0166870493884907455 	
-0.0985284220175968173 	0.0611863005277123242 	
-0.0754034367023085489 	-0.0400349156555762711 	
-0.0789734219571437829 	-0.0396774616380166784 	
-0.108170790392739927 	-0.00765013072823587503 	
-0.0574395119975671942 	-0.0591070156090361884 	
--0.061007039891299214 	0.00667184762083029067 	
-0.0736287540104566957 	0.0253895592031331205 	
+0.0985284220175968173 	0.0611863005277123173 	
+0.0754034367023085489 	-0.0400349156555762642 	
+0.078973421957143769 	-0.0396774616380166784 	
+0.108170790392739913 	-0.00765013072823586982 	
+0.0574395119975671803 	-0.0591070156090361745 	
+-0.061007039891299214 	0.0066718476208302898 	
+0.0736287540104566957 	0.0253895592031331274 	
 -0.0777417566768631441 	0.033988152696632544 	
-0.0857932600234043719 	0.10336889613750673 	
-0.0595732996791215608 	0.0876320649751073794 	
-0.0985639370941749221 	-0.0196922373217131783 	
-0.0233660805474359655 	-0.0378252019980260187 	
+0.085793260023404358 	0.10336889613750673 	
+0.0595732996791215677 	0.0876320649751073655 	
+0.0985639370941749221 	-0.0196922373217131852 	
+0.023366080547435969 	-0.0378252019980260118 	
 -0.0169121891224506757 	-0.0268755261362537863 	
-0.105509436301355383 	0.0612729979063185298 	
-0.0295185514598919028 	0.00279503185259740924 	
+0.105509436301355369 	0.0612729979063185229 	
+0.0295185514598919063 	0.00279503185259742009 	
 0.108172318468795839 	0.0798166168810517801 	
--0.0129827416114516904 	-0.043273012491637404 	
--0.0427436926119571375 	0.0360769453606456375 	
-0.0504779492722270892 	0.0383236706034821711 	
-0.0687895317968882092 	-0.0469326547384686793 	
--0.0666313507642620623 	0.0584517370219266724 	
+-0.0129827416114516835 	-0.043273012491637404 	
+-0.0427436926119571375 	0.0360769453606456306 	
+0.0504779492722270823 	0.0383236706034821642 	
+0.0687895317968882231 	-0.0469326547384686793 	
+-0.0666313507642620761 	0.0584517370219266724 	
 0.0872457685108091324 	0.0837080805890952351 	
 0.0598201510048938442 	0.0675784349064649376 	
-0.0865288471252173008 	0.0951316360468640737 	
-0.0237140180718280573 	-0.0408629407609415601 	
-0.0631379942820747275 	0.00308499348420874066 	
-0.111272744450818944 	-0.0550198793991546892 	
--0.0495399255127684443 	-0.0544110084214884521 	
+0.0865288471252173008 	0.0951316360468640598 	
+0.0237140180718280608 	-0.0408629407609415601 	
+0.0631379942820747275 	0.00308499348420874673 	
+0.111272744450818958 	-0.0550198793991546961 	
+-0.0495399255127684165 	-0.0544110084214884313 	
 0.0657230040930184001 	0.0531562468007424349 	
 -0.0793895470235106288 	-0.0385651446308253806 	
 0.0680320003763357217 	0.0900858662837026314 	
-0.0308277344266279299 	0.109102377743976534 	
--0.0428935242523314705 	0.0609697782115297265 	
-0.0970561821731235064 	-0.0338666308471151228 	
+0.0308277344266279264 	0.10910237774397652 	
+-0.0428935242523314775 	0.0609697782115297127 	
+0.0970561821731235064 	-0.0338666308471151159 	
 -0.0596192092162303872 	-0.0408316442859519985 	
--0.00304223746333419842 	0.0449917804586676198 	
-0.0133410948519769677 	-0.0696020236616901877 	
-0.039977823239458643 	0.0611241954582473629 	
-0.0212044378814250332 	-0.0481804311018778769 	
+-0.00304223746333419452 	0.0449917804586676268 	
+0.0133410948519769729 	-0.0696020236616901877 	
+0.03997782323945865 	0.0611241954582473629 	
+0.0212044378814250263 	-0.0481804311018778769 	
 -0.0798320840154110589 	0.109307593668522079 	
-0.00216013628189292914 	-0.0601016310390021097 	
-0.0733821940828805058 	0.099497308314277666 	
--0.00418577457569986513 	0.034267274973199667 	
-0.0961049167980579933 	0.101328682742033521 	
--0.0262656255829718105 	0.0753752819357316889 	
-0.0923863548467529772 	0.0682949741016277007 	
+0.00216013628189293694 	-0.0601016310390021027 	
+0.0733821940828805336 	0.099497308314277666 	
+-0.00418577457569986339 	0.0342672749731996601 	
+0.0961049167980579794 	0.101328682742033507 	
+-0.0262656255829718105 	0.0753752819357317028 	
+0.0923863548467529772 	0.0682949741016277145 	
 0.108756281771888105 	0.0481458386888888659 	
-0.100093215436711416 	0.0963736142319992356 	
-0.110441408196684354 	0.0641597539760613289 	
-0.0742272888131287473 	0.0536989130170025392 	
+0.100093215436711402 	0.0963736142319992356 	
+0.11044140819668434 	0.064159753976061315 	
+0.0742272888131287334 	0.0536989130170025461 	
 0.0670662090171207786 	-0.0727680558490813728 	
-0.0412975622692688671 	-0.0359736262889523289 	
--0.07553369573227528 	-0.0843988974337768205 	
+0.0412975622692688532 	-0.035973626288952322 	
+-0.0755336957322752522 	-0.0843988974337767928 	
 0.031683218853364746 	0.0813611862515050827 	
--0.0130739435676640071 	-0.0345269882482395971 	
-0.0136140272169084781 	-0.0489930421672095315 	
--0.0110617238790147124 	0.0359297344246217523 	
-0.0128932585850817134 	0.0830364377215482702 	
-0.0676125872825022595 	0.039953970286474183 	
-0.00349451945220510905 	-0.042645481572695855 	
--0.0795372606084337602 	-0.0206274492374718503 	
--0.0679556269290350762 	0.0989090112668678245 	
-0.00106926327384114094 	-0.0675641733945039902 	
-0.0247260524176569838 	0.0384630055092971893 	
-0.0263782253284606909 	0.00413268501827161912 	
-0.108363320390186396 	0.0809527489082843138 	
-0.00744067734895160083 	-0.0793276345356500878 	
--0.0685828648959103254 	0.0524331672735785029 	
--0.0430299179219996233 	0.0311991517220432529 	
-0.00875455007682278755 	-0.0221527377393929692 	
-0.0396190903019199014 	-0.0299243858711141751 	
+-0.0130739435676640054 	-0.034526988248239604 	
+0.0136140272169084763 	-0.0489930421672095315 	
+-0.011061723879014709 	0.0359297344246217523 	
+0.0128932585850817186 	0.0830364377215482841 	
+0.0676125872825022733 	0.039953970286474183 	
+0.00349451945220510861 	-0.0426454815726958619 	
+-0.0795372606084337741 	-0.0206274492374718434 	
+-0.0679556269290350762 	0.0989090112668678106 	
+0.00106926327384114202 	-0.0675641733945039902 	
+0.0247260524176569838 	0.0384630055092971754 	
+0.026378225328460677 	0.00413268501827163039 	
+0.108363320390186382 	0.0809527489082843277 	
+0.00744067734895159909 	-0.0793276345356500878 	
+-0.0685828648959103254 	0.0524331672735784751 	
+-0.0430299179219996233 	0.0311991517220432564 	
+0.00875455007682279102 	-0.0221527377393929761 	
+0.0396190903019198737 	-0.0299243858711141855 	
 -0.0259299398002285457 	-0.0553743962254750755 	
-0.0654815998567056939 	0.0381233449386994203 	
-0.0857406226041131786 	0.000868266886166540347 	
-0.0818156967821113135 	-0.0819606571238428866 	
--0.0510867284702254815 	0.0130209282921754654 	
-0.0185073534397708732 	0.0332937538289315854 	
-0.0564972252169523848 	0.0187982842748549012 	
+0.0654815998567056939 	0.0381233449386994272 	
+0.0857406226041131925 	0.000868266886166538395 	
+0.0818156967821113412 	-0.0819606571238428866 	
+-0.0510867284702254815 	0.0130209282921754724 	
+0.0185073534397708767 	0.0332937538289315785 	
+0.0564972252169523639 	0.0187982842748548977 	
 -0.0595800360354162978 	0.0745776702050969659 	
--0.0626526219961449915 	-0.0481068295040314869 	
-0.0760290724928658762 	0.0318015323295316593 	
--0.0680175615269424105 	-0.0780292036804604849 	
-0.0454265273931732799 	-0.0379064295013739685 	
-0.000245257330670842243 	0.0561754669591406422 	
-0.0266789063222490318 	-0.00109026801003190839 	
--0.0654262101077237451 	0.0254095633358379092 	
--0.0161558737254881811 	0.0270927473390010463 	
-0.0315749936922243846 	-0.0121516449151251368 	
-0.0458707558030447271 	0.0955607640219145738 	
-0.0311126203336938266 	0.0378846159519728512 	
--0.00581538096481792107 	0.104733200172821811 	
-0.0640125283786390359 	-0.0373943635204284225 	
+-0.0626526219961449776 	-0.0481068295040314731 	
+0.0760290724928658901 	0.0318015323295316663 	
+-0.0680175615269424244 	-0.0780292036804604988 	
+0.045426527393173266 	-0.0379064295013739616 	
+0.000245257330670841593 	0.0561754669591406422 	
+0.0266789063222490352 	-0.00109026801003190752 	
+-0.065426210107723759 	0.0254095633358379196 	
+-0.0161558737254881811 	0.0270927473390010429 	
+0.0315749936922243776 	-0.0121516449151251385 	
+0.0458707558030447202 	0.0955607640219145738 	
+0.0311126203336938301 	0.0378846159519728373 	
+-0.00581538096481791413 	0.104733200172821811 	
+0.0640125283786390359 	-0.0373943635204284364 	
 0.0738255534250779194 	0.0867777875959012679 	
--0.0404066042800288877 	0.0760341306135597778 	
+-0.0404066042800288808 	0.0760341306135597778 	
 0.0678668982597476489 	-0.0441082122306330204 	
-0.00207766362528058642 	-0.0638437672563030162 	
+0.00207766362528058381 	-0.0638437672563030023 	
 ]
 ;
 gibbs_ma_schedule = []
@@ -157,6 +159,7 @@
 input_size = 2 ;
 output_size = 100 ;
 name = &quot;RBMMatrixConnection&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *6 -&gt;PRandom(
@@ -178,14 +181,15 @@
 L1_penalty_factor = 0 ;
 L2_penalty_factor = 0 ;
 weights = 2  100  [ 
-0.0113262925564693046 	0.00641492602461607182 	-0.00159847381051862942 	-0.00789459485609226956 	0.00244219358215985944 	-0.00812615500197023596 	-0.00389482222121642196 	0.00389091998488833198 	-0.00541050652884287209 	-0.00262556755390811651 	0.00952868237595928119 	-0.00969494151094163654 	-0.00706508174692422036 	-0.00727612306607582256 	-0.00846038975666717902 	0.000773966054525185103 	-0.00583361570628981082 	-0.00201278590637816524 	0.00872572454424036872 	-0.00165701502752675081 	-0.00799891102918076635 	6.47096589051986929e-05 	-0.00973055555769559467 	-0.00215375660638213347 	0.00716715790392904832 	-0.001680404187211998 	-0.00686749154366765591 	0.00769175181889198388 	-0.00685037181174525441 	0.00827079361448006603 	0.00779395048534614783 	0.0026080574091930527 	-5.93787847705065132e-05 	-0.0076190130320924563 	0.00277648344971009181 	0.000531124508030603811 	-0.00733566395363501739 	0.00928862170370055307 	0.000345824306290504408 	0.00218347321736047728 	-0.008!
 79584583154094032 	-0.00473551449789763948 	-0.0031015010128094731 	0.00679600317669165534 	0.000498927731410179305 	0.00534312277919853432 	0.00347021641974513614 	0.00337220069515059215 	-0.00622143586125560415 	-0.00127655934433769662 	0.00436484410802257493 	0.00725999145664699315 	-0.00881265446020709428 	-0.00919797829396393901 	0.00462042560691856407 	-0.00919982500002390277 	-0.00889966122589246761 	-0.000627033368822296744 	-0.00140435990570596876 	0.00348752003687192004 	-0.00440996403305462647 	0.00445091226375020094 	0.0015319941118297879 	0.00824276166398773061 	-0.00589422826971325569 	0.00185054823285728774 	0.00735205392812524408 	-0.00932065008082455515 	-0.000164838547741596135 	-0.00854643924540077551 	-0.00311837434025635969 	0.00638201655108370895 	0.00754628751573688337 	-0.00801299059807394562 	0.00976747753260353083 	0.00557945832622598354 	0.00675698139843258425 	-0.00560185246073486697 	-0.00964174761582759464 	-7.80623115802627968e-05 	0.008710366!
 82392008384 	-0.00725561868064580808 	0.00559531193002933518 	!
 -0.00346
921625696461778 	0.00740028832034525172 	-0.00169509809182802015 	0.00873888335497757969 	0.00140994409075873408 	0.000764624405132731822 	0.00994480655086805825 	0.00577877274202991901 	4.74923655357142787e-05 	0.00113531960691515082 	0.00198775187931363737 	-0.00960880431385865812 	0.00658056776284521652 	-0.00755775334700503447 	0.00570729827446314186 	-0.00240907164842276648 	0.00409745863965042811 	
--0.0101580843643666735 	0.00220138685265899988 	0.00692342144895578479 	0.00135253779638701537 	0.00758775338859351851 	-0.00865001298121899007 	0.00640432763468906825 	0.0073460586540288822 	0.00283515709363264812 	-0.0068139694357583977 	0.0082013411590092164 	0.00112607669227921393 	0.00574348711096823051 	-0.0019457453138970579 	0.00329305905762568817 	0.00804650884764271379 	0.00239784445053587 	0.00133416850160433375 	0.00696031416500525121 	-0.00361325852754340766 	0.00317535270330150622 	0.00103041205817527566 	-0.00107245742990319201 	0.00824480614344477725 	-0.00809761517277060063 	-0.00879378992409048099 	-0.001666700745558108 	-0.00611935317774526567 	0.00666747922470935835 	0.0043264904697058338 	-0.00400025833426162318 	-0.00463514088619843001 	-0.00790622645554470496 	0.0094407604217145117 	-0.00757762707639256846 	-0.00123984285446245295 	-0.00897459440508197558 	0.000655808806812931914 	0.00231099853159869245 	-0.00825376021216044954 	-0.0017404815538026854!
 5 	0.00564452860462577415 	0.00216398564598699284 	0.00972317260517676155 	0.0005894678762475515 	-0.00478986565376872571 	-0.00236489833631728895 	0.00300955478073557494 	0.00195524074096567555 	-0.00824217502136400347 	0.000893913377985541715 	0.00245114206440323265 	-0.00658616856263531496 	0.00207207872110719196 	-0.0059082778485762379 	0.00112430177257065445 	0.00526390526226897665 	0.00672078045843925789 	0.00946230513202510858 	-0.0094489559537055054 	0.00809963710105650672 	0.00668437931449794315 	0.00840677515883614737 	0.00155183361481183758 	0.00554616377539399793 	0.00369188595568001798 	0.00893215807626812457 	0.003872407659562599 	-0.000373571987340624682 	-0.000527998815233036035 	-0.00956064192855578254 	0.00032968408208451953 	0.00668352527862810675 	0.00965851149565612362 	0.00987050937326928828 	-0.00997917409533064133 	-0.00523683447063628092 	-0.00363046515829083816 	-0.000876817464300998911 	-0.000631879126818990543 	-0.000721424646885172405 	-0.002895!
 69358676195973 	-0.00880904917847242369 	-0.002912132184390313!
 35 	0.00
754820876362416199 	-0.00574797924889403674 	-0.00355974802588750888 	0.00773960097716254111 	0.000825076402684549659 	-0.00337517142319696678 	0.00729551532351534193 	-0.00575095374993644676 	0.00784142735362793226 	-0.000854038366632214494 	0.00559184029737643234 	0.00466771002147996564 	-0.00891365004316409248 	0.00999552474884863457 	0.00559196870394438553 	-0.00440332167642452574 	
+0.0113262925564693168 	0.00641492602461605013 	-0.00159847381051862899 	-0.00789459485609227303 	0.00244219358215985814 	-0.0081261550019702377 	-0.00389482222121642152 	0.00389091998488833111 	-0.00541050652884287036 	-0.00262556755390811825 	0.00952868237595928119 	-0.00969494151094163828 	-0.00706508174692422209 	-0.00727612306607582256 	-0.00846038975666718249 	0.000773966054525186621 	-0.00583361570628981342 	-0.00201278590637816437 	0.00872572454424036352 	-0.00165701502752675124 	-0.00799891102918076635 	6.47096589051982863e-05 	-0.00973055555769559294 	-0.00215375660638213173 	0.00716715790392904832 	-0.00168040418721199583 	-0.00686749154366765677 	0.00769175181889198388 	-0.00685037181174525354 	0.00827079361448006777 	0.00779395048534614263 	0.00260805740919305227 	-5.93787847705055239e-05 	-0.00761901303209245716 	0.00277648344971009441 	0.000531124508030605003 	-0.00733566395363501652 	0.00928862170370055307 	0.000345824306290504029 	0.00218347321736047685 	-0.!
 00879584583154094379 	-0.00473551449789763775 	-0.0031015010128094731 	0.00679600317669165795 	0.000498927731410178546 	0.00534312277919853518 	0.00347021641974513528 	0.00337220069515059041 	-0.00622143586125560328 	-0.00127655934433769597 	0.00436484410802257493 	0.00725999145664699228 	-0.00881265446020709255 	-0.00919797829396393728 	0.00462042560691856407 	-0.00919982500002390104 	-0.00889966122589246934 	-0.000627033368822297178 	-0.00140435990570596876 	0.00348752003687191961 	-0.00440996403305462647 	0.00445091226375020181 	0.00153199411182978963 	0.00824276166398772887 	-0.00589422826971325482 	0.00185054823285728731 	0.00735205392812524582 	-0.00932065008082455862 	-0.000164838547741595403 	-0.00854643924540077898 	-0.00311837434025636013 	0.00638201655108370635 	0.00754628751573688424 	-0.00801299059807394388 	0.00976747753260353083 	0.00557945832622598354 	0.00675698139843258164 	-0.00560185246073486524 	-0.00964174761582759464 	-7.80623115802624038e-05 	0.00871!
 036682392008037 	-0.00725561868064580548 	0.005595311930029335!
 18 	-0.0
0346921625696461865 	0.00740028832034525432 	-0.00169509809182802015 	0.00873888335497757102 	0.00140994409075873494 	0.000764624405132729979 	0.00994480655086805825 	0.00577877274202991901 	4.74923655357136959e-05 	0.0011353196069151506 	0.00198775187931363694 	-0.00960880431385865638 	0.00658056776284521566 	-0.00755775334700503273 	0.00570729827446314446 	-0.00240907164842276734 	0.00409745863965042725 	
+-0.0101580843643666804 	0.00220138685265901506 	0.00692342144895578045 	0.00135253779638701581 	0.00758775338859351851 	-0.00865001298121899007 	0.00640432763468906565 	0.0073460586540288822 	0.00283515709363264898 	-0.00681396943575839856 	0.00820134115900921293 	0.00112607669227921393 	0.00574348711096823398 	-0.00194574531389705811 	0.00329305905762568817 	0.00804650884764271553 	0.00239784445053587304 	0.00133416850160433245 	0.00696031416500525382 	-0.00361325852754340766 	0.00317535270330150578 	0.00103041205817527436 	-0.00107245742990319179 	0.00824480614344477378 	-0.00809761517277059889 	-0.00879378992409047752 	-0.001666700745558108 	-0.00611935317774526394 	0.00666747922470936009 	0.00432649046970583293 	-0.00400025833426162231 	-0.00463514088619843348 	-0.0079062264555447067 	0.00944076042171451517 	-0.00757762707639256846 	-0.00123984285446245143 	-0.00897459440508197211 	0.000655808806812932781 	0.00231099853159869245 	-0.00825376021216044781 	-0.001740481553!
 80268415 	0.00564452860462577328 	0.00216398564598699068 	0.00972317260517675808 	0.0005894678762475515 	-0.00478986565376872571 	-0.00236489833631729068 	0.00300955478073557537 	0.00195524074096567512 	-0.008242175021364 	0.000893913377985542366 	0.00245114206440323395 	-0.00658616856263531582 	0.00207207872110719412 	-0.00590827784857623703 	0.0011243017725706564 	0.00526390526226897665 	0.00672078045843925789 	0.00946230513202510858 	-0.00944895595370550713 	0.00809963710105650325 	0.00668437931449794229 	0.00840677515883615084 	0.00155183361481183628 	0.00554616377539399619 	0.00369188595568001928 	0.00893215807626812804 	0.0038724076595626016 	-0.00037357198734062414 	-0.000527998815233036468 	-0.00956064192855578081 	0.000329684082084518717 	0.00668352527862810502 	0.00965851149565611841 	0.00987050937326929348 	-0.0099791740953306448 	-0.00523683447063627659 	-0.00363046515829083902 	-0.000876817464300999236 	-0.000631879126818990543 	-0.000721424646885170237 	-0.002!
 8956935867619593 	-0.00880904917847242369 	-0.0029121321843903!
 1248 	0.
00754820876362416286 	-0.00574797924889403674 	-0.00355974802588750845 	0.00773960097716254198 	0.000825076402684549767 	-0.00337517142319696765 	0.00729551532351534106 	-0.0057509537499364459 	0.00784142735362793053 	-0.000854038366632214711 	0.0055918402973764306 	0.00466771002147996824 	-0.00891365004316409248 	0.00999552474884863457 	0.0055919687039443864 	-0.00440332167642452834 	
 ]
 ;
-bias = 2 [ -0.00274640092009917911 0.00274640092009921337 ] ;
+bias = 2 [ -0.0027464009200991687 0.00274640092009921163 ] ;
 input_size = 100 ;
 output_size = 2 ;
 name = &quot;GradNNetLayerModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *9 -&gt;PRandom(
@@ -195,12 +199,14 @@
 *10 -&gt;SoftmaxModule(
 input_size = 2 ;
 name = &quot;SoftmaxModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
 ] ;
 n_modules = 2 ;
 name = &quot;ModuleStackModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -211,6 +217,7 @@
 input_size = 2 ;
 output_size = 1 ;
 name = &quot;NLLCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -219,6 +226,7 @@
 input_size = 2 ;
 output_size = 1 ;
 name = &quot;ClassErrorCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -229,6 +237,7 @@
 input_size = 2 ;
 output_size = 3 ;
 name = &quot;CombiningCostsModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -238,6 +247,7 @@
 input_size = 100 ;
 output_size = 1 ;
 name = &quot;NLLCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0/final_learner.psave
===================================================================
--- trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0/final_learner.psave	2007-06-07 14:43:22 UTC (rev 7549)
+++ trunk/plearn_learners/online/test/DeepBeliefNet/.pytest/PL_DBN_Mini-batch/expected_results/expdir-dbn-3-1/Split0/final_learner.psave	2007-06-07 15:42:58 UTC (rev 7550)
@@ -19,6 +19,7 @@
 input_size = 2 ;
 output_size = 2 ;
 name = &quot;RBMBinomialLayer&quot; ;
+use_fast_approximations = 0 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3 -&gt;PRandom(
@@ -33,116 +34,117 @@
 ;
 gibbs_ma_increment = 0.100000000000000006 ;
 gibbs_initial_ma_coefficient = 0.100000000000000006 ;
-bias = 100 [ -4.88348781864529524 -4.88377909666199628 0.0998136183975280034 0.105471817501073581 0.0944416603126441712 0.0997535283630023306 0.0995807079469193529 0.0969420280226542391 0.101407798986863071 0.103819719061399696 0.0969561262386221256 0.103379686484071684 0.0932604806258945929 0.0949581076326168616 0.0978612202826870531 0.101940630727569329 0.103281189924958716 0.0941595431112412368 0.0998305935628365643 0.0933123105594512864 0.103865433445130051 0.101629187737637211 0.0973778633969569346 0.100349460306733224 0.101767253426589127 0.0939952628691959613 0.0957642872874144568 0.0935745523905245069 0.102064003256194025 0.098361691863909001 0.0989175053269632093 0.10614746415871347 0.0961217644556267847 0.106849253706285979 0.0945216452223907599 0.0952991047808851438 0.100547639463152691 0.0985605833598848236 0.105983428725311607 0.0994327692125842183 0.103893097444509377 0.0968643024791368407 0.102520198423240214 0.100204431378448755 0.103958775859172015 0.093929!
 0211077105641 0.0999474375184054992 0.0929393923414386508 0.0991701323486275238 0.0944082201173512409 0.0945697106806672877 0.092979164059244182 0.093847082093861306 0.0957359700320323803 0.101626912170330402 0.101052854003951226 0.108921157875693647 0.0963814492151018748 0.103458632943262963 0.10290812806515362 0.100178659212683596 0.0971214500704266626 0.0965871618141980054 0.103073960705580364 0.105996494971855496 0.100087602274505388 0.104366272501995302 0.0984793481047083058 0.0999092875429416216 0.093252358955243822 0.104637234166777962 0.102122172258910154 0.10185947931508095 0.101878379680090225 0.100853886423779154 0.10505724942419796 0.0967631186351052552 0.0975018372905746139 0.101409956557437175 0.103055880161497665 0.0989832218691384935 0.0979591861849546941 0.100737252815511005 0.106483496226710883 0.0965834007256001076 0.108223002610933108 0.100965208043670845 0.0988008819013017625 0.100127932147128867 0.103179296286824859 0.100801354336986601 0.1004078925789!
 24268 0.0952068316396505465 0.0982331855345690008 0.0970389632!
 59577809
6 0.100125690380371446 0.094411978606329508 0.0997856098841084227 0.100261110879061907 0.104142637036895802 ] ;
+bias = 100 [ -4.88348781864529524 -4.8837790966619945 0.0998136183975280172 0.105471817501073567 0.0944416603126441573 0.0997535283630023167 0.0995807079469193807 0.0969420280226542391 0.101407798986863112 0.103819719061399696 0.0969561262386221118 0.103379686484071684 0.0932604806258945512 0.0949581076326168755 0.0978612202826870392 0.101940630727569342 0.103281189924958716 0.0941595431112412506 0.0998305935628365643 0.0933123105594513141 0.103865433445130023 0.101629187737637239 0.0973778633969569346 0.100349460306733224 0.101767253426589127 0.0939952628691959613 0.0957642872874144846 0.0935745523905245069 0.102064003256194066 0.098361691863909001 0.0989175053269632093 0.10614746415871347 0.0961217644556267709 0.106849253706285993 0.0945216452223907322 0.0952991047808851438 0.100547639463152719 0.0985605833598848236 0.105983428725311621 0.0994327692125842322 0.103893097444509405 0.0968643024791368545 0.102520198423240241 0.100204431378448769 0.103958775859172015 0.0939290!
 211077105641 0.099947437518405513 0.0929393923414386647 0.0991701323486275238 0.094408220117351227 0.0945697106806672877 0.0929791640592441959 0.0938470820938613198 0.0957359700320323803 0.101626912170330416 0.101052854003951254 0.108921157875693661 0.0963814492151018887 0.103458632943262935 0.10290812806515362 0.100178659212683582 0.0971214500704266626 0.0965871618141980054 0.103073960705580392 0.105996494971855509 0.100087602274505402 0.104366272501995289 0.0984793481047083058 0.0999092875429416077 0.0932523589552438636 0.104637234166777962 0.10212217225891014 0.10185947931508095 0.101878379680090239 0.100853886423779154 0.105057249424197946 0.0967631186351052691 0.0975018372905746139 0.101409956557437189 0.103055880161497679 0.0989832218691384519 0.0979591861849546941 0.100737252815511033 0.106483496226710855 0.096583400725600066 0.108223002610933108 0.100965208043670873 0.0988008819013017348 0.100127932147128867 0.103179296286824845 0.100801354336986573 0.10040789257892!
 4282 0.0952068316396505326 0.0982331855345689731 0.09703896325!
 95778512
 0.10012569038037146 0.0944119786063295219 0.0997856098841084088 0.100261110879061879 0.104142637036895788 ] ;
 input_size = 100 ;
 output_size = 100 ;
 name = &quot;RBMMultinomialLayer&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
 ] ;
 connections = 1 [ *5 -&gt;RBMMatrixConnection(
 weights = 100  2  [ 
--0.595479171538772722 	-0.64784326563401029 	
--0.6152383374774405 	-0.62664605667428297 	
+-0.595479171538772389 	-0.647843265634009846 	
+-0.615238337477441055 	-0.626646056674283858 	
 0.0538900294397439625 	-0.0137742833948165666 	
--0.06875053142052448 	-0.0128356405145059246 	
-0.101750482831042335 	0.0645179709928756923 	
-0.0788404196343822777 	-0.0363313352895024214 	
-0.0823984677889268713 	-0.0359772385695514424 	
-0.111455643794722073 	-0.0041048261939523184 	
-0.0609652140478198282 	-0.0553056639846301532 	
--0.0571686153486568316 	0.0104202988290012701 	
-0.0769767542086592094 	0.0288702909576745818 	
+-0.06875053142052448 	-0.0128356405145059228 	
+0.101750482831042349 	0.0645179709928756923 	
+0.0788404196343822639 	-0.0363313352895024075 	
+0.0823984677889268713 	-0.0359772385695514493 	
+0.111455643794722045 	-0.00410482619395231754 	
+0.0609652140478198074 	-0.0553056639846301532 	
+-0.0571686153486568316 	0.0104202988290012649 	
+0.0769767542086591816 	0.0288702909576745818 	
 -0.0738826113496724585 	0.0376651648655449978 	
-0.0890025291790312034 	0.10658630388745495 	
-0.0628827179229135558 	0.0909309318538381317 	
-0.10189692292911387 	-0.0160894138207842603 	
-0.0269756763337721632 	-0.0340491698234521578 	
--0.0131781351491743748 	-0.0230764112596843103 	
-0.108709363233458617 	0.0645946658963587189 	
-0.0330446970922479225 	0.00641644683858688409 	
+0.0890025291790311757 	0.10658630388745495 	
+0.0628827179229135558 	0.0909309318538381178 	
+0.10189692292911387 	-0.0160894138207842638 	
+0.0269756763337721528 	-0.0340491698234521578 	
+-0.0131781351491743713 	-0.0230764112596843068 	
+0.108709363233458603 	0.064594665896358705 	
+0.0330446970922479294 	0.00641644683858688929 	
 0.111338474011847738 	0.0830744128480884469 	
--0.00923663549878874814 	-0.039419952693748761 	
--0.0390168467135288966 	0.0396927629301102661 	
-0.053884855284114519 	0.04179601820019576 	
-0.0722589195882538532 	-0.0431916351119050954 	
+-0.00923663549878875507 	-0.039419952693748761 	
+-0.0390168467135288966 	0.039692762930110273 	
+0.053884855284114512 	0.0417960182001957531 	
+0.0722589195882538671 	-0.0431916351119050954 	
 -0.0628580553109818196 	0.0620282656863879525 	
 0.0904696456760091527 	0.0869795013810659712 	
-0.063155692471325367 	0.0709411651936545651 	
-0.089737672806708732 	0.0983663784623535764 	
-0.0273272832467084566 	-0.0370754352212264021 	
-0.0665515477695941549 	0.0066554552858713676 	
-0.114615148493610874 	-0.0513201825260645936 	
--0.0456422913795766633 	-0.0504568195824679211 	
-0.0690561056867186052 	0.0565546631705502456 	
--0.0754060455133410135 	-0.0346219815131878009 	
+0.063155692471325367 	0.070941165193654579 	
+0.089737672806708732 	0.0983663784623535487 	
+0.0273272832467084739 	-0.0370754352212263952 	
+0.0665515477695941687 	0.00665545528587137454 	
+0.114615148493610861 	-0.0513201825260646144 	
+-0.0456422913795766633 	-0.0504568195824679072 	
+0.0690561056867186052 	0.0565546631705502387 	
+-0.0754060455133409996 	-0.0346219815131878009 	
 0.0713063685070573078 	0.0933620354169992783 	
-0.0341980957421883225 	0.112370604562321522 	
--0.0392048865688329473 	0.0645005741897170942 	
-0.100413128501990342 	-0.0302192489756252305 	
--0.0557068816320919549 	-0.0369117849033234677 	
-0.000529733929197445555 	0.0485162644411036431 	
-0.0170355689113608696 	-0.0656936836103067801 	
-0.0433878525009998087 	0.0645360645558576557 	
-0.0248375275797735988 	-0.0443637944730375239 	
--0.0760831140867710143 	0.112732191490474212 	
-0.00587915934077326303 	-0.0562115972021530463 	
-0.0766272396820571744 	0.102736863234715051 	
--0.000592684940426663198 	0.0378303322767531494 	
-0.0992806567766493231 	0.104535562881183208 	
--0.0226534723321051186 	0.078833337275821494 	
-0.0956148861294622843 	0.0716084093953505973 	
+0.0341980957421883225 	0.112370604562321508 	
+-0.0392048865688329473 	0.0645005741897170803 	
+0.100413128501990329 	-0.030219248975625241 	
+-0.0557068816320919549 	-0.0369117849033234746 	
+0.000529733929197459758 	0.0485162644411036431 	
+0.0170355689113608801 	-0.0656936836103067801 	
+0.0433878525009998087 	0.0645360645558576418 	
+0.0248375275797735953 	-0.0443637944730375169 	
+-0.0760831140867710004 	0.112732191490474185 	
+0.00587915934077326736 	-0.0562115972021530394 	
+0.0766272396820571744 	0.102736863234715037 	
+-0.000592684940426658319 	0.0378303322767531494 	
+0.0992806567766492953 	0.104535562881183194 	
+-0.0226534723321051186 	0.0788333372758215217 	
+0.0956148861294622843 	0.071608409395350639 	
 0.111961983119019282 	0.051503114001920508 	
-0.103261697334856059 	0.0995893663062659279 	
+0.103261697334856045 	0.0995893663062659279 	
 0.113622132076437066 	0.0674654151128029206 	
-0.077537126133991538 	0.0570887588626447992 	
-0.0705810984356155524 	-0.0689366435996839194 	
-0.044843023134881678 	-0.0322309100088603792 	
--0.0714869712521966627 	-0.0802860339949844209 	
-0.0350917134068162717 	0.0847180859020596616 	
--0.00934136513864572242 	-0.0307058733146445689 	
+0.0775371261339915241 	0.0570887588626447992 	
+0.0705810984356155524 	-0.0689366435996839055 	
+0.044843023134881671 	-0.0322309100088603862 	
+-0.0714869712521966627 	-0.0802860339949844071 	
+0.0350917134068162787 	0.0847180859020596616 	
+-0.00934136513864572762 	-0.0307058733146445759 	
 0.017274684402242526 	-0.0451641166704254277 	
--0.00744338758825806822 	0.0394987995010958187 	
+-0.00744338758825805347 	0.0394987995010958187 	
 0.01635978807368689 	0.0864131668208693443 	
-0.070961277310940693 	0.043396773338633815 	
-0.00718060967436378282 	-0.0388226740324390598 	
--0.0755833033596572668 	-0.0167504198245917932 	
--0.0642340161003093629 	0.102350333481158032 	
-0.00480424872243435854 	-0.0636443844298318767 	
-0.0282189683208145629 	0.0419719166047329909 	
-0.0299132095892969477 	0.0077544045179868985 	
-0.111530306999090334 	0.0842099709862055845 	
-0.0111726585535115806 	-0.0753750532311086713 	
--0.0647904300854395543 	0.0560328728134857762 	
--0.0392948976134837868 	0.0348323569795132501 	
-0.012391516944369076 	-0.0184093328026520009 	
-0.0431605911084246147 	-0.0262028154072604068 	
--0.0221174993040646715 	-0.0514567367068857959 	
-0.0688357274057207064 	0.0415705062017272323 	
-0.089084785497041255 	0.00441555037709988676 	
-0.0852942013840160274 	-0.0781125130895272968 	
--0.0472940655022145579 	0.0167306727323274437 	
-0.0220238553939347825 	0.0368257958383149744 	
-0.0599111578444758708 	0.0223267883631605574 	
--0.0558570133839886712 	0.0780883336256121968 	
--0.058716698004954028 	-0.0441544608089798341 	
-0.0793606765007453807 	0.0352579600100396198 	
--0.0640094082428914329 	-0.0739527557808974945 	
-0.0489600429692438679 	-0.0341678748008232419 	
-0.00379375700322669715 	0.0596590822724617914 	
-0.0302207297680062159 	0.00254921219936410934 	
--0.0616037449568939341 	0.0290990160924210692 	
--0.0125089212557680796 	0.0306990708174415296 	
-0.0351162640727813863 	-0.00848184184674327137 	
-0.0492138445592737589 	0.0988530120564841547 	
-0.0345815650076597633 	0.0413837339984958752 	
--0.00231189629031252003 	0.1080671288555725 	
-0.0674832518044770763 	-0.0336835252022576678 	
-0.0770889815106832327 	0.0900588562201595916 	
--0.0367474445651055151 	0.0795105696210816892 	
+0.0709612773109407208 	0.0433967733386337942 	
+0.00718060967436377762 	-0.0388226740324390668 	
+-0.0755833033596572668 	-0.0167504198245917793 	
+-0.0642340161003093352 	0.102350333481158032 	
+0.0048042487224343542 	-0.0636443844298318767 	
+0.0282189683208145595 	0.0419719166047329909 	
+0.0299132095892969373 	0.00775440451798690283 	
+0.111530306999090348 	0.0842099709862055845 	
+0.0111726585535115806 	-0.0753750532311086435 	
+-0.0647904300854395682 	0.0560328728134857693 	
+-0.0392948976134838007 	0.0348323569795132501 	
+0.0123915169443690812 	-0.0184093328026520113 	
+0.0431605911084246008 	-0.0262028154072604068 	
+-0.022117499304064675 	-0.0514567367068857959 	
+0.068835727405720748 	0.0415705062017272323 	
+0.0890847854970412689 	0.00441555037709988676 	
+0.0852942013840160274 	-0.0781125130895272829 	
+-0.0472940655022145579 	0.0167306727323274472 	
+0.0220238553939347895 	0.0368257958383149606 	
+0.0599111578444758569 	0.0223267883631605608 	
+-0.055857013383988692 	0.0780883336256121829 	
+-0.058716698004954021 	-0.0441544608089798271 	
+0.0793606765007453946 	0.0352579600100396198 	
+-0.0640094082428914191 	-0.0739527557808974806 	
+0.0489600429692438541 	-0.0341678748008232419 	
+0.00379375700322669976 	0.0596590822724617845 	
+0.0302207297680062124 	0.00254921219936410327 	
+-0.0616037449568939341 	0.0290990160924210796 	
+-0.0125089212557680778 	0.0306990708174415226 	
+0.0351162640727813793 	-0.00848184184674327657 	
+0.049213844559273745 	0.0988530120564841547 	
+0.0345815650076597564 	0.0413837339984958544 	
+-0.00231189629031251787 	0.1080671288555725 	
+0.0674832518044770763 	-0.0336835252022576748 	
+0.0770889815106832049 	0.0900588562201595916 	
+-0.0367474445651055082 	0.0795105696210817031 	
 0.0713351233590624745 	-0.0403765780191503165 	
-0.00580328195072377442 	-0.0599406438638086306 	
+0.00580328195072376662 	-0.0599406438638086306 	
 ]
 ;
 gibbs_ma_schedule = []
@@ -157,6 +159,7 @@
 input_size = 2 ;
 output_size = 100 ;
 name = &quot;RBMMatrixConnection&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *6 -&gt;PRandom(
@@ -178,14 +181,15 @@
 L1_penalty_factor = 0 ;
 L2_penalty_factor = 0 ;
 weights = 2  100  [ 
-0.0123420928014191557 	0.00916499543260136142 	-0.00164506058869937706 	-0.00792958713804811817 	0.00236549116291899161 	-0.00816839208649198199 	-0.00393729201208150355 	0.00383571983020708843 	-0.00544728800267464154 	-0.00266053897009083237 	0.00946810364372980065 	-0.00972470140984709429 	-0.00715049251794375867 	-0.00734869875953185047 	-0.00851045478860876919 	0.000733198497111745766 	-0.00587341695528064214 	-0.00209131432022617624 	0.00867743624742249239 	-0.0017424290544537477 	-0.00803777150919455716 	2.68947234888736322e-05 	-0.00978963001083593166 	-0.00219383685419234338 	0.00713629807466046543 	-0.00176071907009400916 	-0.00693551341442328901 	0.00760840838401072046 	-0.00689064362225262801 	0.00821779551345410038 	0.00775615975335418317 	0.00256994077777214979 	-0.000125487652430558499 	-0.00765557075172304709 	0.00270057028444748272 	0.00046445864750938883 	-0.00737340071900496018 	0.00924350722960627647 	0.000308359129016674426 	0.00213576384551587362 	-0.0!
 088316481921647573 	-0.00479667378996827178 	-0.00314050304959243281 	0.00677359813450965909 	0.000461574357387472775 	0.0052630551506867209 	0.00342377191963190138 	0.00328382212079000564 	-0.00626455935271803908 	-0.0013538271142407624 	0.00428995531271315206 	0.00717178746011403519 	-0.0088934328165411157 	-0.00926633853826809052 	0.00458758045120281812 	-0.00924171707330578331 	-0.00894077273613546816 	-0.000689382609061560837 	-0.00144386531203365576 	0.00344874682264902479 	-0.00445501595657440182 	0.004394399096584377 	0.00146877925949968121 	0.00820337445445518988 	-0.00592893418508044692 	0.00182255472740502585 	0.00731552216505707183 	-0.0093740454197580262 	-0.000212912355459384688 	-0.00863228712512623987 	-0.00315315105065477495 	0.00635133933025240714 	0.00750852663533482529 	-0.00805517934762344651 	0.00972441442848316455 	0.00554144065331621354 	0.0066946947510606019 	-0.00565723229911999602 	-0.00967100372334113619 	-0.00011446669224282846 	0.00865912090766!
 649163 	-0.00731143980482081186 	0.005563065733680898 	-0.0035!
 07002722
15526175 	0.00733748393075391286 	-0.00173505410219775436 	0.0086972297748011216 	0.00136029609347290388 	0.000717391705312010676 	0.00991167438484492555 	0.00573543123204991317 	1.6357813687929368e-06 	0.0010656448048303839 	0.00193302874506671692 	-0.00966095349810980504 	0.00653802734483208657 	-0.00763470234441813913 	0.00566876259818077221 	-0.00244991794631276147 	0.00406053318954284741 	
--0.011173884609316509 	-0.000548682555326316496 	0.00697000822713652116 	0.00138753007834285054 	0.00766445580783437982 	-0.00860777589669724404 	0.00644679742555415245 	0.00740125880871012228 	0.002871938567464418 	-0.00677899801957569919 	0.0082619198912386952 	0.00115583659118469271 	0.00582889788198777143 	-0.00187316962044102499 	0.00334312408956729222 	0.00808727640505616137 	0.00243764569952671997 	0.00141269691545234518 	0.00700860246182310586 	-0.00352784450061643289 	0.00321421318331525842 	0.00106822699359159987 	-0.0010133829767628522 	0.00828488639125499193 	-0.00806675534350202728 	-0.00871347504120848111 	-0.00159867887480246037 	-0.00603600974286399965 	0.00670775103521673542 	0.00437948857073182807 	-0.00396246760226966373 	-0.00459702425477752624 	-0.00784011758788464436 	0.00947731814134509035 	-0.00750171391112993986 	-0.00117317699394124133 	-0.00893685763971203972 	0.000700923280907215672 	0.0023484637088725213 	-0.00820605084031584588 	-0.001704679193!
 17889645 	0.00570568789669640732 	0.00220298768276995212 	0.00974557764735873959 	0.000626821250270258572 	-0.00470979802525691143 	-0.00231845383620405418 	0.00309793335509616231 	0.00199836423242812436 	-0.00816490725146091709 	0.000968802173294958623 	0.00253934606093618453 	-0.006505390206301284 	0.00214043896541134737 	-0.00587543269286049195 	0.00116619384585259201 	0.0053050167725119373 	0.00678312969867851581 	0.00950181053835282355 	-0.00941018273948261187 	0.00814468902457630116 	0.0067408924816637671 	0.00846999001116627986 	0.0015912208243443885 	0.00558086969076118568 	0.00371987946113228442 	0.00896868983933632111 	0.00392580299849605227 	-0.000325498179622836156 	-0.000442150935507603716 	-0.00952586521815736338 	0.000360361302915814029 	0.0067212861590301657 	0.0097007002452056193 	0.00991357247738965976 	-0.00994115642242088086 	-0.00517454782326429597 	-0.00357508531990572255 	-0.000847561356787462027 	-0.000595474746156425408 	-0.000670178730631581176 	-0!
 .00283987246258697937 	-0.00877680298212393101 	-0.00287434571!
 91996672
1 	0.00761101315321550433 	-0.00570802323852433353 	-0.00351809444571104602 	0.00778924897444837824 	0.000872309102505269395 	-0.00334203925717386965 	0.00733885683349534603 	-0.00570509716576950762 	0.00791110215571273409 	-0.000799315232385289817 	0.00564398948162753416 	0.00471025043949309646 	-0.00883670104575096267 	0.0100340604251309921 	0.00563281500183433932 	-0.0043663962263169433 	
+0.0123420928014191765 	0.00916499543260136662 	-0.00164506058869937728 	-0.0079295871380481147 	0.00236549116291899161 	-0.00816839208649198199 	-0.00393729201208150269 	0.00383571983020708452 	-0.00544728800267464067 	-0.00266053897009083237 	0.00946810364372980412 	-0.00972470140984709602 	-0.00715049251794375867 	-0.00734869875953184874 	-0.00851045478860876746 	0.000733198497111746091 	-0.00587341695528064475 	-0.00209131432022617667 	0.00867743624742248892 	-0.00174242905445374857 	-0.00803777150919455716 	2.68947234888729918e-05 	-0.00978963001083593166 	-0.00219383685419234295 	0.00713629807466046717 	-0.0017607190700940085 	-0.00693551341442329074 	0.00760840838401072306 	-0.00689064362225262714 	0.00821779551345409691 	0.00775615975335418317 	0.00256994077777214936 	-0.000125487652430557821 	-0.00765557075172304622 	0.00270057028444748229 	0.00046445864750938921 	-0.00737340071900495931 	0.00924350722960627473 	0.000308359129016673504 	0.00213576384551587232 	-0.00!
 88316481921647573 	-0.00479667378996826745 	-0.00314050304959243194 	0.00677359813450965909 	0.000461574357387472883 	0.0052630551506867209 	0.00342377191963190138 	0.00328382212079000434 	-0.00626455935271804255 	-0.00135382711424076175 	0.00428995531271315379 	0.00717178746011403606 	-0.00889343281654111917 	-0.00926633853826809052 	0.00458758045120281812 	-0.00924171707330578504 	-0.0089407727361354699 	-0.000689382609061561812 	-0.00144386531203365706 	0.00344874682264902609 	-0.00445501595657440443 	0.00439439909658437614 	0.00146877925949968099 	0.00820337445445518988 	-0.00592893418508044692 	0.00182255472740502824 	0.00731552216505707356 	-0.0093740454197580262 	-0.000212912355459383902 	-0.00863228712512624334 	-0.00315315105065477668 	0.00635133933025240193 	0.00750852663533482702 	-0.00805517934762344477 	0.00972441442848316628 	0.00554144065331621267 	0.00669469475106060277 	-0.00565723229911999689 	-0.00967100372334113445 	-0.000114466692242828325 	0.0086591209!
 0766649163 	-0.00731143980482081273 	0.00556306573368089453 	-!
 0.003507
00272215526306 	0.00733748393075391286 	-0.00173505410219775328 	0.0086972297748011216 	0.00136029609347290475 	0.00071739170531200905 	0.00991167438484492555 	0.00573543123204991317 	1.63578136879163428e-06 	0.00106564480483038434 	0.00193302874506671757 	-0.00966095349810980504 	0.00653802734483209004 	-0.00763470234441813479 	0.00566876259818077134 	-0.0024499179463127619 	0.00406053318954284741 	
+-0.0111738846093165402 	-0.000548682555326289933 	0.00697000822713652029 	0.00138753007834285184 	0.00766445580783438156 	-0.00860777589669724057 	0.00644679742555415332 	0.00740125880871012574 	0.00287193856746441843 	-0.00677899801957570006 	0.00826191989123869694 	0.00115583659118469336 	0.00582889788198777056 	-0.00187316962044102651 	0.00334312408956729005 	0.0080872764050561631 	0.00243764569952672171 	0.0014126969154523441 	0.00700860246182310413 	-0.00352784450061643332 	0.00321421318331525842 	0.00106822699359159965 	-0.00101338297676285176 	0.00828488639125498846 	-0.00806675534350202901 	-0.00871347504120848285 	-0.00159867887480246102 	-0.00603600974286399878 	0.00670775103521673542 	0.00437948857073182894 	-0.00396246760226966893 	-0.00459702425477752537 	-0.00784011758788464089 	0.00947731814134509208 	-0.00750171391112994246 	-0.00117317699394124133 	-0.00893685763971203626 	0.000700923280907214804 	0.00234846370887252 	-0.00820605084031584935 	-0.00170467919!
 317889645 	0.00570568789669640558 	0.00220298768276994995 	0.00974557764735873785 	0.000626821250270257813 	-0.00470979802525691143 	-0.00231845383620405462 	0.00309793335509616187 	0.00199836423242812523 	-0.00816490725146091882 	0.000968802173294960032 	0.0025393460609361854 	-0.00650539020630128747 	0.00214043896541134824 	-0.00587543269286049108 	0.00116619384585259374 	0.0053050167725119373 	0.00678312969867851494 	0.00950181053835282008 	-0.00941018273948261708 	0.00814468902457629769 	0.00674089248166376623 	0.00846999001116628507 	0.00159122082434438785 	0.00558086969076118829 	0.00371987946113228485 	0.00896868983933631937 	0.00392580299849605227 	-0.000325498179622835126 	-0.000442150935507603228 	-0.00952586521815736165 	0.000360361302915812836 	0.0067212861590301631 	0.00970070024520561756 	0.00991357247738965976 	-0.0099411564224208826 	-0.00517454782326429424 	-0.00357508531990571995 	-0.00084756135678746181 	-0.000595474746156425842 	-0.000670178730631579441 !
 	-0.00283987246258698067 	-0.00877680298212392754 	-0.00287434!
 57191996
6764 	0.00761101315321550259 	-0.00570802323852433267 	-0.00351809444571104472 	0.00778924897444837998 	0.000872309102505270263 	-0.00334203925717386661 	0.00733885683349534863 	-0.00570509716576950762 	0.00791110215571273062 	-0.000799315232385290142 	0.00564398948162753589 	0.00471025043949309472 	-0.00883670104575096267 	0.0100340604251309938 	0.00563281500183433759 	-0.00436639622631694244 	
 ]
 ;
-bias = 2 [ -0.00391578848611695649 0.00391578848611705884 ] ;
+bias = 2 [ -0.00391578848611695736 0.00391578848611706665 ] ;
 input_size = 100 ;
 output_size = 2 ;
 name = &quot;GradNNetLayerModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *9 -&gt;PRandom(
@@ -195,12 +199,14 @@
 *10 -&gt;SoftmaxModule(
 input_size = 2 ;
 name = &quot;SoftmaxModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
 ] ;
 n_modules = 2 ;
 name = &quot;ModuleStackModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -211,6 +217,7 @@
 input_size = 2 ;
 output_size = 1 ;
 name = &quot;NLLCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -219,6 +226,7 @@
 input_size = 2 ;
 output_size = 1 ;
 name = &quot;ClassErrorCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -229,6 +237,7 @@
 input_size = 2 ;
 output_size = 3 ;
 name = &quot;CombiningCostsModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )
@@ -238,6 +247,7 @@
 input_size = 100 ;
 output_size = 1 ;
 name = &quot;NLLCostModule&quot; ;
+use_fast_approximations = 1 ;
 estimate_simpler_diag_hessian = 0 ;
 expdir = &quot;&quot; ;
 random_gen = *3   )

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/PL_DBN_Mini-batch.pyplearn
===================================================================
--- trunk/plearn_learners/online/test/DeepBeliefNet/PL_DBN_Mini-batch.pyplearn	2007-06-07 14:43:22 UTC (rev 7549)
+++ trunk/plearn_learners/online/test/DeepBeliefNet/PL_DBN_Mini-batch.pyplearn	2007-06-07 15:42:58 UTC (rev 7550)
@@ -85,7 +85,8 @@
             layers = [
                 pl.RBMBinomialLayer(
                     learning_rate = rbm_lr,
-                    size = input_size
+                    size = input_size,
+                    use_fast_approximations = False
                 ),
 
                 pl.RBMMultinomialLayer(

Modified: trunk/plearn_learners/online/test/DeepBeliefNet/pytest.config
===================================================================
--- trunk/plearn_learners/online/test/DeepBeliefNet/pytest.config	2007-06-07 14:43:22 UTC (rev 7549)
+++ trunk/plearn_learners/online/test/DeepBeliefNet/pytest.config	2007-06-07 15:42:58 UTC (rev 7550)
@@ -102,7 +102,7 @@
         ),
     arguments = &quot;PL_DBN_Mini-batch.pyplearn&quot;,
     resources = [ &quot;PL_DBN_Mini-batch.pyplearn&quot; ],
-    precision = 1e-03,
+    precision = 1e-06,
     pfileprg = &quot;__program__&quot;,
     disabled = False
     )


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000998.html">[Plearn-commits] r7549 - branches
</A></li>
	<LI>Next message: <A HREF="001000.html">[Plearn-commits] r7551 - in branches/cgi-desjardin: commands	commands/PLearnCommands plearn/base plearn/io plearn/sys	plearn/vmat plearn_learners plearn_learners/hyper	plearn_learners/online plearn_learners/second_iteration scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#999">[ date ]</a>
              <a href="thread.html#999">[ thread ]</a>
              <a href="subject.html#999">[ subject ]</a>
              <a href="author.html#999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plearn-commits">More information about the Plearn-commits
mailing list</a><br>
</body></html>
